var ns=Object.defineProperty;var rs=(e,t,n)=>t in e?ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var S=(e,t,n)=>rs(e,typeof t!="symbol"?t+"":t,n);import{j as c,O as lr,R as ss,c as is,a as as,b as H,d as os}from"./router-HN5EHAsr.js";import{a as cs,R as N,r as $,g as Ze,d as Oe,c as Le}from"./react-B0Mogulq.js";import{M as ls,u as ds,C as Z,I as us,_ as Ct,a as dr,b as gs,d as ps,S as hs}from"./mantine-reKHhM81.js";import{R as ct,L as an,a as lt,B as ms,C as on,X as cn,Y as ln,T as dn,b as fs}from"./charts-6H_0gcD4.js";import{t as vs,f as xs,V as ys}from"./utils-D6vW3VTF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ur,un=cs;ur=un.createRoot,un.hydrateRoot;const _s="modulepreload",bs=function(e){return"/"+e},gn={},ws=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=bs(l),l in gn)return;gn[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":_s,d||(g.as="script"),g.crossOrigin="",g.href=l,o&&g.setAttribute("nonce",o),document.head.appendChild(g),d)return new Promise((p,h)=>{g.addEventListener("load",p),g.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Ts=function(){return null},gr=N.createContext({serviceLocator:{getStore:()=>({getStoreData:()=>({}),subscribe:()=>()=>{}}),getAPIs:()=>({navigationApi:{routes:{home:"",trainings:"",menu:"",createTraining:"",createExercise:"",editNewExercise:"",editExistingExercise:"",openTraining:"",openExercise:""}}})}}),F=(e,t)=>{if(typeof e!="object")throw new Error("First argument in `connect` function is mandatory");if(typeof e.controller!="function")throw new Error("`params.controller` property in `connect` function is mandatory");if(!Array.isArray(e.controller.storeDataAccessors))throw new Error("Controller doesn't have mandatory static property 'storeDataAccessors'");return n=>{class r extends N.Component{constructor(a,o){super(a);S(this,"unsubscribe");S(this,"controller");S(this,"stateToProps");S(this,"_update",()=>{this.stateToProps=t(this.controller),this.forceUpdate()});this.controller=e.controller(o.serviceLocator),this.stateToProps=t(this.controller);const l=o.serviceLocator.getStore();e.controller.storeDataAccessors.length&&(this.unsubscribe=l.subscribe(this._update,e.controller.storeDataAccessors))}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){return c.jsx(n,{...this.props,...this.stateToProps})}}return S(r,"contextType",gr),r}},le=e=>{if(typeof e!="function")throw new Error("`getInfo` argument in `requireData` function is mandatory");const t=e({});if(!!!(Object.prototype.hasOwnProperty.call(t,"isData")&&Object.prototype.hasOwnProperty.call(t,"onNoData")))throw new Error("return value of `getInfo()` in `requireData` lacks data!");return r=>{class i extends N.Component{componentDidMount(){this.check()}check(){const{isData:a,onNoData:o}=e(this.props);a||o()}render(){const{isData:a}=e(this.props);return a?N.createElement(r,this.props):null}}return i}},Ss=()=>{const e=window,t=navigator.userAgent||navigator.vendor||e.opera;return!!(/iPad|iPhone|iPod/.test(t)&&!e.MSStream||navigator.maxTouchPoints>0&&/Macintosh/.test(t))};function Es(e,t=1e3){let n=0,r=!1;function i(s){r||(s-n>=t&&(n=s,e()),requestAnimationFrame(i))}return requestAnimationFrame(i),()=>{r=!0}}const De=e=>{const t=-e.getTimezoneOffset(),n=t>=0?"+":"-",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return e.toISOString().replace("Z",`${n}${r}:${i}`)},$t=e=>{const{authApi:t,trainingsApi:n,notificationsApi:r}=e.getAPIs(),i=e.getStore(),s=()=>i.getStoreData($t.storeDataAccessors),a=o=>s().completedTrainings.find(l=>l.id===o);return{isAuthenticated:()=>s().auth.isAuthenticated,signin:async(o,l)=>{try{await t.signin(o,l)}catch(d){r.addNotification({type:"error",message:d.message||"Sigin failed. Double check your credentials!"})}},signup:async(o,l)=>{try{await t.signup(o,l)}catch(d){r.addNotification({type:"error",message:d.message||"Signup failed. Double check your credentials!"})}},getCompletedTrainings:()=>s().completedTrainings.sort((o,l)=>new Date(l.timestamptz).getTime()-new Date(o.timestamptz).getTime()),onDeleteCompletedTraining:async o=>{const l=a(o);if(!l)throw new Error(`Training with ID "${o}" doesn't exist!`);window.confirm(`Do you really want to delete "${l.name}"?`)&&await n.delete.completedTraining(l.id)},getDateAndTime:o=>({date:n.create.datePreview(o),time:n.create.timePreview(o)}),createSetsPreview:o=>n.create.setsPreview(o.map(l=>({...l,done:!0})))}};$t.storeDataAccessors=["auth","completedTrainings"];const ce=e=>$.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 284.011 284.011",xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"M235.732,66.214l-28.006-13.301l1.452-3.057c6.354-13.379,0.639-29.434-12.74-35.789L172.316,2.611 c-6.48-3.079-13.771-3.447-20.532-1.042c-6.76,2.406-12.178,7.301-15.256,13.782l-1.452,3.057L107.07,5.106 c-14.653-6.958-32.239-0.698-39.2,13.955L60.7,34.155c-1.138,2.396-1.277,5.146-0.388,7.644c0.89,2.499,2.735,4.542,5.131,5.68 l74.218,35.25h-98.18c-2.797,0-5.465,1.171-7.358,3.229c-1.894,2.059-2.839,4.815-2.607,7.602l13.143,157.706 c1.53,18.362,17.162,32.745,35.588,32.745h73.54c18.425,0,34.057-14.383,35.587-32.745l11.618-139.408l28.205,13.396 c1.385,0.658,2.845,0.969,4.283,0.969c3.74,0,7.328-2.108,9.04-5.712l7.169-15.093C256.646,90.761,250.386,73.175,235.732,66.214z M154.594,23.931c0.786-1.655,2.17-2.905,3.896-3.521c1.729-0.614,3.59-0.521,5.245,0.267l24.121,11.455 c3.418,1.624,4.878,5.726,3.255,9.144l-1.452,3.057l-36.518-17.344L154.594,23.931z M169.441,249.604 c-0.673,8.077-7.55,14.405-15.655,14.405h-73.54c-8.106,0-14.983-6.328-15.656-14.405L52.35,102.728h129.332L169.441,249.604z M231.62,96.835l-2.878,6.06L83.057,33.701l2.879-6.061c2.229-4.695,7.863-6.698,12.554-4.469l128.661,61.108 C231.845,86.509,233.85,92.142,231.62,96.835z"})),Cs="_screen_1xw2f_1",$s="_authForm_1xw2f_8",As="_authFormHeader_1xw2f_22",Ds="_authField_1xw2f_29",js="_authLabel_1xw2f_35",Ns="_authInput_1xw2f_40",Ps="_authActions_1xw2f_55",ks="_authSubmit_1xw2f_63",Bs="_authToggleButton_1xw2f_68",Is="_trainings_1xw2f_76",Os="_training_1xw2f_76",Ls="_trainingDate_1xw2f_90",Rs="_trainingBoxWrapper_1xw2f_95",Ms="_trainingBox_1xw2f_95",Fs="_trainingDelete_1xw2f_113",Hs="_trainingBoxHeader_1xw2f_117",zs="_trainingName_1xw2f_125",Us="_expandIndicator_1xw2f_129",Ws="_exerciseList_1xw2f_135",Gs="_expanded_1xw2f_142",qs="_exerciseRow_1xw2f_148",Vs="_exerciseName_1xw2f_158",Ks="_exerciseSets_1xw2f_162",B={screen:Cs,authForm:$s,authFormHeader:As,authField:Ds,authLabel:js,authInput:Ns,authActions:Ps,authSubmit:ks,authToggleButton:Bs,trainings:Is,training:Os,trainingDate:Ls,trainingBoxWrapper:Rs,trainingBox:Ms,trainingDelete:Fs,trainingBoxHeader:Hs,trainingName:zs,expandIndicator:Us,exerciseList:Ws,expanded:Gs,exerciseRow:qs,exerciseName:Vs,exerciseSets:Ks};var pr={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var o=n.apply(null,s);o&&r.push(o)}}else if(a==="object")if(s.toString===Object.prototype.toString)for(var l in s)t.call(s,l)&&s[l]&&r.push(l);else r.push(s.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(pr);var Xs=pr.exports;const G=Ze(Xs),pn=({title:e,onSubmit:t})=>{const[n,r]=N.useState(""),[i,s]=N.useState(""),a=o=>{o.preventDefault(),t({email:n,password:i})};return c.jsxs("form",{onSubmit:a,className:B.authForm,children:[c.jsx("h3",{className:B.authFormHeader,children:e}),c.jsxs("div",{className:B.authField,children:[c.jsx("label",{className:B.authLabel,htmlFor:"email",children:"Email:"}),c.jsx("input",{className:B.authInput,type:"email",id:"email",value:n,onChange:o=>r(o.target.value)})]}),c.jsxs("div",{className:B.authField,children:[c.jsx("label",{className:B.authLabel,htmlFor:"password",children:"Password:"}),c.jsx("input",{className:B.authInput,type:"password",id:"password",value:i,onChange:o=>s(o.target.value)})]}),c.jsx("div",{className:B.authActions,children:c.jsx(D,{type:"submit",className:B.authSubmit,skin:"primary",size:"medium","data-testid":"auth-submit-button",children:"Submit"})})]})},Zs=e=>{const{isAuthenticated:t,signin:n,signup:r,onDeleteCompletedTraining:i,createSetsPreview:s}=e,[a,o]=N.useState(null),l=p=>{o(h=>h===p?null:p)},[d,u]=N.useState(!0),g=()=>{const{completedTrainings:p,getDateAndTime:h}=e;return c.jsxs(c.Fragment,{children:[c.jsx("h3",{style:{textAlign:"center"},children:"Recent Trainings"}),c.jsx("ul",{className:B.trainings,"data-testid":"completed-trainings-list",children:p.map(m=>{const _=a===m.id;return c.jsxs("li",{className:B.training,"data-testid":"completed-training-item",children:[c.jsx("div",{className:B.trainingDate,children:h(m.timestamptz).date}),c.jsxs("div",{className:B.trainingBoxWrapper,children:[c.jsx(D,{skin:"icon",size:"medium",className:B.trainingDelete,onClick:()=>i(m.id),"data-testid":"delete-completed-training-button",children:c.jsx(ce,{})}),c.jsxs("div",{className:B.trainingBox,children:[c.jsxs("div",{className:B.trainingBoxHeader,"aria-expanded":_,children:[c.jsx("div",{className:G({[B.trainingName]:_}),children:m.name}),c.jsx(D,{className:B.expandIndicator,skin:"text",size:"medium",onClick:()=>l(m.id),"aria-expanded":_,"data-testid":"toggle-completed-training-details-button",children:_?"ðŸ“–":"ðŸ“—"})]}),c.jsx("div",{className:G(B.exerciseList,{[B.expanded]:_,[B.collapsed]:!_}),children:m.exercises.map(x=>c.jsxs("div",{className:B.exerciseRow,children:[c.jsx("div",{className:B.exerciseName,children:x.name}),c.jsx("div",{className:B.exerciseSets,children:s(x.sets)})]},x.id))})]})]})]},m.id)})})]})};return c.jsx(X,{bottomBar:c.jsx(he,{}),dataTestId:"home-screen",children:c.jsxs("div",{className:B.screen,children:[!t&&c.jsxs(c.Fragment,{children:[d?c.jsx(pn,{title:"Sign In",onSubmit:({email:p,password:h})=>n(p,h)}):c.jsx(pn,{title:"Sign Up",onSubmit:({email:p,password:h})=>r(p,h)}),c.jsx(D,{className:B.authToggleButton,skin:"text",size:"medium",onClick:()=>u(p=>!p),"data-testid":"toggle-form-type-button",children:d?"Go to Sign Up":"Go to Sign In"})]}),g()]})})},Js=F({controller:$t},e=>({isAuthenticated:e.isAuthenticated(),completedTrainings:e.getCompletedTrainings(),onDeleteCompletedTraining:e.onDeleteCompletedTraining,signin:e.signin,signup:e.signup,getDateAndTime:e.getDateAndTime,createSetsPreview:e.createSetsPreview}))(Zs),At=e=>{const{getStoreData:t}=e.getStore(),{navigationApi:n,trainingsApi:r}=e.getAPIs(),i=()=>t(At.storeDataAccessors),s=a=>i().trainings.find(o=>o.id===a);return{getTrainings:()=>i().trainings,onAddTraining:()=>{r.create.newTraining();const a=i().newTraining;a!=null&&a.id&&n.toCreateTraining(a.id)},onDeleteTraining:a=>{const o=s(a);if(!o)throw new Error(`Training with ID "${a}" doesn't exist!`);window.confirm(`Do you really want to delete "${o.name}"?`)&&r.delete.training(a)},onOpenTraining:a=>{n.toTraining(a)}}};At.storeDataAccessors=["trainings","newTraining"];const Ys=e=>$.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 489.8 489.8",xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"M438.2,0H51.6C23.1,0,0,23.2,0,51.6v386.6c0,28.5,23.2,51.6,51.6,51.6h386.6c28.5,0,51.6-23.2,51.6-51.6V51.6 C489.8,23.2,466.6,0,438.2,0z M465.3,438.2c0,14.9-12.2,27.1-27.1,27.1H51.6c-14.9,0-27.1-12.2-27.1-27.1V51.6 c0-14.9,12.2-27.1,27.1-27.1h386.6c14.9,0,27.1,12.2,27.1,27.1V438.2z"}),$.createElement("path",{d:"M337.4,232.7h-80.3v-80.3c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3v80.3h-80.3c-6.8,0-12.3,5.5-12.3,12.2 c0,6.8,5.5,12.3,12.3,12.3h80.3v80.3c0,6.8,5.5,12.3,12.3,12.3s12.3-5.5,12.3-12.3v-80.3h80.3c6.8,0,12.3-5.5,12.3-12.3 C349.7,238.1,344.2,232.7,337.4,232.7z"})),Qs="_screen_1cql9_1",ei="_screenAddNew_1cql9_1",ti="_addNew_1cql9_11",ni="_trainings_1cql9_15",ri="_training_1cql9_15",si="_trainingBox_1cql9_29",ii="_trainingDelete_1cql9_36",ai="_navbarContainer_1cql9_40",te={screen:Qs,screenAddNew:ei,addNew:ti,trainings:ni,training:ri,trainingBox:si,trainingDelete:ii,navbarContainer:ai},oi=e=>{const{data:t}=e,n=t.length,r=()=>{const{onAdd:a}=e;return c.jsx(D,{skin:"primary",font:"nunito",className:te.addNew,onClick:a,"data-testid":"add-first-training-button",children:"Add your 1st training"})},i=()=>{const{data:a,onDelete:o,onOpen:l}=e;return c.jsx("ul",{className:te.trainings,"data-testid":"trainings-list",children:a.map(d=>c.jsxs("li",{className:te.training,"data-testid":"training-item",children:[c.jsx(D,{skin:"icon",size:"medium",className:te.trainingDelete,onClick:()=>o(d.id),"data-testid":"delete-training-button",children:c.jsx(ce,{})}),c.jsx("div",{className:te.trainingBox,onClick:()=>l(d.id),"data-testid":"open-training-button",children:d.name})]},d.id))})},s=()=>{const{onAdd:a}=e;return c.jsx(me,{className:te.navbarContainer,children:c.jsx(D,{skin:"icon",size:"large",onClick:a,"data-testid":"add-training-button-top",children:c.jsx(Ys,{})})})};return n?c.jsx(X,{topBar:s(),bottomBar:c.jsx(he,{}),dataTestId:"trainings-screen",children:c.jsx("div",{className:te.screen,children:i()})}):c.jsx(X,{bottomBar:c.jsx(he,{}),dataTestId:"trainings-screen-no-data",children:c.jsx("div",{className:te.screenAddNew,children:r()})})},ci=F({controller:At},e=>({data:e.getTrainings(),onAdd:e.onAddTraining,onDelete:e.onDeleteTraining,onOpen:e.onOpenTraining}))(oi);function li(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:a}=e;let o,l,d;const u=async(p=!0)=>{await l,d==null||d()};async function g(){if("serviceWorker"in navigator){if(o=await ws(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{a==null||a(p)}),!o)return;d=()=>{o==null||o.messageSkipWaiting()};{let p=!1;const h=()=>{p=!0,o==null||o.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()}),n==null||n()};o.addEventListener("installed",m=>{typeof m.isUpdate>"u"?typeof m.isExternal<"u"&&m.isExternal?h():!p&&(r==null||r()):m.isUpdate||r==null||r()}),o.addEventListener("waiting",h)}o.register({immediate:t}).then(p=>{s?s("/sw.js",p):i==null||i(p)}).catch(p=>{a==null||a(p)})}}return l=g(),u}function di(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:a}=e,[o,l]=$.useState(!1),[d,u]=$.useState(!1),[g]=$.useState(()=>li({immediate:t,onOfflineReady(){u(!0),r==null||r()},onNeedRefresh(){l(!0),n==null||n()},onRegistered:i,onRegisteredSW:s,onRegisterError:a}));return{needRefresh:[o,l],offlineReady:[d,u],updateServiceWorker:g}}const Dt=e=>{const t=e.getStore(),{syncApi:n,authApi:r,notificationsApi:i}=e.getAPIs(),s=()=>t.getStoreData(Dt.storeDataAccessors);return{getAuthData:()=>{const a=s().auth;return{isAuthenticated:a.isAuthenticated,isLoading:a.authLoading,error:a.authError}},getSyncData:()=>{const a=s().sync;return{lastSyncAt:a.lastSyncAt,isLoading:a.isLoading,serverHasChanges:a.serverHasChanges,error:a.error}},sync:async()=>{await n.sync()},signout:async()=>{try{await r.signout()}catch(a){i.addNotification({type:"error",message:`Sigout failed, details: ${a.message}`})}}}};Dt.storeDataAccessors=["auth","sync"];const ui="_metadataBox_1jj5x_1",gi="_twoColumns_1jj5x_12",Y={metadataBox:ui,twoColumns:gi};function pi(){const{needRefresh:[e,t],updateServiceWorker:n}=di();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:Y.twoColumns,children:[c.jsx("div",{children:"Status:"}),e?c.jsx("div",{children:"â³ New version is waiting..."}):c.jsx("div",{children:"âœ…"})]}),c.jsx("br",{}),e&&c.jsxs(c.Fragment,{children:[c.jsx(D,{skin:"primary",font:"nunito",size:"small",onClick:()=>n(!0),style:{width:"100%"},"data-testid":"update-sw-button",children:"Update Now"}),c.jsx("br",{}),c.jsx(D,{skin:"zero-style",font:"nunito",onClick:()=>t(!1),style:{width:"100%"},"data-testid":"dismiss-sw-button",children:"DISMISS"})]})]})}const hi=e=>{const{authData:t,syncData:n,sync:r,signout:i}=e;return c.jsxs(X,{bottomBar:c.jsx(he,{}),dataTestId:"menu-screen",children:[c.jsx("div",{style:{marginBottom:12},children:c.jsx(L0,{})}),c.jsxs("div",{className:Y.metadataBox,children:[c.jsx("h4",{children:"Auth"}),c.jsxs("div",{className:Y.twoColumns,children:[c.jsx("div",{children:"Status:"}),t.isLoading?c.jsx("div",{children:"â³ Loading..."}):t.isAuthenticated?c.jsx("div",{children:"âœ…"}):c.jsx("div",{children:"â›”ï¸"})]}),t.error&&c.jsxs("div",{className:Y.twoColumns,children:[c.jsx("div",{children:"Error:"}),c.jsx("div",{children:t.error})]}),c.jsx("br",{}),c.jsx(D,{skin:"primary",font:"nunito",onClick:()=>i(),style:{width:"100%"},disabled:t.isLoading,"data-testid":"signout-button",children:"Sign out"})]}),c.jsxs("div",{className:Y.metadataBox,children:[c.jsx("h4",{children:"Service Worker"}),c.jsx(pi,{})]}),c.jsxs("div",{className:Y.metadataBox,children:[c.jsx("h4",{children:"Sync"}),c.jsxs("div",{className:Y.twoColumns,children:[c.jsx("div",{children:"Last at:"}),n.isLoading?c.jsx("div",{children:"â³ Loading..."}):n.lastSyncAt?c.jsx("div",{children:n.lastSyncAt}):c.jsx("div",{children:"ðŸ—ï¸ TBD"})]}),c.jsxs("div",{className:Y.twoColumns,children:[c.jsx("div",{children:"Status:"}),n.serverHasChanges?c.jsx("div",{children:"âš ï¸ Server has changes âš ï¸"}):c.jsx("div",{children:"âœ…"})]}),n.error&&c.jsxs("div",{className:Y.twoColumns,children:[c.jsx("div",{children:"Error:"}),c.jsx("div",{children:n.error})]}),c.jsx("br",{}),c.jsx(D,{skin:"primary",font:"nunito",onClick:r,style:{width:"100%"},disabled:n.isLoading,"data-testid":"sync-button",children:"Sync"})]}),c.jsx("br",{})]})},mi=F({controller:Dt},e=>({authData:e.getAuthData(),syncData:e.getSyncData(),sync:e.sync,signout:e.signout}))(hi);function fi(){return c.jsx(X,{dataTestId:"not-found-screen",bottomBar:c.jsx(he,{}),children:c.jsxs("div",{style:{padding:12},children:[c.jsx("h2",{children:"404 - Not Found"}),c.jsx("p",{children:"The page you are looking for does not exist."})]})})}const jt=e=>{const{getStoreData:t}=e.getStore(),{trainingsApi:n,navigationApi:r}=e.getAPIs(),i=()=>t(jt.storeDataAccessors);return{getData:()=>{const s=i().newTraining;if(s!==null)return{...s,exercises:s.exercises.map(a=>({...a,setsPreview:n.create.setsPreview(a.sets)}))}},onNoData:()=>{r.toTrainings()},onChangeName:s=>{n.update.newTraining({name:s})},onAddExercise:async()=>{var a,o;const s=(a=i().newTraining)==null?void 0:a.id;if(s){n.create.newExercise();const l=(o=i().newExercise)==null?void 0:o.id;l&&await r.toCreateExercise(s,l,{goBackTo:r.routes.createTraining})}},onDelete:async()=>{await r.toTrainings(),n.delete.newTraining()},onSave:async()=>{await r.toTrainings(),n.save.newTraining()},onDeleteExercise:(s,a)=>{n.delete.exercise(s,a)},onOpenExercise:s=>{var o;const a=(o=i().newTraining)==null?void 0:o.id;a&&r.toEditNewExercise(a,s,{goBackTo:r.routes.createTraining})}}};jt.storeDataAccessors=["newTraining","newExercise"];const vi=e=>{const{data:t,onChangeName:n,onAddExercise:r,onDelete:i,onSave:s,onDeleteExercise:a,onOpenExercise:o}=e;return c.jsx(Hr,{dataTestId:"create-training-screen",id:t.id,name:t.name,exercises:t.exercises,onChangeName:n,onAddExercise:r,onDelete:i,onSave:s,onDeleteExercise:a,onOpenExercise:o})},xi=F({controller:jt},e=>({data:e.getData(),onNoData:e.onNoData,onChangeName:e.onChangeName,onAddExercise:e.onAddExercise,onDelete:e.onDelete,onSave:e.onSave,onDeleteExercise:e.onDeleteExercise,onOpenExercise:e.onOpenExercise}))(le(e=>({isData:!!e.data,onNoData:e.onNoData}))(vi));var yi=/\s/;function _i(e){for(var t=e.length;t--&&yi.test(e.charAt(t)););return t}var bi=_i,wi=bi,Ti=/^\s+/;function Si(e){return e&&e.slice(0,wi(e)+1).replace(Ti,"")}var Ei=Si;function Ci(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ne=Ci,$i=typeof Oe=="object"&&Oe&&Oe.Object===Object&&Oe,hr=$i,Ai=hr,Di=typeof self=="object"&&self&&self.Object===Object&&self,ji=Ai||Di||Function("return this")(),Q=ji,Ni=Q,Pi=Ni.Symbol,Pe=Pi,hn=Pe,mr=Object.prototype,ki=mr.hasOwnProperty,Bi=mr.toString,Se=hn?hn.toStringTag:void 0;function Ii(e){var t=ki.call(e,Se),n=e[Se];try{e[Se]=void 0;var r=!0}catch{}var i=Bi.call(e);return r&&(t?e[Se]=n:delete e[Se]),i}var Oi=Ii,Li=Object.prototype,Ri=Li.toString;function Mi(e){return Ri.call(e)}var Fi=Mi,mn=Pe,Hi=Oi,zi=Fi,Ui="[object Null]",Wi="[object Undefined]",fn=mn?mn.toStringTag:void 0;function Gi(e){return e==null?e===void 0?Wi:Ui:fn&&fn in Object(e)?Hi(e):zi(e)}var ke=Gi;function qi(e){return e!=null&&typeof e=="object"}var Be=qi,Vi=ke,Ki=Be,Xi="[object Symbol]";function Zi(e){return typeof e=="symbol"||Ki(e)&&Vi(e)==Xi}var Ie=Zi,Ji=Ei,vn=Ne,Yi=Ie,xn=NaN,Qi=/^[-+]0x[0-9a-f]+$/i,ea=/^0b[01]+$/i,ta=/^0o[0-7]+$/i,na=parseInt;function ra(e){if(typeof e=="number")return e;if(Yi(e))return xn;if(vn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ji(e);var n=ea.test(e);return n||ta.test(e)?na(e.slice(2),n?2:8):Qi.test(e)?xn:+e}var sa=ra;const ne=Ze(sa),Nt=e=>{const{getStoreData:t}=e.getStore(),{trainingsApi:n,navigationApi:r}=e.getAPIs(),i=()=>t(Nt.storeDataAccessors),s=()=>r.getPathParams(r.routes.createExercise);return{getData:()=>i().newExercise,onNoData:()=>{r.toTrainings()},onChangeName:a=>{n.update.newExercise({name:a})},onChangeRepetitions:(a,o)=>{const{sets:l}=i().newExercise;n.update.newExercise({sets:l.map(d=>d.id===a?{...d,repetitions:ne(o)}:d)})},onChangeWeight:(a,o)=>{const{sets:l}=i().newExercise;n.update.newExercise({sets:l.map(d=>d.id===a?{...d,weight:ne(o)}:d)})},onAddSet:()=>{var l;const a=s().training,o=(l=i().newExercise)==null?void 0:l.id;a&&o&&n.create.set(a,o)},onDeleteSet:(a,o)=>{const l=s().training;l&&n.delete.set(l,a,o)},onDelete:async()=>{await r.goBack({replace:!0}),n.delete.newExercise()},onSave:async()=>{const a=s().training;await r.goBack({replace:!0}),a&&n.save.newExercise(a)}}};Nt.storeDataAccessors=["newExercise"];class ia extends N.Component{constructor(){super(...arguments);S(this,"_onDeleteSet",n=>{const r=this.props.data.id;this.props.onDeleteSet(r,n)})}render(){const{data:n,onChangeName:r,onChangeRepetitions:i,onChangeWeight:s,onAddSet:a,onDelete:o,onSave:l}=this.props;return c.jsx(Qt,{dataTestId:"create-exercise-screen",data:n,onChangeName:r,onDeleteSet:this._onDeleteSet,onChangeRepetitions:i,onChangeWeight:s,onAddSet:a,onDelete:o,onSave:l})}}const aa=F({controller:Nt},e=>({data:e.getData(),onChangeName:e.onChangeName,onChangeWeight:e.onChangeWeight,onChangeRepetitions:e.onChangeRepetitions,onNoData:e.onNoData,onAddSet:e.onAddSet,onDeleteSet:e.onDeleteSet,onDelete:e.onDelete,onSave:e.onSave}))(le(e=>({isData:!!e.data,onNoData:e.onNoData}))(ia)),Pt=e=>{const{getStoreData:t}=e.getStore(),{navigationApi:n,trainingsApi:r}=e.getAPIs(),i=()=>t(Pt.storeDataAccessors),s=()=>n.getPathParams(n.routes.openTraining),a=()=>{const o=s();return i().trainings.find(u=>u.id===o.training)};return{isAnyTrainingInProgress:()=>!!i().activeTraining,isCurrentTrainingInProgress:()=>{const o=a(),l=i().activeTraining;return o&&l?o.id===l.templateTrainingId:!1},getTraining:()=>{const o=a();return o!==void 0&&(o.exercises=o.exercises.map(l=>({...l,setsPreview:r.create.setsPreview(l.sets)}))),o},onNoData:()=>{n.toTrainings()},onStart:()=>{const o=a();if(o){if(!o.exercises.length){window.alert("Start denied - training has ZERO exercises!");return}r.create.newActiveTraining(o.id);const l=o.exercises[0];n.toExercise(o.id,l.id)}},onFinish:async()=>{var l;const o=(l=a())==null?void 0:l.id;if(o){if(!i().activeTraining){window.alert("Stop denied - your training was NOT started!");return}const d=i().trainings.map(u=>u.id===o?{...u,exercises:u.exercises.map(g=>({...g,sets:g.sets.map(p=>(p.done&&r.update.newActiveTraining(o,g.id,p),{...p,done:!1}))}))}:u);r.update.allTrainings(d),r.save.newActiveTraining(),await n.toHome()}},onBack:()=>{n.toTrainings()},onEdit:()=>{const o=a();o&&n.toEditTraining(o.id)},onOpenExercise:(o,l)=>{n.toExercise(o.id,l.id)}}};Pt.storeDataAccessors=["trainings","activeTraining"];const oa=e=>$.createElement("svg",{width:"30px",height:"30px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 55.25 55.25",...e},$.createElement("path",{d:"M52.618,2.631c-3.51-3.508-9.219-3.508-12.729,0L3.827,38.693C3.81,38.71,3.8,38.731,3.785,38.749 c-0.021,0.024-0.039,0.05-0.058,0.076c-0.053,0.074-0.094,0.153-0.125,0.239c-0.009,0.026-0.022,0.049-0.029,0.075 c-0.003,0.01-0.009,0.02-0.012,0.03l-3.535,14.85c-0.016,0.067-0.02,0.135-0.022,0.202C0.004,54.234,0,54.246,0,54.259 c0.001,0.114,0.026,0.225,0.065,0.332c0.009,0.025,0.019,0.047,0.03,0.071c0.049,0.107,0.11,0.21,0.196,0.296 c0.095,0.095,0.207,0.168,0.328,0.218c0.121,0.05,0.25,0.075,0.379,0.075c0.077,0,0.155-0.009,0.231-0.027l14.85-3.535 c0.027-0.006,0.051-0.021,0.077-0.03c0.034-0.011,0.066-0.024,0.099-0.039c0.072-0.033,0.139-0.074,0.201-0.123 c0.024-0.019,0.049-0.033,0.072-0.054c0.008-0.008,0.018-0.012,0.026-0.02l36.063-36.063C56.127,11.85,56.127,6.14,52.618,2.631z  M51.204,4.045c2.488,2.489,2.7,6.397,0.65,9.137l-9.787-9.787C44.808,1.345,48.716,1.557,51.204,4.045z M46.254,18.895l-9.9-9.9 l1.414-1.414l9.9,9.9L46.254,18.895z M4.961,50.288c-0.391-0.391-1.023-0.391-1.414,0L2.79,51.045l2.554-10.728l4.422-0.491 l-0.569,5.122c-0.004,0.038,0.01,0.073,0.01,0.11c0,0.038-0.014,0.072-0.01,0.11c0.004,0.033,0.021,0.06,0.028,0.092 c0.012,0.058,0.029,0.111,0.05,0.165c0.026,0.065,0.057,0.124,0.095,0.181c0.031,0.046,0.062,0.087,0.1,0.127 c0.048,0.051,0.1,0.094,0.157,0.134c0.045,0.031,0.088,0.06,0.138,0.084C9.831,45.982,9.9,46,9.972,46.017 c0.038,0.009,0.069,0.03,0.108,0.035c0.036,0.004,0.072,0.006,0.109,0.006c0,0,0.001,0,0.001,0c0,0,0.001,0,0.001,0h0.001 c0,0,0.001,0,0.001,0c0.036,0,0.073-0.002,0.109-0.006l5.122-0.569l-0.491,4.422L4.204,52.459l0.757-0.757 C5.351,51.312,5.351,50.679,4.961,50.288z M17.511,44.809L39.889,22.43c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0 L16.097,43.395l-4.773,0.53l0.53-4.773l22.38-22.378c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L10.44,37.738 l-3.183,0.354L34.94,10.409l9.9,9.9L17.157,47.992L17.511,44.809z M49.082,16.067l-9.9-9.9l1.415-1.415l9.9,9.9L49.082,16.067z"})),fr=e=>$.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 386.242 386.242",xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"M374.212,182.3H39.432l100.152-99.767c4.704-4.704,4.704-12.319,0-17.011 c-4.704-4.704-12.319-4.704-17.011,0L3.474,184.61c-4.632,4.632-4.632,12.379,0,17.011l119.1,119.1 c4.704,4.704,12.319,4.704,17.011,0c4.704-4.704,4.704-12.319,0-17.011L39.432,206.36h334.779c6.641,0,12.03-5.39,12.03-12.03 S380.852,182.3,374.212,182.3z"})),ca="_screen_3m9a3_1",la="_buttonScreen_3m9a3_9",da="_navbarContainer_3m9a3_16",ua="_topBar_3m9a3_20",ga="_button_3m9a3_9",pa="_exercises_3m9a3_34",ha="_exercise_3m9a3_34",ma="_exerciseBox_3m9a3_49",J={screen:ca,buttonScreen:la,navbarContainer:da,topBar:ua,button:ga,exercises:pa,exercise:ha,exerciseBox:ma};class fa extends N.Component{constructor(){super(...arguments);S(this,"renderTopBar",()=>{const{data:n}=this.props;return c.jsx("div",{className:J.topBar,children:n.name})});S(this,"renderBottomBar",()=>{const{onBack:n,onEdit:r}=this.props;return c.jsxs(me,{className:J.navbarContainer,children:[c.jsx(D,{skin:"icon",size:"large",onClick:n,"data-testid":"training-back-button",children:c.jsx(fr,{})}),c.jsx(D,{skin:"icon",size:"large",onClick:r,"data-testid":"training-edit-button",children:c.jsx(oa,{})})]})});S(this,"renderExercises",()=>{const{data:n,onOpenExercise:r}=this.props;return c.jsx("ul",{className:J.exercises,"data-testid":"training-exercises-list",children:n.exercises.map(i=>c.jsx("li",{className:J.exercise,"data-testid":"training-exercise-item",onClick:()=>r(n,i),children:c.jsxs("div",{className:J.exerciseBox,children:[i.name,c.jsx("br",{}),i.setsPreview]})},i.id))})})}render(){const{data:n,isAnyTrainingInProgress:r,isCurrentTrainingInProgress:i,onStart:s,onFinish:a}=this.props,o=!!n.exercises.length;return c.jsxs(X,{topBar:this.renderTopBar(),bottomBar:this.renderBottomBar(),dataTestId:"existing-training-screen",children:[c.jsx("div",{className:J.screen,children:o&&this.renderExercises()}),c.jsx("div",{className:J.buttonScreen,children:i?c.jsx(D,{skin:"primary",font:"nunito",className:J.button,onClick:a,"data-testid":"finish-training-button",children:"ðŸ† FINISH ðŸ†"}):r?null:c.jsx(D,{skin:"primary",font:"nunito",className:J.button,onClick:s,"data-testid":"start-training-button",children:"Start"})})]})}}const va=F({controller:Pt},e=>({data:e.getTraining(),isAnyTrainingInProgress:e.isAnyTrainingInProgress(),isCurrentTrainingInProgress:e.isCurrentTrainingInProgress(),onNoData:e.onNoData,onStart:e.onStart,onFinish:e.onFinish,onBack:e.onBack,onEdit:e.onEdit,onOpenExercise:e.onOpenExercise}))(le(e=>({isData:!!e.data,onNoData:e.onNoData}))(fa)),kt=e=>{const{getStoreData:t}=e.getStore(),{navigationApi:n,trainingsApi:r}=e.getAPIs(),i=()=>t(kt.storeDataAccessors),s=()=>n.getPathParams(n.routes.openExercise),a=()=>{const l=s();return i().trainings.find(g=>g.id===l.training)},o=(l,d,u)=>{var h;const g=(h=a())==null?void 0:h.id;if(!g)return;const p=i().trainings.map(m=>m.id===g?{...m,exercises:m.exercises.map(_=>_.id===l?{..._,sets:_.sets.map(x=>x.id===d?{...x,...u}:x)}:_)}:m);r.update.allTrainings(p)};return{isInProgress:()=>!!i().activeTraining,getTraining:()=>a(),getExercise:()=>{const l=s(),d=a();return d==null?void 0:d.exercises.find(g=>g.id===l.exercise)},getCurrentExerciseIntoNavbar:(l,d)=>l.exercises.indexOf(d)+1,getTotalExercisesIntoNavbar:l=>l.exercises.length,onChangeRepetitions:(l,d,u)=>{o(l,d,{repetitions:ne(u)})},onChangeWeight:(l,d,u)=>{o(l,d,{weight:ne(u)})},onDoneSet:async(l,d,u)=>{o(d,u.id,{done:!0})},onResetDoneSet:async(l,d,u)=>{o(d,u.id,{done:!1})},onExerciseNext:async(l,d)=>{const u=l.exercises.indexOf(d);if(u<l.exercises.length-1){const g=l.exercises[u+1].id;await n.toExercise(l.id,g);const p=i().trainings;r.update.allTrainings(p)}},onExercisePrev:async(l,d)=>{const u=l.exercises.indexOf(d);if(u>0){const g=l.exercises[u-1].id;await n.toExercise(l.id,g);const p=i().trainings;r.update.allTrainings(p)}},onNoData:()=>{n.toTrainings()},onBack:()=>{const l=s().training;l&&n.toTraining(l)},getSetsHistory:()=>{const l=i(),d=s(),u=a(),g=u==null?void 0:u.exercises.find(h=>h.id===d.exercise);return g?[...l.completedTrainings].sort((h,m)=>new Date(m.timestamptz).getTime()-new Date(h.timestamptz).getTime()).map(h=>{const m=h.exercises.find(_=>_.name===g.name);return!m||!m.sets.length?null:{date:r.create.datePreview(h.timestamptz),sets:m.sets.map(_=>({id:_.id,repetitions:_.repetitions,weight:_.weight,time:r.create.timePreview(_.timestamptz)}))}}).filter(Boolean):[]}}};kt.storeDataAccessors=["trainings","activeTraining","completedTrainings"];const xa=e=>$.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})),ya=e=>$.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4.5 5.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})),Ge=e=>$.createElement("svg",{height:30,viewBox:"0 0 400 400",width:30,xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"m199.996 0c-110.283 0-199.996 89.72-199.996 200s89.713 200 199.996 200 200.004-89.72 200.004-200-89.721-200-200.004-200zm0 373.77c-95.816 0-173.766-77.954-173.766-173.77 0-95.817 77.949-173.769 173.766-173.769s173.771 77.953 173.771 173.769c.001 95.816-77.955 173.77-173.771 173.77z"}),$.createElement("path",{d:"m272.406 134.526-103.131 103.126-41.689-41.68c-5.123-5.117-13.422-5.12-18.545.003-5.125 5.125-5.125 13.425 0 18.548l50.963 50.955c2.561 2.558 5.916 3.838 9.271 3.838s6.719-1.28 9.279-3.842c.008-.011.014-.022.027-.035l112.369-112.368c5.125-5.12 5.125-13.426 0-18.546-5.122-5.123-13.427-5.123-18.544.001z"})),_a="_screen_1k40v_1",ba="_navbarContainer_1k40v_9",wa="_topBar_1k40v_18",Ta="_sets_1k40v_26",Sa="_set_1k40v_26",Ea="_setPreview_1k40v_40",Ca="_setRepetitions_1k40v_54",$a="_setWeight_1k40v_58",Aa="_setDone_1k40v_74",Da="_history_1k40v_79",ja="_historyUnit_1k40v_84",Na="_setsDate_1k40v_91",Pa="_setsHistoryBox_1k40v_97",ka="_setsByDate_1k40v_104",Ba="_setUnit_1k40v_111",Ia="_setTime_1k40v_115",L={screen:_a,navbarContainer:ba,switch:"_switch_1k40v_13",topBar:wa,sets:Ta,set:Sa,setPreview:Ea,setRepetitions:Ca,setWeight:$a,setDone:Aa,history:Da,historyUnit:ja,setsDate:Na,setsHistoryBox:Pa,setsByDate:ka,setUnit:Ba,setTime:Ia};let Oa=class extends N.Component{constructor(){super(...arguments);S(this,"renderTopBar",()=>{const{exercise:n}=this.props;return c.jsx("div",{className:L.topBar,children:n.name})});S(this,"renderBottomBar",()=>{const{training:n,exercise:r,isInProgress:i,getCurrentExercise:s,getTotalExercises:a,onBack:o,onExerciseNext:l,onExercisePrev:d}=this.props;return c.jsxs(me,{className:L.navbarContainer,children:[c.jsx(D,{skin:"icon",size:"large",onClick:o,"data-testid":"back-button",children:c.jsx(fr,{})}),i&&c.jsxs("div",{className:L.switch,children:[c.jsx(D,{skin:"icon",size:"large",onClick:()=>d(n,r),"data-testid":"prev-exercise-button",children:c.jsx(xa,{})}),c.jsxs("div",{children:[s(n,r),"/",a(n)]}),c.jsx(D,{skin:"icon",size:"large",onClick:()=>l(n,r),"data-testid":"next-exercise-button",children:c.jsx(ya,{})})]})]})});S(this,"renderSets",()=>{const{training:n,exercise:r,isInProgress:i,onDoneSet:s,onResetDoneSet:a,onChangeRepetitions:o,onChangeWeight:l}=this.props;return c.jsx("ul",{className:L.sets,children:r.sets.map(d=>{const u=d.done||!i;return c.jsx("li",{className:L.set,children:c.jsxs("div",{className:L.setPreview,children:[c.jsx("div",{className:L.setRepetitions,children:c.jsx(je,{type:"number",disabled:u,value:d.repetitions,onBlur:g=>o(r.id,d.id,Number(g))})}),c.jsx("div",{children:"X"}),c.jsx("div",{className:L.setWeight,children:c.jsx(je,{type:"number",disabled:u,value:d.weight,onBlur:g=>l(r.id,d.id,Number(g))})}),c.jsx("div",{children:"kg"}),i?d.done?c.jsx(D,{skin:"text",size:"large",font:"indieFlower",onClick:()=>a(n.id,r.id,d),"data-testid":"undo-set-button",children:"done"}):c.jsx(D,{skin:"icon",size:"large",className:L.setDone,onClick:()=>s(n.id,r.id,d),"data-testid":"done-set-button",children:c.jsx(Ge,{})}):null]})},d.id)})})});S(this,"renderSetsHistory",()=>{const{setsHistory:n}=this.props;return c.jsxs("div",{className:L.history,children:[c.jsx("div",{className:L.historyUnit,children:"History"}),c.jsx("ul",{className:L.setsHistoryBox,"data-testid":"sets-history-list",children:n.map(r=>c.jsx("li",{className:L.setsByDate,"data-testid":"set-history-item",children:c.jsxs("ul",{className:L.sets,children:[c.jsx("div",{className:L.setsDate,children:c.jsx("b",{children:r.date})}),r.sets.map((i,s)=>c.jsx("li",{className:L.set,children:c.jsxs("div",{className:L.setPreview,children:[c.jsxs("div",{className:L.setUnit,children:[c.jsxs("b",{children:["â„–",s+1]})," ",i.repetitions,"x",i.weight,"kg"]}),c.jsx("div",{className:L.setTime,children:i.time})]})},i.id))]})},r.date))})]})})}render(){const{exercise:n,setsHistory:r}=this.props,i=!!n.sets.length,s=!!r.length;return c.jsx(X,{topBar:this.renderTopBar(),bottomBar:this.renderBottomBar(),dataTestId:"existing-exercise-screen",children:c.jsxs("div",{className:L.screen,children:[i&&this.renderSets(),s&&this.renderSetsHistory()]})})}};const La=F({controller:kt},e=>({training:e.getTraining(),exercise:e.getExercise(),setsHistory:e.getSetsHistory(),isInProgress:e.isInProgress(),getCurrentExercise:e.getCurrentExerciseIntoNavbar,getTotalExercises:e.getTotalExercisesIntoNavbar,onChangeRepetitions:e.onChangeRepetitions,onChangeWeight:e.onChangeWeight,onDoneSet:e.onDoneSet,onResetDoneSet:e.onResetDoneSet,onExerciseNext:e.onExerciseNext,onExercisePrev:e.onExercisePrev,onNoData:e.onNoData,onBack:e.onBack}))(le(e=>({isData:!!e.exercise,onNoData:e.onNoData}))(Oa)),Bt=e=>{const{getStoreData:t}=e.getStore(),{trainingsApi:n,navigationApi:r}=e.getAPIs(),i=()=>t(Bt.storeDataAccessors),s=()=>r.getPathParams(r.routes.editNewExercise);return{getExercise:()=>{var l;const a=s().exercise;return(l=i().newTraining)==null?void 0:l.exercises.find(d=>d.id===a)},onNoData:()=>{r.toTrainings()},onChangeName:(a,o)=>{const{exercises:l}=i().newTraining;n.update.newTraining({exercises:l.map(d=>d.id===a?{...d,name:o}:d)})},onChangeRepetitions:(a,o,l)=>{const{exercises:d}=i().newTraining,{sets:u}=a;n.update.newTraining({exercises:d.map(g=>g.id===a.id?{...g,sets:u.map(p=>p.id===o?{...p,repetitions:ne(l)}:p)}:g)})},onChangeWeight:(a,o,l)=>{const{exercises:d}=i().newTraining,{sets:u}=a;n.update.newTraining({exercises:d.map(g=>g.id===a.id?{...g,sets:u.map(p=>p.id===o?{...p,weight:ne(l)}:p)}:g)})},onAddSet:()=>{const a=s().training,o=s().exercise;a&&o&&n.create.set(a,o)},onDeleteSet:(a,o)=>{const l=s().training;l&&n.delete.set(l,a,o)},onDelete:async()=>{const a=s().training,o=s().exercise;a&&o&&n.delete.exercise(a,o),await r.goBack({replace:!0})},onSave:async()=>{await r.goBack({replace:!0})}}};Bt.storeDataAccessors=["newTraining"];class Ra extends N.Component{constructor(){super(...arguments);S(this,"_onChangeName",n=>{const r=this.props.data.id;this.props.onChangeName(r,n)});S(this,"_onDeleteSet",n=>{const r=this.props.data.id;this.props.onDeleteSet(r,n)});S(this,"_onChangeRepetitions",(n,r)=>{const i=this.props.data;this.props.onChangeRepetitions(i,n,r)});S(this,"_onChangeWeight",(n,r)=>{const i=this.props.data;this.props.onChangeWeight(i,n,r)})}render(){const{data:n,onAddSet:r,onDelete:i,onSave:s}=this.props;return c.jsx(Qt,{dataTestId:"edit-new-exercise-screen",data:n,onChangeName:this._onChangeName,onDeleteSet:this._onDeleteSet,onChangeRepetitions:this._onChangeRepetitions,onChangeWeight:this._onChangeWeight,onAddSet:r,onDelete:i,onSave:s})}}const Ma=F({controller:Bt},e=>({data:e.getExercise(),onNoData:e.onNoData,onChangeName:e.onChangeName,onChangeWeight:e.onChangeWeight,onChangeRepetitions:e.onChangeRepetitions,onAddSet:e.onAddSet,onDeleteSet:e.onDeleteSet,onDelete:e.onDelete,onSave:e.onSave}))(le(e=>({isData:!!e.data,onNoData:e.onNoData}))(Ra)),It=e=>{const{getStoreData:t}=e.getStore(),{trainingsApi:n,navigationApi:r}=e.getAPIs(),i=()=>t(It.storeDataAccessors),s=()=>r.getPathParams(r.routes.editExistingExercise);return{getExercise:()=>{const a=s(),l=i().trainings.find(u=>u.id===a.training);return l==null?void 0:l.exercises.find(u=>u.id===a.exercise)},onNoData:()=>{r.toTrainings()},onChangeName:(a,o)=>{const l=s(),u=i().trainings.find(g=>g.id===l.training);if(u){const g=u.exercises.map(p=>p.id===a?{...p,name:o}:p);n.update.training(u.id,{exercises:g})}},onChangeRepetitions:(a,o,l)=>{const d=s(),g=i().trainings.find(p=>p.id===d.training);if(g){const p=g.exercises.map(h=>h.id===a.id?{...h,sets:h.sets.map(m=>m.id===o?{...m,repetitions:ne(l)}:m)}:h);n.update.training(g.id,{exercises:p})}},onChangeWeight:(a,o,l)=>{const d=s(),g=i().trainings.find(p=>p.id===d.training);if(g){const p=g.exercises.map(h=>h.id===a.id?{...h,sets:h.sets.map(m=>m.id===o?{...m,weight:ne(l)}:m)}:h);n.update.training(g.id,{exercises:p})}},onAddSet:()=>{const a=s(),l=i().trainings.find(u=>u.id===a.training),d=l==null?void 0:l.exercises.find(u=>u.id===a.exercise);l&&d&&n.create.set(l.id,d.id)},onDeleteSet:(a,o)=>{const l=s(),u=i().trainings.find(g=>g.id===l.training);u&&n.delete.set(u.id,a,o)},onDelete:async()=>{const a=s(),l=i().trainings.find(u=>u.id===a.training),d=l==null?void 0:l.exercises.find(u=>u.id===a.exercise);await r.goBack({replace:!0}),l&&d&&n.delete.exercise(l.id,d.id)},onSave:async()=>{await r.goBack({replace:!0})}}};It.storeDataAccessors=["trainings"];class Fa extends N.Component{constructor(){super(...arguments);S(this,"_onChangeName",n=>{const r=this.props.data.id;this.props.onChangeName(r,n)});S(this,"_onDeleteSet",n=>{const r=this.props.data.id;this.props.onDeleteSet(r,n)});S(this,"_onChangeRepetitions",(n,r)=>{const i=this.props.data;this.props.onChangeRepetitions(i,n,r)});S(this,"_onChangeWeight",(n,r)=>{const i=this.props.data;this.props.onChangeWeight(i,n,r)})}render(){const{data:n,onAddSet:r,onDelete:i,onSave:s}=this.props;return c.jsx(Qt,{dataTestId:"edit-existing-exercise-screen",data:n,onChangeName:this._onChangeName,onDeleteSet:this._onDeleteSet,onChangeRepetitions:this._onChangeRepetitions,onChangeWeight:this._onChangeWeight,onAddSet:r,onDelete:i,onSave:s})}}const Ha=F({controller:It},e=>({data:e.getExercise(),onNoData:e.onNoData,onChangeName:e.onChangeName,onChangeWeight:e.onChangeWeight,onChangeRepetitions:e.onChangeRepetitions,onAddSet:e.onAddSet,onDeleteSet:e.onDeleteSet,onDelete:e.onDelete,onSave:e.onSave}))(le(e=>({isData:!!e.data,onNoData:e.onNoData}))(Fa)),Ot=e=>{const{getStoreData:t}=e.getStore(),{navigationApi:n,trainingsApi:r}=e.getAPIs(),i=()=>t(Ot.storeDataAccessors),s=()=>n.getPathParams(n.routes.editTraining);return{getTraining:()=>{const a=s();return i().trainings.find(d=>d.id===a.training)},onSave:async()=>{const a=s(),l=i().trainings.find(d=>d.id===a.training);l?await n.toTraining(l.id):await n.toTrainings()},onNoData:()=>{n.toTrainings()},onChangeName:a=>{const o=s(),d=i().trainings.find(u=>u.id===o.training);d&&r.update.training(d.id,{name:a})},onAddExercise:async()=>{var l;const a=s();r.create.newExercise();const o=(l=i().newExercise)==null?void 0:l.id;a.training&&o&&await n.toCreateExercise(a.training,o,{goBackTo:n.routes.editTraining})},onDeleteExercise:(a,o)=>{r.delete.exercise(a,o)},onEditExercise:async a=>{const o=s();o.training&&await n.toEditExistingExercise(o.training,a)},onDelete:async()=>{const a=s();await n.toTrainings(),a.training&&r.delete.training(a.training)}}};Ot.storeDataAccessors=["trainings","newExercise"];const za=e=>{const{data:t,onChangeName:n,onAddExercise:r,onDelete:i,onSave:s,onDeleteExercise:a,onEditExercise:o}=e;return c.jsx(Hr,{dataTestId:"edit-existing-training-screen",id:t.id,name:t.name,exercises:t.exercises,onChangeName:n,onAddExercise:r,onDelete:i,onSave:s,onDeleteExercise:a,onOpenExercise:o})},Ua=F({controller:Ot},e=>({data:e.getTraining(),onSave:e.onSave,onDelete:e.onDelete,onNoData:e.onNoData,onChangeName:e.onChangeName,onAddExercise:e.onAddExercise,onDeleteExercise:e.onDeleteExercise,onEditExercise:e.onEditExercise}))(le(e=>({isData:!!e.data,onNoData:e.onNoData}))(za)),Lt=e=>{const t=e.getStore(),{navigationApi:n}=e.getAPIs(),r=()=>t.getStoreData(Lt.storeDataAccessors);return{isAuthenticated:()=>r().auth.isAuthenticated,navigate:async()=>{await n.goBack({replace:!0})}}};Lt.storeDataAccessors=["auth"];const Wa=e=>{const{isAuthenticated:t,navigate:n}=e;return $.useEffect(()=>{t||n()},[t,n]),t?c.jsx(lr,{}):null},Ga=F({controller:Lt},e=>({isAuthenticated:e.isAuthenticated(),navigate:e.navigate}))(Wa);function qa(e){const t=new Date(e);return Number.isNaN(t.getTime())?e.slice(0,10):t.toISOString().slice(0,10)}const vt=e=>{const t=new Map;return e.forEach(n=>{const r=qa(n.timestamptz);t.has(r)||t.set(r,{dateISO:r,totalVolumeKg:0,totalReps:0,sessionsCount:0});const i=t.get(r);i.sessionsCount+=1,n.exercises.forEach(s=>{s.sets.forEach(a=>{const o=typeof a.weight=="number"?a.weight:0,l=typeof a.repetitions=="number"?a.repetitions:0;i.totalVolumeKg+=o*l,i.totalReps+=l})})}),Array.from(t.values()).sort((n,r)=>n.dateISO<r.dateISO?-1:1)},yn=(e,t=7)=>{if(t<=0)return[];const n=new Map(e.map(s=>[s.dateISO,s])),r=24*60*60*1e3,i=[];for(let s=0;s<t;s+=1){const a=t-1-s,l=new Date(Date.now()-a*r).toISOString().slice(0,10),d=n.get(l);d?i.push(d):i.push({dateISO:l,totalVolumeKg:0,totalReps:0,sessionsCount:0})}return i},Rt=e=>{const t=e.getStore(),n=()=>t.getStoreData(Rt.storeDataAccessors);return{getAggregates:()=>{const r=n().completedTrainings||[];return vt(r)}}};Rt.storeDataAccessors=["completedTrainings"];const Va=({aggregates:e})=>c.jsx(X,{bottomBar:c.jsx(he,{}),dataTestId:"dashboard-screen",children:c.jsxs("div",{style:{padding:12},children:[c.jsx("h2",{children:"Progress dashboard"}),c.jsxs("section",{style:{marginTop:12},children:[c.jsx("h3",{children:"Volume trend (last 30 days)"}),c.jsx("div",{style:{height:240},children:c.jsx(Et,{data:e.slice(-30),variant:"detailed",height:240})})]}),c.jsxs("section",{style:{marginTop:12},children:[c.jsx("h3",{children:"Sessions (last 30 days)"}),c.jsx("div",{style:{height:160},children:c.jsx(Et,{data:e.slice(-30),variant:"bar",height:160})})]})]})}),Ka=F({controller:Rt},e=>({aggregates:e.getAggregates()}))(Va),Xa="_app_f3a00_18",Za="_releaseVersion_f3a00_22",_n={app:Xa,releaseVersion:Za},Ja=()=>c.jsx(lr,{}),Ya=()=>c.jsx(Js,{}),Qa=()=>c.jsx(Ka,{}),eo=()=>c.jsx(Ga,{}),to=()=>c.jsx(mi,{}),no=()=>c.jsx(ci,{}),ro=()=>c.jsx(va,{}),so=()=>c.jsx(Ua,{}),io=()=>c.jsx(xi,{}),ao=()=>c.jsx(La,{}),oo=()=>c.jsx(Ha,{}),co=()=>c.jsx(Ma,{}),lo=()=>c.jsx(aa,{});class uo extends N.Component{constructor(n){super(n);S(this,"apis");S(this,"appContext");const{apis:r,appContext:i}=n;this.apis=r,this.appContext=i}componentDidMount(){const n={DEFAULT_NOT_FOUND:fi,__root__:Ja,"/":Ya,"/dashboard":Qa,"/pathless_auth":eo,"/menu":to,"/trainings":void 0,"/trainings/":no,"/trainings/$training":void 0,"/trainings/$training/":ro,"/trainings/$training/edit":so,"/trainings/$training/new":io,"/trainings/$training/$exercise":void 0,"/trainings/$training/$exercise/":ao,"/trainings/$training/$exercise/edit":oo,"/trainings/$training/$exercise/editNew":co,"/trainings/$training/$exercise/new-exercise":lo};this.apis.navigationApi.setRouterConfiguration({routePathsToComponents:n})}render(){return c.jsx(gr.Provider,{value:this.appContext,children:c.jsxs(ls,{children:[c.jsxs("div",{className:_n.releaseVersion,children:["v","1.0.42"]}),c.jsxs("div",{className:_n.app,children:[c.jsx(T0,{}),c.jsx(D0,{}),c.jsx(Ts,{position:"bottom-right",router:this.apis.navigationApi.__router}),c.jsx(ss,{router:this.apis.navigationApi.__router})]})]})})}}const go="_navbar_my6yz_1",po={navbar:go},me=({className:e,children:t})=>c.jsx("div",{className:G(po.navbar,e),children:t}),ho=e=>$.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 384.97 384.97",xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"M12.03,84.212h360.909c6.641,0,12.03-5.39,12.03-12.03c0-6.641-5.39-12.03-12.03-12.03H12.03     C5.39,60.152,0,65.541,0,72.182C0,78.823,5.39,84.212,12.03,84.212z"}),$.createElement("path",{d:"M372.939,180.455H12.03c-6.641,0-12.03,5.39-12.03,12.03s5.39,12.03,12.03,12.03h360.909c6.641,0,12.03-5.39,12.03-12.03     S379.58,180.455,372.939,180.455z"}),$.createElement("path",{d:"M372.939,300.758H12.03c-6.641,0-12.03,5.39-12.03,12.03c0,6.641,5.39,12.03,12.03,12.03h360.909     c6.641,0,12.03-5.39,12.03-12.03C384.97,306.147,379.58,300.758,372.939,300.758z"})),mo=e=>$.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 488 488",xmlns:"http://www.w3.org/2000/svg",...e},$.createElement("path",{d:"M451.522,182.475l33.579-32.914c1.699-1.701,2.798-4.302,2.798-6.903l0,0c0-2.701-0.999-5.202-2.898-7.103l-33.979-34.014 l33.979-33.314c1.899-1.901,2.998-4.402,2.998-7.103s-0.999-5.202-2.898-7.103L434.033,2.901C432.134,1,429.636,0,426.938,0 c-2.698,0-5.197,1.1-7.096,3.001l-33.28,34.014L352.583,3.001C350.685,1.1,348.086,0.1,345.488,0.1 c-2.698,0-5.197,1.1-7.096,3.001l-32.88,33.614L271.933,3.101c-3.898-3.902-10.194-3.902-14.091,0l-51.069,51.121 c-1.899,1.901-2.898,4.402-2.898,7.103s1.099,5.202,2.898,7.103l74.454,74.531L143.012,281.315l-74.454-74.531 c-1.899-1.901-4.397-2.901-7.096-2.901c-2.698,0-5.197,1.1-7.096,2.901L3.098,257.505c-3.898,3.902-3.898,10.204,0,14.106 l33.579,33.614L2.998,338.038C1.099,339.939,0,342.44,0,345.141s0.999,5.202,2.898,7.103l34.179,34.214L3.098,419.772 c-1.899,1.901-2.998,4.402-2.998,7.103s0.999,5.202,2.898,7.103l51.069,51.121C55.966,487,58.464,488,61.163,488 c2.698,0,5.197-1.1,7.096-3.001l33.28-34.014l33.879,33.914c1.899,1.901,4.397,2.901,7.096,2.901s5.197-1.1,7.096-3.001 l33.08-33.514l33.679,33.714c1.999,2.001,4.497,2.901,7.096,2.901c2.598,0,5.097-1,7.096-2.901l51.069-51.121 c3.898-3.902,3.898-10.204,0-14.106l-74.454-74.531l138.215-138.357l74.454,74.531c1.999,2.001,4.497,2.901,7.096,2.901 s5.097-1,7.096-2.901l51.069-51.121c1.899-1.901,2.898-4.402,2.898-7.103s-1.099-5.202-2.898-7.103L451.522,182.475z M426.938,24.11l36.777,36.815l-26.883,26.411l-18.089-18.107l-18.089-18.107L426.938,24.11z M345.388,24.11l118.327,118.349 l-26.484,26.111v0L319.404,50.621L345.388,24.11z M61.163,463.89l-36.777-36.815l26.883-26.411l36.278,36.315L61.163,463.89z M142.512,463.79l-33.879-33.914l-50.269-50.321l-34.079-34.114l26.584-25.911l58.864,58.924l58.964,59.024L142.512,463.79z M260.34,427.075l-36.877,36.915l-33.679-33.714L57.964,298.322l-33.679-33.714l36.877-36.915L260.34,427.075z M192.981,331.236 l-36.178-36.215l138.215-138.357l36.178,36.215L192.981,331.236z M426.838,260.307L426.838,260.307l-82.849-82.934l-41.874-41.917 L227.66,60.925l36.877-36.915l33.679,33.714l131.819,131.954l33.679,33.714L426.838,260.307z"})),Mt=e=>{const{navigationApi:t}=e.getAPIs();return{onHomeClick:()=>{t.toHome()},onTrainingsClick:()=>{t.toTrainings()},onBurgerClick:()=>{t.toMenu()},isHomeActive:()=>t.isHomeUrl(),isTrainingsActive:()=>t.isTrainingsUrl(),isBurgerActive:()=>t.isMenuUrl(),storeDataAccessors:Mt.storeDataAccessors}};Mt.storeDataAccessors=[];const fo="_button_1nsyn_1",vo="_nunito_1nsyn_12",xo="_indieFlower_1nsyn_16",yo="_zeroStyle_1nsyn_22",_o="_primary_1nsyn_26",bo="_icon_1nsyn_35",wo="_text_1nsyn_43",To="_disabled_1nsyn_48",So="_small_1nsyn_59",Eo="_medium_1nsyn_63",Co="_large_1nsyn_67",$o="_xLarge_1nsyn_71",W={button:fo,nunito:vo,indieFlower:xo,zeroStyle:yo,primary:_o,icon:bo,text:wo,disabled:To,small:So,medium:Eo,large:Co,xLarge:$o},Ao=Ss(),D=({skin:e,font:t,size:n,className:r,children:i,disabled:s,onClick:a,...o})=>{const l={[W.zeroStyle]:e==="zero-style",[W.primary]:e==="primary",[W.icon]:e==="icon",[W.text]:e==="text"},d={[W.nunito]:t==="nunito",[W.indieFlower]:t==="indieFlower"},u={[W.small]:n==="small",[W.medium]:n==="medium",[W.large]:n==="large",[W.xLarge]:n==="xLarge"},g=Ao?jo:Do;return c.jsx(g,{type:"button",...o,onClick:s?void 0:a,disabled:s,className:G(r,W.button,l,d,u,{[W.disabled]:s}),children:i})},Do=e=>c.jsx("button",{...e}),jo=({onClick:e,children:t,style:n,...r})=>{const i=N.useRef(!1),s=()=>{i.current=!0},a=()=>{i.current=!1},o=l=>{i.current||e(l)};return c.jsx("button",{...r,onPointerDown:a,onPointerMove:s,onPointerUp:o,style:{...n,touchAction:"pan-y"},children:t})},No="_active_1ncra_1",Po="_activeBurger_1ncra_5",ko="_burger_1ncra_9",Bo="_animationBurger_1ncra_15",Ee={active:No,activeBurger:Po,burger:ko,animationBurger:Bo};class Io extends N.Component{render(){const{onHomeClick:t,onTrainingsClick:n,onBurgerClick:r,isHomeActive:i,isTrainingsActive:s,isBurgerActive:a}=this.props;return c.jsxs(me,{children:[c.jsx(D,{skin:"text",font:"indieFlower",size:"large",className:G({[Ee.active]:i}),onClick:t,"data-testid":"nav-home-button",children:"Home"}),c.jsx(D,{skin:"text",font:"indieFlower",size:"large",className:G({[Ee.active]:s}),onClick:n,"data-testid":"nav-trainings-button",children:"Trainings"}),c.jsxs(D,{skin:"icon",size:"large",className:G(Ee.burger,{[Ee.activeBurger]:a,[Ee.animationBurger]:a}),onClick:r,"data-testid":"nav-burger-button",children:[c.jsx(ho,{}),c.jsx(mo,{})]})]})}}const he=F({controller:Mt},e=>({onHomeClick:e.onHomeClick,onTrainingsClick:e.onTrainingsClick,onBurgerClick:e.onBurgerClick,isHomeActive:e.isHomeActive(),isTrainingsActive:e.isTrainingsActive(),isBurgerActive:e.isBurgerActive()}))(Io),Oo="_layout_11hts_1",Lo="_layoutTop_11hts_10",Ro="_layoutBottom_11hts_11",Mo="_layoutCenter_11hts_15",Fo="_layoutContent_11hts_21",Ce={layout:Oo,layoutTop:Lo,layoutBottom:Ro,layoutCenter:Mo,layoutContent:Fo},X=e=>{const{topBar:t,bottomBar:n,children:r,dataTestId:i}=e;return c.jsxs("div",{className:Ce.layout,"data-testid":i,children:[t&&c.jsx("div",{className:Ce.layoutTop,children:t}),c.jsx("div",{className:Ce.layoutCenter,children:c.jsx("div",{className:Ce.layoutContent,children:r})}),n&&c.jsx("div",{className:Ce.layoutBottom,children:n})]})},Ho="_input_11miz_1",zo={input:Ho},je=({value:e,onChange:t,onBlur:n,className:r,...i})=>{const[s,a]=N.useState(e),o=$.useCallback(d=>{const u=d.target.value;a(u),t==null||t(u,d)},[t]),l=$.useCallback(d=>{n==null||n(String(s),d)},[s,n]);return c.jsx("input",{...i,value:s,onChange:o,onBlur:l,className:G(zo.input,r)})};var Uo=ke,Wo=Ne,Go="[object AsyncFunction]",qo="[object Function]",Vo="[object GeneratorFunction]",Ko="[object Proxy]";function Xo(e){if(!Wo(e))return!1;var t=Uo(e);return t==qo||t==Vo||t==Go||t==Ko}var vr=Xo,Zo=Q,Jo=Zo["__core-js_shared__"],Yo=Jo,dt=Yo,bn=function(){var e=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qo(e){return!!bn&&bn in e}var ec=Qo,tc=Function.prototype,nc=tc.toString;function rc(e){if(e!=null){try{return nc.call(e)}catch{}try{return e+""}catch{}}return""}var xr=rc,sc=vr,ic=ec,ac=Ne,oc=xr,cc=/[\\^$.*+?()[\]{}|]/g,lc=/^\[object .+?Constructor\]$/,dc=Function.prototype,uc=Object.prototype,gc=dc.toString,pc=uc.hasOwnProperty,hc=RegExp("^"+gc.call(pc).replace(cc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mc(e){if(!ac(e)||ic(e))return!1;var t=sc(e)?hc:lc;return t.test(oc(e))}var fc=mc;function vc(e,t){return e==null?void 0:e[t]}var xc=vc,yc=fc,_c=xc;function bc(e,t){var n=_c(e,t);return yc(n)?n:void 0}var de=bc,wc=de,Tc=function(){try{var e=wc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yr=Tc,wn=yr;function Sc(e,t,n){t=="__proto__"&&wn?wn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ec=Sc;function Cc(e,t,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;){var a=e[i];t(r,a,n(a),e)}return r}var $c=Cc;function Ac(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var l=a[e?o:++i];if(n(s[l],l,s)===!1)break}return t}}var Dc=Ac,jc=Dc,Nc=jc(),Pc=Nc;function kc(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Bc=kc,Ic=ke,Oc=Be,Lc="[object Arguments]";function Rc(e){return Oc(e)&&Ic(e)==Lc}var Mc=Rc,Tn=Mc,Fc=Be,_r=Object.prototype,Hc=_r.hasOwnProperty,zc=_r.propertyIsEnumerable,Uc=Tn(function(){return arguments}())?Tn:function(e){return Fc(e)&&Hc.call(e,"callee")&&!zc.call(e,"callee")},Ft=Uc,Wc=Array.isArray,q=Wc,qe={exports:{}};function Gc(){return!1}var qc=Gc;qe.exports;(function(e,t){var n=Q,r=qc,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,d=l||r;e.exports=d})(qe,qe.exports);var br=qe.exports,Vc=9007199254740991,Kc=/^(?:0|[1-9]\d*)$/;function Xc(e,t){var n=typeof e;return t=t??Vc,!!t&&(n=="number"||n!="symbol"&&Kc.test(e))&&e>-1&&e%1==0&&e<t}var Ht=Xc,Zc=9007199254740991;function Jc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zc}var zt=Jc,Yc=ke,Qc=zt,el=Be,tl="[object Arguments]",nl="[object Array]",rl="[object Boolean]",sl="[object Date]",il="[object Error]",al="[object Function]",ol="[object Map]",cl="[object Number]",ll="[object Object]",dl="[object RegExp]",ul="[object Set]",gl="[object String]",pl="[object WeakMap]",hl="[object ArrayBuffer]",ml="[object DataView]",fl="[object Float32Array]",vl="[object Float64Array]",xl="[object Int8Array]",yl="[object Int16Array]",_l="[object Int32Array]",bl="[object Uint8Array]",wl="[object Uint8ClampedArray]",Tl="[object Uint16Array]",Sl="[object Uint32Array]",I={};I[fl]=I[vl]=I[xl]=I[yl]=I[_l]=I[bl]=I[wl]=I[Tl]=I[Sl]=!0;I[tl]=I[nl]=I[hl]=I[rl]=I[ml]=I[sl]=I[il]=I[al]=I[ol]=I[cl]=I[ll]=I[dl]=I[ul]=I[gl]=I[pl]=!1;function El(e){return el(e)&&Qc(e.length)&&!!I[Yc(e)]}var Cl=El;function $l(e){return function(t){return e(t)}}var wr=$l,Ve={exports:{}};Ve.exports;(function(e,t){var n=hr,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=o})(Ve,Ve.exports);var Al=Ve.exports,Dl=Cl,jl=wr,Sn=Al,En=Sn&&Sn.isTypedArray,Nl=En?jl(En):Dl,Tr=Nl,Pl=Bc,kl=Ft,Bl=q,Il=br,Ol=Ht,Ll=Tr,Rl=Object.prototype,Ml=Rl.hasOwnProperty;function Fl(e,t){var n=Bl(e),r=!n&&kl(e),i=!n&&!r&&Il(e),s=!n&&!r&&!i&&Ll(e),a=n||r||i||s,o=a?Pl(e.length,String):[],l=o.length;for(var d in e)(t||Ml.call(e,d))&&!(a&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Ol(d,l)))&&o.push(d);return o}var Hl=Fl,zl=Object.prototype;function Ul(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||zl;return e===n}var Wl=Ul;function Gl(e,t){return function(n){return e(t(n))}}var ql=Gl,Vl=ql,Kl=Vl(Object.keys,Object),Xl=Kl,Zl=Wl,Jl=Xl,Yl=Object.prototype,Ql=Yl.hasOwnProperty;function ed(e){if(!Zl(e))return Jl(e);var t=[];for(var n in Object(e))Ql.call(e,n)&&n!="constructor"&&t.push(n);return t}var td=ed,nd=vr,rd=zt;function sd(e){return e!=null&&rd(e.length)&&!nd(e)}var Je=sd,id=Hl,ad=td,od=Je;function cd(e){return od(e)?id(e):ad(e)}var Ut=cd,ld=Pc,dd=Ut;function ud(e,t){return e&&ld(e,t,dd)}var gd=ud,pd=Je;function hd(e,t){return function(n,r){if(n==null)return n;if(!pd(n))return e(n,r);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var md=hd,fd=gd,vd=md,xd=vd(fd),Sr=xd,yd=Sr;function _d(e,t,n,r){return yd(e,function(i,s,a){t(r,i,n(i),a)}),r}var bd=_d;function wd(){this.__data__=[],this.size=0}var Td=wd;function Sd(e,t){return e===t||e!==e&&t!==t}var Wt=Sd,Ed=Wt;function Cd(e,t){for(var n=e.length;n--;)if(Ed(e[n][0],t))return n;return-1}var Ye=Cd,$d=Ye,Ad=Array.prototype,Dd=Ad.splice;function jd(e){var t=this.__data__,n=$d(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Dd.call(t,n,1),--this.size,!0}var Nd=jd,Pd=Ye;function kd(e){var t=this.__data__,n=Pd(t,e);return n<0?void 0:t[n][1]}var Bd=kd,Id=Ye;function Od(e){return Id(this.__data__,e)>-1}var Ld=Od,Rd=Ye;function Md(e,t){var n=this.__data__,r=Rd(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Fd=Md,Hd=Td,zd=Nd,Ud=Bd,Wd=Ld,Gd=Fd;function fe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fe.prototype.clear=Hd;fe.prototype.delete=zd;fe.prototype.get=Ud;fe.prototype.has=Wd;fe.prototype.set=Gd;var Qe=fe,qd=Qe;function Vd(){this.__data__=new qd,this.size=0}var Kd=Vd;function Xd(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Zd=Xd;function Jd(e){return this.__data__.get(e)}var Yd=Jd;function Qd(e){return this.__data__.has(e)}var eu=Qd,tu=de,nu=Q,ru=tu(nu,"Map"),Gt=ru,su=de,iu=su(Object,"create"),et=iu,Cn=et;function au(){this.__data__=Cn?Cn(null):{},this.size=0}var ou=au;function cu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lu=cu,du=et,uu="__lodash_hash_undefined__",gu=Object.prototype,pu=gu.hasOwnProperty;function hu(e){var t=this.__data__;if(du){var n=t[e];return n===uu?void 0:n}return pu.call(t,e)?t[e]:void 0}var mu=hu,fu=et,vu=Object.prototype,xu=vu.hasOwnProperty;function yu(e){var t=this.__data__;return fu?t[e]!==void 0:xu.call(t,e)}var _u=yu,bu=et,wu="__lodash_hash_undefined__";function Tu(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bu&&t===void 0?wu:t,this}var Su=Tu,Eu=ou,Cu=lu,$u=mu,Au=_u,Du=Su;function ve(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ve.prototype.clear=Eu;ve.prototype.delete=Cu;ve.prototype.get=$u;ve.prototype.has=Au;ve.prototype.set=Du;var ju=ve,$n=ju,Nu=Qe,Pu=Gt;function ku(){this.size=0,this.__data__={hash:new $n,map:new(Pu||Nu),string:new $n}}var Bu=ku;function Iu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ou=Iu,Lu=Ou;function Ru(e,t){var n=e.__data__;return Lu(t)?n[typeof t=="string"?"string":"hash"]:n.map}var tt=Ru,Mu=tt;function Fu(e){var t=Mu(this,e).delete(e);return this.size-=t?1:0,t}var Hu=Fu,zu=tt;function Uu(e){return zu(this,e).get(e)}var Wu=Uu,Gu=tt;function qu(e){return Gu(this,e).has(e)}var Vu=qu,Ku=tt;function Xu(e,t){var n=Ku(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Zu=Xu,Ju=Bu,Yu=Hu,Qu=Wu,eg=Vu,tg=Zu;function xe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xe.prototype.clear=Ju;xe.prototype.delete=Yu;xe.prototype.get=Qu;xe.prototype.has=eg;xe.prototype.set=tg;var qt=xe,ng=Qe,rg=Gt,sg=qt,ig=200;function ag(e,t){var n=this.__data__;if(n instanceof ng){var r=n.__data__;if(!rg||r.length<ig-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sg(r)}return n.set(e,t),this.size=n.size,this}var og=ag,cg=Qe,lg=Kd,dg=Zd,ug=Yd,gg=eu,pg=og;function ye(e){var t=this.__data__=new cg(e);this.size=t.size}ye.prototype.clear=lg;ye.prototype.delete=dg;ye.prototype.get=ug;ye.prototype.has=gg;ye.prototype.set=pg;var Er=ye,hg="__lodash_hash_undefined__";function mg(e){return this.__data__.set(e,hg),this}var fg=mg;function vg(e){return this.__data__.has(e)}var xg=vg,yg=qt,_g=fg,bg=xg;function Ke(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new yg;++t<n;)this.add(e[t])}Ke.prototype.add=Ke.prototype.push=_g;Ke.prototype.has=bg;var wg=Ke;function Tg(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Sg=Tg;function Eg(e,t){return e.has(t)}var Cg=Eg,$g=wg,Ag=Sg,Dg=Cg,jg=1,Ng=2;function Pg(e,t,n,r,i,s){var a=n&jg,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var d=s.get(e),u=s.get(t);if(d&&u)return d==t&&u==e;var g=-1,p=!0,h=n&Ng?new $g:void 0;for(s.set(e,t),s.set(t,e);++g<o;){var m=e[g],_=t[g];if(r)var x=a?r(_,m,g,t,e,s):r(m,_,g,e,t,s);if(x!==void 0){if(x)continue;p=!1;break}if(h){if(!Ag(t,function(E,P){if(!Dg(h,P)&&(m===E||i(m,E,n,r,s)))return h.push(P)})){p=!1;break}}else if(!(m===_||i(m,_,n,r,s))){p=!1;break}}return s.delete(e),s.delete(t),p}var Cr=Pg,kg=Q,Bg=kg.Uint8Array,Ig=Bg;function Og(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Lg=Og;function Rg(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Mg=Rg,An=Pe,Dn=Ig,Fg=Wt,Hg=Cr,zg=Lg,Ug=Mg,Wg=1,Gg=2,qg="[object Boolean]",Vg="[object Date]",Kg="[object Error]",Xg="[object Map]",Zg="[object Number]",Jg="[object RegExp]",Yg="[object Set]",Qg="[object String]",ep="[object Symbol]",tp="[object ArrayBuffer]",np="[object DataView]",jn=An?An.prototype:void 0,ut=jn?jn.valueOf:void 0;function rp(e,t,n,r,i,s,a){switch(n){case np:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tp:return!(e.byteLength!=t.byteLength||!s(new Dn(e),new Dn(t)));case qg:case Vg:case Zg:return Fg(+e,+t);case Kg:return e.name==t.name&&e.message==t.message;case Jg:case Qg:return e==t+"";case Xg:var o=zg;case Yg:var l=r&Wg;if(o||(o=Ug),e.size!=t.size&&!l)return!1;var d=a.get(e);if(d)return d==t;r|=Gg,a.set(e,t);var u=Hg(o(e),o(t),r,i,s,a);return a.delete(e),u;case ep:if(ut)return ut.call(e)==ut.call(t)}return!1}var sp=rp;function ip(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var $r=ip,ap=$r,op=q;function cp(e,t,n){var r=t(e);return op(e)?r:ap(r,n(e))}var lp=cp;function dp(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}var up=dp;function gp(){return[]}var pp=gp,hp=up,mp=pp,fp=Object.prototype,vp=fp.propertyIsEnumerable,Nn=Object.getOwnPropertySymbols,xp=Nn?function(e){return e==null?[]:(e=Object(e),hp(Nn(e),function(t){return vp.call(e,t)}))}:mp,yp=xp,_p=lp,bp=yp,wp=Ut;function Tp(e){return _p(e,wp,bp)}var Sp=Tp,Pn=Sp,Ep=1,Cp=Object.prototype,$p=Cp.hasOwnProperty;function Ap(e,t,n,r,i,s){var a=n&Ep,o=Pn(e),l=o.length,d=Pn(t),u=d.length;if(l!=u&&!a)return!1;for(var g=l;g--;){var p=o[g];if(!(a?p in t:$p.call(t,p)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var _=!0;s.set(e,t),s.set(t,e);for(var x=a;++g<l;){p=o[g];var E=e[p],P=t[p];if(r)var k=a?r(P,E,p,t,e,s):r(E,P,p,e,t,s);if(!(k===void 0?E===P||i(E,P,n,r,s):k)){_=!1;break}x||(x=p=="constructor")}if(_&&!x){var b=e.constructor,A=t.constructor;b!=A&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof A=="function"&&A instanceof A)&&(_=!1)}return s.delete(e),s.delete(t),_}var Dp=Ap,jp=de,Np=Q,Pp=jp(Np,"DataView"),kp=Pp,Bp=de,Ip=Q,Op=Bp(Ip,"Promise"),Lp=Op,Rp=de,Mp=Q,Fp=Rp(Mp,"Set"),Hp=Fp,zp=de,Up=Q,Wp=zp(Up,"WeakMap"),Gp=Wp,xt=kp,yt=Gt,_t=Lp,bt=Hp,wt=Gp,Ar=ke,_e=xr,kn="[object Map]",qp="[object Object]",Bn="[object Promise]",In="[object Set]",On="[object WeakMap]",Ln="[object DataView]",Vp=_e(xt),Kp=_e(yt),Xp=_e(_t),Zp=_e(bt),Jp=_e(wt),re=Ar;(xt&&re(new xt(new ArrayBuffer(1)))!=Ln||yt&&re(new yt)!=kn||_t&&re(_t.resolve())!=Bn||bt&&re(new bt)!=In||wt&&re(new wt)!=On)&&(re=function(e){var t=Ar(e),n=t==qp?e.constructor:void 0,r=n?_e(n):"";if(r)switch(r){case Vp:return Ln;case Kp:return kn;case Xp:return Bn;case Zp:return In;case Jp:return On}return t});var Yp=re,gt=Er,Qp=Cr,eh=sp,th=Dp,Rn=Yp,Mn=q,Fn=br,nh=Tr,rh=1,Hn="[object Arguments]",zn="[object Array]",Re="[object Object]",sh=Object.prototype,Un=sh.hasOwnProperty;function ih(e,t,n,r,i,s){var a=Mn(e),o=Mn(t),l=a?zn:Rn(e),d=o?zn:Rn(t);l=l==Hn?Re:l,d=d==Hn?Re:d;var u=l==Re,g=d==Re,p=l==d;if(p&&Fn(e)){if(!Fn(t))return!1;a=!0,u=!1}if(p&&!u)return s||(s=new gt),a||nh(e)?Qp(e,t,n,r,i,s):eh(e,t,l,n,r,i,s);if(!(n&rh)){var h=u&&Un.call(e,"__wrapped__"),m=g&&Un.call(t,"__wrapped__");if(h||m){var _=h?e.value():e,x=m?t.value():t;return s||(s=new gt),i(_,x,n,r,s)}}return p?(s||(s=new gt),th(e,t,n,r,i,s)):!1}var ah=ih,oh=ah,Wn=Be;function Dr(e,t,n,r,i){return e===t?!0:e==null||t==null||!Wn(e)&&!Wn(t)?e!==e&&t!==t:oh(e,t,n,r,Dr,i)}var jr=Dr,ch=Er,lh=jr,dh=1,uh=2;function gh(e,t,n,r){var i=n.length,s=i,a=!r;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var l=o[0],d=e[l],u=o[1];if(a&&o[2]){if(d===void 0&&!(l in e))return!1}else{var g=new ch;if(r)var p=r(d,u,l,e,t,g);if(!(p===void 0?lh(u,d,dh|uh,r,g):p))return!1}}return!0}var ph=gh,hh=Ne;function mh(e){return e===e&&!hh(e)}var Nr=mh,fh=Nr,vh=Ut;function xh(e){for(var t=vh(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fh(i)]}return t}var yh=xh;function _h(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Pr=_h,bh=ph,wh=yh,Th=Pr;function Sh(e){var t=wh(e);return t.length==1&&t[0][2]?Th(t[0][0],t[0][1]):function(n){return n===e||bh(n,e,t)}}var Eh=Sh,Ch=q,$h=Ie,Ah=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dh=/^\w*$/;function jh(e,t){if(Ch(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||$h(e)?!0:Dh.test(e)||!Ah.test(e)||t!=null&&e in Object(t)}var Vt=jh,kr=qt,Nh="Expected a function";function Kt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Nh);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Kt.Cache||kr),n}Kt.Cache=kr;var Ph=Kt,kh=Ph,Bh=500;function Ih(e){var t=kh(e,function(r){return n.size===Bh&&n.clear(),r}),n=t.cache;return t}var Oh=Ih,Lh=Oh,Rh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mh=/\\(\\)?/g,Fh=Lh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Rh,function(n,r,i,s){t.push(i?s.replace(Mh,"$1"):r||n)}),t}),Hh=Fh;function zh(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Br=zh,Gn=Pe,Uh=Br,Wh=q,Gh=Ie,qn=Gn?Gn.prototype:void 0,Vn=qn?qn.toString:void 0;function Ir(e){if(typeof e=="string")return e;if(Wh(e))return Uh(e,Ir)+"";if(Gh(e))return Vn?Vn.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var qh=Ir,Vh=qh;function Kh(e){return e==null?"":Vh(e)}var Xh=Kh,Zh=q,Jh=Vt,Yh=Hh,Qh=Xh;function em(e,t){return Zh(e)?e:Jh(e,t)?[e]:Yh(Qh(e))}var Or=em,tm=Ie;function nm(e){if(typeof e=="string"||tm(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var nt=nm,rm=Or,sm=nt;function im(e,t){t=rm(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[sm(t[n++])];return n&&n==r?e:void 0}var Xt=im,am=Xt;function om(e,t,n){var r=e==null?void 0:am(e,t);return r===void 0?n:r}var cm=om;function lm(e,t){return e!=null&&t in Object(e)}var dm=lm,um=Or,gm=Ft,pm=q,hm=Ht,mm=zt,fm=nt;function vm(e,t,n){t=um(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var a=fm(t[r]);if(!(s=e!=null&&n(e,a)))break;e=e[a]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&mm(i)&&hm(a,i)&&(pm(e)||gm(e)))}var xm=vm,ym=dm,_m=xm;function bm(e,t){return e!=null&&_m(e,t,ym)}var wm=bm,Tm=jr,Sm=cm,Em=wm,Cm=Vt,$m=Nr,Am=Pr,Dm=nt,jm=1,Nm=2;function Pm(e,t){return Cm(e)&&$m(t)?Am(Dm(e),t):function(n){var r=Sm(n,e);return r===void 0&&r===t?Em(n,e):Tm(t,r,jm|Nm)}}var km=Pm;function Bm(e){return e}var rt=Bm;function Im(e){return function(t){return t==null?void 0:t[e]}}var Om=Im,Lm=Xt;function Rm(e){return function(t){return Lm(t,e)}}var Mm=Rm,Fm=Om,Hm=Mm,zm=Vt,Um=nt;function Wm(e){return zm(e)?Fm(Um(e)):Hm(e)}var Gm=Wm,qm=Eh,Vm=km,Km=rt,Xm=q,Zm=Gm;function Jm(e){return typeof e=="function"?e:e==null?Km:typeof e=="object"?Xm(e)?Vm(e[0],e[1]):qm(e):Zm(e)}var Lr=Jm,Ym=$c,Qm=bd,ef=Lr,tf=q;function nf(e,t){return function(n,r){var i=tf(n)?Ym:Qm,s=t?t():{};return i(n,e,ef(r),s)}}var rf=nf,sf=Ec,af=rf,of=Object.prototype,cf=of.hasOwnProperty,lf=af(function(e,t,n){cf.call(e,n)?e[n].push(t):sf(e,n,[t])}),df=lf;const Rr=Ze(df),uf="_input_1pngz_1",gf="_dropdown_1pngz_5",Kn={input:uf,dropdown:gf},pf=({initialValue:e,options:t,onSelectOption:n,onCreateOption:r,onClearSelection:i})=>{const s=ds({onDropdownClose:()=>s.resetSelectedOption()}),[a,o]=$.useState(e||""),l=t.some(h=>h.label===a),d=l?t:t.filter(h=>h.label.toLowerCase().includes(a.toLowerCase().trim())),u=Rr(d,h=>h.group),g=Object.entries(u).map(([h,m])=>c.jsx(Z.Group,{"data-testid":"autocomplete-option-group",label:h,children:m.map(_=>c.jsx(Z.Option,{"data-testid":"autocomplete-option",value:_.value,children:_.label},_.value))},h)),p=()=>{o(""),i==null||i()};return c.jsxs(Z,{store:s,withinPortal:!1,onOptionSubmit:h=>{var m;if(h==="$create")r==null||r(a);else{const _=(m=t.find(x=>x.value===h))==null?void 0:m.label;_&&(o(_),n(h))}s.closeDropdown()},classNames:{dropdown:Kn.dropdown},children:[c.jsx(Z.Target,{children:c.jsx(us,{"data-testid":"autocomplete-input",className:Kn.input,leftSection:c.jsx(Z.ClearButton,{onClear:p}),rightSection:c.jsx(Z.Chevron,{}),value:a,onChange:h=>{s.openDropdown(),s.updateSelectedOptionIndex(),o(h.currentTarget.value)},onClick:()=>s.openDropdown(),onFocus:()=>s.openDropdown(),onBlur:()=>{s.closeDropdown()},placeholder:"Search value",rightSectionPointerEvents:"none"})}),c.jsx(Z.Dropdown,{"data-testid":"autocomplete-dropdown",children:c.jsxs(Z.Options,{children:[g,!l&&a.trim().length>0&&c.jsxs(Z.Option,{"data-testid":"autocomplete-option-create",value:"$create",children:['+ Create: "',a,'"']},"create-option")]})})]})};var Xn=Pe,hf=Ft,mf=q,Zn=Xn?Xn.isConcatSpreadable:void 0;function ff(e){return mf(e)||hf(e)||!!(Zn&&e&&e[Zn])}var vf=ff,xf=$r,yf=vf;function Mr(e,t,n,r,i){var s=-1,a=e.length;for(n||(n=yf),i||(i=[]);++s<a;){var o=e[s];t>0&&n(o)?t>1?Mr(o,t-1,n,r,i):xf(i,o):r||(i[i.length]=o)}return i}var _f=Mr,bf=Sr,wf=Je;function Tf(e,t){var n=-1,r=wf(e)?Array(e.length):[];return bf(e,function(i,s,a){r[++n]=t(i,s,a)}),r}var Sf=Tf;function Ef(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Cf=Ef,Jn=Ie;function $f(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=Jn(e),a=t!==void 0,o=t===null,l=t===t,d=Jn(t);if(!o&&!d&&!s&&e>t||s&&a&&l&&!o&&!d||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!d&&e<t||d&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var Af=$f,Df=Af;function jf(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,a=i.length,o=n.length;++r<a;){var l=Df(i[r],s[r]);if(l){if(r>=o)return l;var d=n[r];return l*(d=="desc"?-1:1)}}return e.index-t.index}var Nf=jf,pt=Br,Pf=Xt,kf=Lr,Bf=Sf,If=Cf,Of=wr,Lf=Nf,Rf=rt,Mf=q;function Ff(e,t,n){t.length?t=pt(t,function(s){return Mf(s)?function(a){return Pf(a,s.length===1?s[0]:s)}:s}):t=[Rf];var r=-1;t=pt(t,Of(kf));var i=Bf(e,function(s,a,o){var l=pt(t,function(d){return d(s)});return{criteria:l,index:++r,value:s}});return If(i,function(s,a){return Lf(s,a,n)})}var Hf=Ff;function zf(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Uf=zf,Wf=Uf,Yn=Math.max;function Gf(e,t,n){return t=Yn(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=Yn(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),Wf(e,this,o)}}var qf=Gf;function Vf(e){return function(){return e}}var Kf=Vf,Xf=Kf,Qn=yr,Zf=rt,Jf=Qn?function(e,t){return Qn(e,"toString",{configurable:!0,enumerable:!1,value:Xf(t),writable:!0})}:Zf,Yf=Jf,Qf=800,e1=16,t1=Date.now;function n1(e){var t=0,n=0;return function(){var r=t1(),i=e1-(r-n);if(n=r,i>0){if(++t>=Qf)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r1=n1,s1=Yf,i1=r1,a1=i1(s1),o1=a1,c1=rt,l1=qf,d1=o1;function u1(e,t){return d1(l1(e,t,c1),e+"")}var g1=u1,p1=Wt,h1=Je,m1=Ht,f1=Ne;function v1(e,t,n){if(!f1(n))return!1;var r=typeof t;return(r=="number"?h1(n)&&m1(t,n.length):r=="string"&&t in n)?p1(n[t],e):!1}var x1=v1,y1=_f,_1=Hf,b1=g1,er=x1,w1=b1(function(e,t){if(e==null)return[];var n=t.length;return n>1&&er(e,t[0],t[1])?t=[]:n>2&&er(t[0],t[1],t[2])&&(t=[t[0]]),_1(e,y1(t,1),[])}),T1=w1;const S1=Ze(T1),E1=[{label:"Barbell Bench Press",value:"barbellBenchPress",group:"chest"},{label:"Deadlift",value:"deadlift",group:"compound"},{label:"Arm Curls Seated Biceps",value:"armCurlsSeatedBiceps",group:"biceps"},{label:"Barbell Back Squat",value:"barbellBackSquat",group:"legs"},{label:"Barbell Row (Lats)",value:"barbellRowLats",group:"back"},{label:"Cable Fly Biceps",value:"cableFlyBiceps",group:"biceps"},{label:"Calf Press Standing",value:"calfPressStanding",group:"legs"},{label:"Chest Supported Machine Row (Traps)",value:"chestSupportedMachineRowTraps",group:"back"},{label:"Close-grip Barbell Bench Press",value:"closeGripBarbellBenchPress",group:"triceps"},{label:"Dumbbell Incline Bench Press",value:"dumbbellInclineBenchPress",group:"chest"},{label:"Dumbbell Overhead Triceps Extension, 1 Arm",value:"dumbbellOverheadTricepsExtension1Arm",group:"triceps"},{label:"Dumbbell Scull Crusher",value:"dumbbellScullCrusher",group:"triceps"},{label:"Incline Machine Chest Press",value:"inclineMachineChestPress",group:"chest"},{label:"Leg Press Calf Rises",value:"legPressCalfRises",group:"legs"},{label:"Overhead Cable Extension 1 Arm",value:"overheadCableExtension1Arm",group:"triceps"},{label:"Plate Loaded Lat Pulldown",value:"plateLoadedLatPulldown",group:"back"},{label:"Pushups",value:"pushups",group:"chest"},{label:"Scott Curls Biceps",value:"scottCurlsBiceps",group:"biceps"},{label:"Seated Dumbbell Curls Supinated",value:"seatedDumbbellCurlsSupinated",group:"biceps"},{label:"Seated Dumbbell Shoulder Press",value:"seatedDumbbellShoulderPress",group:"shoulders"},{label:"Single Arm Dumbbell Row",value:"singleArmDumbbellRow",group:"back"},{label:"Standing Dumbbell Curl",value:"standingDumbbellCurl",group:"biceps"},{label:"Standing Dumbbell Hammer Curl",value:"standingDumbbellHammerCurl",group:"biceps"},{label:"Standing EZ Bar Curl",value:"standingEZBarCurl",group:"biceps"},{label:"Standing EZ Barbell Curls",value:"standingEZBarbellCurls",group:"biceps"},{label:"Triceps Cable Pushdowns",value:"tricepsCablePushdowns",group:"triceps"}],Zt=e=>{const{getStoreData:t}=e.getStore(),{trainingsApi:n}=e.getAPIs(),r=()=>t(Zt.storeDataAccessors).exerciseTypes,i=()=>{const s=r();return[...E1,...s].sort((o,l)=>o.group.localeCompare(l.group))};return{getExerciseTypes:()=>i(),onCreateNewType:(s,a)=>{n.create.exerciseType({label:s,group:a})},getSelectedTypeLabel:s=>{var o;return(o=i().find(l=>l.value===s))==null?void 0:o.label},isSaveDisabledDefault:s=>!s.name.trim().length}};Zt.storeDataAccessors=["exerciseTypes"];function Tt(e,t){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tt(e,t)}function Jt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tt(e,t)}function C1(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function $1(e,t){e.classList?e.classList.add(t):C1(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function tr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function A1(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=tr(e.className,t):e.setAttribute("class",tr(e.className&&e.className.baseVal||"",t))}const nr={disabled:!1},Xe=N.createContext(null);var Fr=function(t){return t.scrollTop},Ae="unmounted",se="exited",ie="entering",pe="entered",St="exiting",ee=function(e){Jt(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=i,o=a&&!a.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?o?(l=se,s.appearStatus=ie):l=pe:r.unmountOnExit||r.mountOnEnter?l=Ae:l=se,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Ae?{status:se}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==ie&&a!==pe&&(s=ie):(a===ie||a===pe)&&(s=St)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ie){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Le.findDOMNode(this);a&&Fr(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===se&&this.setState({status:Ae})},n.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[Le.findDOMNode(this),o],d=l[0],u=l[1],g=this.getTimeouts(),p=o?g.appear:g.enter;if(!i&&!a||nr.disabled){this.safeSetState({status:pe},function(){s.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:ie},function(){s.props.onEntering(d,u),s.onTransitionEnd(p,function(){s.safeSetState({status:pe},function(){s.props.onEntered(d,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Le.findDOMNode(this);if(!s||nr.disabled){this.safeSetState({status:se},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:St},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:se},function(){i.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Le.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=l[0],u=l[1];this.props.addEndListener(d,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ae)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=Ct(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return N.createElement(Xe.Provider,{value:null},typeof a=="function"?a(i,o):N.cloneElement(N.Children.only(a),o))},t}(N.Component);ee.contextType=Xe;ee.propTypes={};function ue(){}ee.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ue,onEntering:ue,onEntered:ue,onExit:ue,onExiting:ue,onExited:ue};ee.UNMOUNTED=Ae;ee.EXITED=se;ee.ENTERING=ie;ee.ENTERED=pe;ee.EXITING=St;var D1=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return $1(t,r)})},ht=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return A1(t,r)})},st=function(e){Jt(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(o,l){var d=r.resolveArguments(o,l),u=d[0],g=d[1];r.removeClasses(u,"exit"),r.addClass(u,g?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(o,l)},r.onEntering=function(o,l){var d=r.resolveArguments(o,l),u=d[0],g=d[1],p=g?"appear":"enter";r.addClass(u,p,"active"),r.props.onEntering&&r.props.onEntering(o,l)},r.onEntered=function(o,l){var d=r.resolveArguments(o,l),u=d[0],g=d[1],p=g?"appear":"enter";r.removeClasses(u,p),r.addClass(u,p,"done"),r.props.onEntered&&r.props.onEntered(o,l)},r.onExit=function(o){var l=r.resolveArguments(o),d=l[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(o)},r.onExiting=function(o){var l=r.resolveArguments(o),d=l[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(o)},r.onExited=function(o){var l=r.resolveArguments(o),d=l[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(o)},r.resolveArguments=function(o,l){return r.props.nodeRef?[r.props.nodeRef.current,o]:[o,l]},r.getClassNames=function(o){var l=r.props.classNames,d=typeof l=="string",u=d&&l?l+"-":"",g=d?""+u+o:l[o],p=d?g+"-active":l[o+"Active"],h=d?g+"-done":l[o+"Done"];return{baseClassName:g,activeClassName:p,doneClassName:h}},r}var n=t.prototype;return n.addClass=function(i,s,a){var o=this.getClassNames(s)[a+"ClassName"],l=this.getClassNames("enter"),d=l.doneClassName;s==="appear"&&a==="done"&&d&&(o+=" "+d),a==="active"&&i&&Fr(i),o&&(this.appliedClasses[s][a]=o,D1(i,o))},n.removeClasses=function(i,s){var a=this.appliedClasses[s],o=a.base,l=a.active,d=a.done;this.appliedClasses[s]={},o&&ht(i,o),l&&ht(i,l),d&&ht(i,d)},n.render=function(){var i=this.props;i.classNames;var s=Ct(i,["classNames"]);return N.createElement(ee,dr({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(N.Component);st.defaultProps={classNames:""};st.propTypes={};function j1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e,t){var n=function(s){return t&&$.isValidElement(s)?t(s):s},r=Object.create(null);return e&&$.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function N1(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var a,o={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var d=r[l][a];o[r[l][a]]=n(d)}o[l]=n(l)}for(a=0;a<i.length;a++)o[i[a]]=n(i[a]);return o}function oe(e,t,n){return n[t]!=null?n[t]:e.props[t]}function P1(e,t){return Yt(e.children,function(n){return $.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:oe(n,"appear",e),enter:oe(n,"enter",e),exit:oe(n,"exit",e)})})}function k1(e,t,n){var r=Yt(e.children),i=N1(t,r);return Object.keys(i).forEach(function(s){var a=i[s];if($.isValidElement(a)){var o=s in t,l=s in r,d=t[s],u=$.isValidElement(d)&&!d.props.in;l&&(!o||u)?i[s]=$.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:oe(a,"exit",e),enter:oe(a,"enter",e)}):!l&&o&&!u?i[s]=$.cloneElement(a,{in:!1}):l&&o&&$.isValidElement(d)&&(i[s]=$.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:oe(a,"exit",e),enter:oe(a,"enter",e)}))}}),i}var B1=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},I1={component:"div",childFactory:function(t){return t}},it=function(e){Jt(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=s.handleExited.bind(j1(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?P1(i,o):k1(i,a,o),firstRender:!1}},n.handleExited=function(i,s){var a=Yt(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var l=dr({},o.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=Ct(i,["component","childFactory"]),l=this.state.contextValue,d=B1(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?N.createElement(Xe.Provider,{value:l},d):N.createElement(Xe.Provider,{value:l},N.createElement(s,o,d))},t}(N.Component);it.propTypes={};it.defaultProps=I1;const O1="_screen_pj8jq_1",L1="_screenNoData_pj8jq_8",R1="_button_pj8jq_11",M1="_navbarContainer_pj8jq_15",F1="_topBar_pj8jq_19",H1="_sets_pj8jq_29",z1="_set_pj8jq_29",U1="_setDelete_pj8jq_46",W1="_setName_pj8jq_50",G1="_setRepetitions_pj8jq_54",q1="_setWeight_pj8jq_58",V1="_weightUnit_pj8jq_70",K1="_setEnter_pj8jq_74",X1="_setActiveEnter_pj8jq_78",Z1="_setExit_pj8jq_83",J1="_setActiveExit_pj8jq_87",R={screen:O1,screenNoData:L1,button:R1,navbarContainer:M1,topBar:F1,sets:H1,set:z1,setDelete:U1,setName:W1,setRepetitions:G1,setWeight:q1,weightUnit:V1,setEnter:K1,setActiveEnter:X1,setExit:Z1,setActiveExit:J1},Y1=S1(["compound","miscellaneous","chest","legs","back","shoulders","biceps","triceps","abs"]),Q1=e=>{const[t,n]=gs(!1),[r,i]=N.useState(null),[s,a]=N.useState(null),{data:o,dataTestId:l,exerciseTypes:d,disabledDelete:u,disabledSave:g,onAddSet:p,onChangeName:h,onCreateNewType:m,getSelectedTypeLabel:_,onDelete:x,onSave:E,onDeleteSet:P,onChangeRepetitions:k,onChangeWeight:b,isSaveDisabledDefault:A}=e,U=C=>{i(C),a(null),n.open()},f=()=>{r&&s&&(m(r,s),h(r)),n.close(),a(null),i(null)},v=()=>c.jsx("div",{className:R.topBar,children:c.jsx(pf,{initialValue:o.name,options:d,className:R.input,onSelectOption:C=>{const O=_(C);O&&h(O)},onCreateOption:C=>{U(C)},onClearSelection:()=>{h("")}})}),y=()=>c.jsxs(me,{className:R.navbarContainer,children:[c.jsx(D,{skin:"icon",size:"large",onClick:x,"data-testid":"exercise-delete-button",disabled:u,children:c.jsx(ce,{})}),c.jsx(D,{skin:"icon",size:"large",onClick:E,"data-testid":"exercise-save-button",disabled:g??A(o),children:c.jsx(Ge,{})})]}),T=()=>c.jsx(it,{component:"ul",className:R.sets,"data-testid":"sets-list",children:o.sets.map((C,O)=>c.jsx(st,{timeout:250,classNames:{enter:R.setEnter,enterActive:R.setActiveEnter,exit:R.setExit,exitActive:R.setActiveExit},children:c.jsxs("li",{className:R.set,"data-testid":"set-item",children:[c.jsx(D,{skin:"icon",size:"medium",className:R.setDelete,onClick:()=>P(C.id),"data-testid":"delete-set-button",children:c.jsx(ce,{})}),c.jsxs("div",{className:R.setName,children:["Set ",O+1]}),c.jsx("div",{className:R.setRepetitions,children:c.jsx(je,{type:"number",value:C.repetitions,onBlur:j=>k(C.id,j),onChange:()=>{},className:R.input,"data-testid":"set-repetitions-input"})}),c.jsx("div",{children:"X"}),c.jsx("div",{className:R.setWeight,children:c.jsx(je,{type:"number",value:C.weight,onBlur:j=>b(C.id,j),onChange:()=>{},className:R.input,"data-testid":"set-weight-input"})}),c.jsx("div",{className:R.weightUnit,children:"kg"})]})},C.id))}),w=!!o.sets.length;return c.jsx(X,{dataTestId:l,topBar:v(),bottomBar:y(),children:c.jsxs("div",{className:G(R.screen,{[R.screenNoData]:!w}),children:[T(),c.jsx(D,{skin:"primary",font:"nunito",className:R.button,onClick:p,"data-testid":"add-set-button",children:"Add set"}),c.jsxs(ps,{opened:t,onClose:n.close,overlayProps:{backgroundOpacity:.55,blur:3},children:[c.jsx(hs,{label:"Choose group for new exercise type",placeholder:"Pick value",data:Y1,onChange:a}),c.jsx(D,{skin:"icon",size:"large",onClick:f,"data-testid":"finish-create-exercise-type-button",disabled:!s,children:c.jsx(Ge,{})})]})]})})},Qt=F({controller:Zt},e=>({exerciseTypes:e.getExerciseTypes(),onCreateNewType:e.onCreateNewType,getSelectedTypeLabel:e.getSelectedTypeLabel,isSaveDisabledDefault:e.isSaveDisabledDefault}))(Q1),e0="_screen_fbnhd_1",t0="_screenNoData_fbnhd_8",n0="_button_fbnhd_11",r0="_navbarContainer_fbnhd_15",s0="_topBar_fbnhd_19",i0="_exercises_fbnhd_29",a0="_exercise_fbnhd_29",o0="_exerciseBox_fbnhd_44",c0="_exerciseDelete_fbnhd_54",l0="_setEnter_fbnhd_58",d0="_setActiveEnter_fbnhd_62",u0="_setExit_fbnhd_67",g0="_setActiveExit_fbnhd_71",z={screen:e0,screenNoData:t0,button:n0,navbarContainer:r0,topBar:s0,exercises:i0,exercise:a0,exerciseBox:o0,exerciseDelete:c0,setEnter:l0,setActiveEnter:d0,setExit:u0,setActiveExit:g0},Hr=({id:e,name:t,exercises:n,dataTestId:r,onChangeName:i,onAddExercise:s,onDelete:a,onSave:o,onDeleteExercise:l,onOpenExercise:d})=>{const u=!!n.length;return c.jsx(X,{dataTestId:r,topBar:c.jsx("div",{className:z.topBar,children:c.jsx(je,{type:"text",value:t,onBlur:i,"data-testid":"training-name-input"})}),bottomBar:c.jsxs(me,{className:z.navbarContainer,children:[c.jsx(D,{skin:"icon",size:"large",onClick:a,"data-testid":"training-delete-button",children:c.jsx(ce,{})}),c.jsx(D,{skin:"icon",size:"large",onClick:o,"data-testid":"training-save-button",children:c.jsx(Ge,{})})]}),children:c.jsxs("div",{className:G(z.screen,{[z.screenNoData]:!u}),children:[c.jsx(it,{component:"ul",className:z.exercises,"data-testid":"exercises-list",children:n.map(g=>c.jsx(st,{timeout:250,classNames:{enter:z.setEnter,enterActive:z.setActiveEnter,exit:z.setExit,exitActive:z.setActiveExit},children:c.jsxs("li",{className:z.exercise,"data-testid":"exercise-item",children:[c.jsx(D,{skin:"icon",size:"medium",className:z.exerciseDelete,onClick:()=>l(e,g.id),"data-testid":"delete-exercise-button",children:c.jsx(ce,{})}),c.jsxs("div",{className:z.exerciseBox,onClick:()=>d(g.id),"data-testid":"open-exercise-button",children:[g.name,c.jsx("br",{}),g.setsPreview]})]})},g.id))}),c.jsx(D,{skin:"primary",font:"nunito",className:z.button,onClick:s,"data-testid":"add-exercise-button",children:"Add exersise"})]})})},en=e=>{const t=e.getStore(),{notificationsApi:n}=e.getAPIs();return{getNotifications:()=>t.getStoreData(en.storeDataAccessors).notifications,removeNotification:r=>n.removeNotification(r)}};en.storeDataAccessors=["notifications"];const p0="_notifications_1c88m_1",h0="_toast_1c88m_12",m0="_toastInfo_1c88m_22",f0="_toastSuccess_1c88m_26",v0="_toastError_1c88m_30",x0="_message_1c88m_34",y0="_closeBtn_1c88m_41",ae={notifications:p0,toast:h0,toastInfo:m0,toastSuccess:f0,toastError:v0,message:x0,closeBtn:y0},_0=5e3,b0=({n:e,onClose:t})=>($.useEffect(()=>{const n=setTimeout(()=>t(e.id),_0);return()=>clearTimeout(n)},[e.id,t]),c.jsxs("div",{className:G(ae.toast,{[ae.toastError]:e.type==="error",[ae.toastSuccess]:e.type==="success",[ae.toastInfo]:e.type==="info"}),role:"status","aria-live":"polite","data-testid":"notification",children:[c.jsx("div",{className:ae.message,"data-testid":"notification-message",children:e.message}),c.jsx(D,{skin:"icon",size:"small",className:ae.closeBtn,onClick:()=>t(e.id),"aria-label":"Dismiss","data-testid":"dismiss-notification-button",children:c.jsx(ce,{})})]})),w0=({notifications:e,removeNotification:t})=>e.length?c.jsx("div",{className:ae.notifications,"aria-live":"polite","data-testid":"notifications-container",children:e.map(n=>c.jsx(b0,{n,onClose:t},n.id))}):null,T0=F({controller:en},e=>({notifications:e.getNotifications(),removeNotification:e.removeNotification}))(w0),tn=e=>{const t=e.getStore(),n=()=>t.getStoreData(tn.storeDataAccessors);return{getData:()=>n().uiBlockingLayer}};tn.storeDataAccessors=["uiBlockingLayer"];const S0="_blockingLayer_x34gr_1",E0="_overlay_x34gr_11",C0="_messageWrapper_x34gr_18",$0="_message_x34gr_18",Me={blockingLayer:S0,overlay:E0,messageWrapper:C0,message:$0},A0=({data:e})=>e.isVisible?c.jsxs("div",{className:Me.blockingLayer,role:"status","aria-live":"polite","data-testid":"ui-blocking-layer",children:[c.jsx("div",{className:Me.overlay}),c.jsx("div",{className:Me.messageWrapper,children:c.jsx("div",{className:Me.message,"data-testid":"ui-blocking-layer-message",children:e.message})})]}):null,D0=F({controller:tn},e=>({data:e.getData()}))(A0),nn=e=>{const t=e.getStore(),{navigationApi:n}=e.getAPIs(),r=()=>t.getStoreData(nn.storeDataAccessors);return{getLast7DaysAggregates:()=>{const i=r().completedTrainings||[],s=vt(i);return yn(s,7)},getTotalsForLast7Days:()=>{const i=r().completedTrainings||[],s=vt(i),a=yn(s,7),o=a.reduce((d,u)=>d+u.totalVolumeKg,0),l=a.reduce((d,u)=>d+u.sessionsCount,0);return{totalVolumeKg:o,sessions:l}},onOpen:async()=>{await n.toDashboard()}}};nn.storeDataAccessors=["completedTrainings"];const Et=({data:e,variant:t="detailed",height:n=140})=>{const i=e.map(s=>({date:s.dateISO.slice(5),volume:Math.round(s.totalVolumeKg),sessions:s.sessionsCount}));return t==="sparkline"?c.jsx("div",{style:{width:"100%",height:"100%"},children:c.jsx(ct,{width:"100%",height:"100%",initialDimension:{width:10,height:10},children:c.jsx(an,{data:i,children:c.jsx(lt,{type:"monotone",dataKey:"volume",stroke:"#8884d8",strokeWidth:2,dot:!1})})})}):t==="bar"?c.jsx("div",{style:{width:"100%",height:n},children:c.jsx(ct,{width:"100%",height:"100%",initialDimension:{width:10,height:10},children:c.jsxs(ms,{data:i,children:[c.jsx(on,{strokeDasharray:"3 3"}),c.jsx(cn,{dataKey:"date"}),c.jsx(ln,{}),c.jsx(dn,{}),c.jsx(fs,{dataKey:"volume",fill:"#82ca9d"})]})})}):c.jsx("div",{style:{width:"100%",height:n},children:c.jsx(ct,{width:"100%",height:"100%",initialDimension:{width:10,height:10},children:c.jsxs(an,{data:i,children:[c.jsx(on,{strokeDasharray:"3 3"}),c.jsx(cn,{dataKey:"date"}),c.jsx(ln,{}),c.jsx(dn,{}),c.jsx(lt,{type:"monotone",dataKey:"volume",stroke:"#8884d8",strokeWidth:2}),c.jsx(lt,{type:"monotone",dataKey:"sessions",stroke:"#82ca9d",strokeWidth:1})]})})})},j0="_card_8q4o9_1",N0="_header_8q4o9_8",P0="_kpis_8q4o9_14",k0="_kpiItem_8q4o9_20",B0="_kpiLabel_8q4o9_24",I0="_kpiValue_8q4o9_29",V={card:j0,header:N0,kpis:P0,kpiItem:k0,kpiLabel:B0,kpiValue:I0},O0=({last7:e,totals:t,onOpen:n})=>c.jsxs("div",{className:V.card,children:[c.jsxs("div",{className:V.header,children:[c.jsx("h4",{children:"Progress"}),c.jsx("div",{className:V.actions,children:c.jsx(D,{skin:"primary",size:"small",onClick:n,children:"Open"})})]}),c.jsxs("div",{className:V.kpis,children:[c.jsxs("div",{className:V.kpiItem,children:[c.jsx("div",{className:V.kpiLabel,children:"7d volume"}),c.jsxs("div",{className:V.kpiValue,children:[Math.round(t.totalVolumeKg)," kg"]})]}),c.jsxs("div",{className:V.kpiItem,children:[c.jsx("div",{className:V.kpiLabel,children:"sessions"}),c.jsx("div",{className:V.kpiValue,children:t.sessions})]})]}),c.jsx("div",{style:{height:64},children:c.jsx(Et,{data:e,variant:"sparkline",height:64})})]}),L0=F({controller:nn},e=>({last7:e.getLast7DaysAggregates(),totals:e.getTotalsForLast7Days(),onOpen:e.onOpen}))(O0);function rn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function R0(e,t){let n;const r=()=>{if(n)return n;const i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),n=rn(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(a=>s(a.transaction(t,i).objectStore(t)))}let mt;function zr(){return mt||(mt=R0("keyval-store","keyval")),mt}function M0(e,t=zr()){return t("readonly",n=>rn(n.get(e)))}function F0(e,t,n=zr()){return n("readwrite",r=>(r.put(t,e),rn(r.transaction)))}class H0{constructor(){S(this,"state");S(this,"subscribers");S(this,"IDB_PREFIX","app-store");S(this,"_persistenceEnabled",!0);S(this,"_updateStoreData",(t,n)=>{ge(n);const r=t(this.state);this.state={...this.state,...r},this._notify(n),n.forEach(i=>{this._persistIDBAccessorValue(i)})});S(this,"_notify",t=>{ge(t),t.forEach(n=>{this.isValidAccessor(n)&&this.subscribers[n].forEach(r=>{r()})})});S(this,"_subscribe",(t,n)=>{n.forEach(r=>{this.isValidAccessor(r)&&this.subscribers[r].push(t)})});S(this,"_delete",t=>{Object.keys(this.subscribers).forEach(n=>{this.isValidAccessor(n)&&(this.subscribers[n]=this.subscribers[n].filter(r=>r!==t))})});S(this,"subscribe",(t,n)=>{if(typeof t!="function")throw new Error(`Subscriber can't be of type ${typeof t}. Provide function.`);return ge(n),this._subscribe(t,n),()=>{this._delete(t)}});S(this,"getPublicDataAccessorsToDataMap",t=>({trainings:t.trainings,completedTrainings:t.completedTrainings,exerciseTypes:t.exerciseTypes,activeTraining:t.activeTraining,newTraining:t.newTraining,newExercise:t.newExercise,auth:t.auth,sync:t.sync,notifications:t.notifications,uiBlockingLayer:t.uiBlockingLayer}));S(this,"getStoreData",t=>{ge(t);const n=this.getPublicDataAccessorsToDataMap(this.state),r=Object.keys(n);return ge(r),rr(r),t.reduce((s,a)=>(s[a]=n[a],s),{})});this.state={trainings:[],completedTrainings:[],exerciseTypes:[],activeTraining:null,newTraining:null,newExercise:null,auth:{user:null,isAuthenticated:!1,authLoading:!1,authError:null},sync:{lastSyncAt:void 0,isLoading:!1,serverHasChanges:!1,error:void 0},notifications:[],uiBlockingLayer:{isVisible:!1,message:void 0}},this.subscribers={trainings:[],completedTrainings:[],exerciseTypes:[],activeTraining:[],newTraining:[],newExercise:[],auth:[],sync:[],notifications:[],uiBlockingLayer:[]};const t=Object.keys(this.subscribers);ge(t),rr(t)}async hasServerDataInIndexedDB(){try{return(await Promise.all([this._readIDBAccessorValue("completedTrainings")])).every(n=>typeof n<"u")}catch(t){return console.error("[Store] Failed to check IndexedDB emptiness:",t),!1}}_getIDBAccessorKey(t){return`${this.IDB_PREFIX}:${t}`}async _persistIDBAccessorValue(t){if(this._persistenceEnabled)try{const n=this._valueForIDBAccessor(t);await F0(this._getIDBAccessorKey(t),n)}catch(n){console.error(`[Store] Failed to persist "${t}" to IndexedDB:`,n)}}async _readIDBAccessorValue(t){try{return await M0(this._getIDBAccessorKey(t))}catch(n){console.error(`[Store] Failed to read ${t} from IndexedDB:`,n);return}}_valueForIDBAccessor(t){switch(t){case"trainings":return this.state.trainings;case"completedTrainings":return this.state.completedTrainings;case"exerciseTypes":return this.state.exerciseTypes;case"activeTraining":return this.state.activeTraining;case"newTraining":return this.state.newTraining;case"newExercise":return this.state.newExercise;case"auth":return this.state.auth;case"sync":return this.state.sync;case"notifications":return this.state.notifications;case"uiBlockingLayer":return this.state.uiBlockingLayer;default:return}}async hydrateFromIndexedDB(){this._persistenceEnabled=!1;try{const t=at.map(async n=>{const r=await this._readIDBAccessorValue(n);if(r!==void 0)switch(n){case"trainings":this.trainings=r;break;case"completedTrainings":this.completedTrainings=r;break;case"exerciseTypes":this.exerciseTypes=r;break;case"activeTraining":this.activeTraining=r;break;case"newTraining":this.newTraining=r;break;case"newExercise":this.newExercise=r;break;case"auth":this.auth=r;break;case"sync":this.sync=r;break;case"notifications":this.notifications=r;break;case"uiBlockingLayer":this.state.uiBlockingLayer=r;break;default:break}});await Promise.all(t)}finally{this._persistenceEnabled=!0}}isValidAccessor(t){return t in this.subscribers}get trainings(){return this.state.trainings}get completedTrainings(){return this.state.completedTrainings}get exerciseTypes(){return this.state.exerciseTypes}get notifications(){return this.state.notifications}get activeTraining(){return this.state.activeTraining}get newTraining(){return this.state.newTraining}get newExercise(){return this.state.newExercise}get auth(){return this.state.auth}get sync(){return this.state.sync}get uiBlockingLayer(){return this.state.uiBlockingLayer}set auth(t){const n=r=>({auth:{...r.auth,...t}});this._updateStoreData(n,["auth"])}set sync(t){const n=r=>({sync:{...r.sync,...t}});this._updateStoreData(n,["sync"])}set trainings(t){const n=()=>({trainings:t});this._updateStoreData(n,["trainings"])}set completedTrainings(t){const n=()=>({completedTrainings:t});this._updateStoreData(n,["completedTrainings"])}set exerciseTypes(t){const n=()=>({exerciseTypes:t});this._updateStoreData(n,["exerciseTypes"])}set activeTraining(t){const n=()=>({activeTraining:t});this._updateStoreData(n,["activeTraining"])}set newTraining(t){const n=()=>({newTraining:t});this._updateStoreData(n,["newTraining"])}set newExercise(t){const n=()=>({newExercise:t});this._updateStoreData(n,["newExercise"])}set notifications(t){const n=()=>({notifications:t});this._updateStoreData(n,["notifications"])}set uiBlockingLayer(t){const n=r=>({uiBlockingLayer:{...r.uiBlockingLayer,...t}});this._updateStoreData(n,["uiBlockingLayer"])}}const at=["trainings","completedTrainings","exerciseTypes","activeTraining","newTraining","newExercise","auth","sync","notifications","uiBlockingLayer"];function ge(e){if(!W0(e))throw new Error("Public Data Accessors were not specified!");if(!U0(e))throw new Error(`Public Data Accessors are not valid!
      Provided accessors might not exist or there is a typo.`)}function rr(e){if(!z0(e))throw new Error(`Declare >>>ALL<<< Public Data Accessors!
      Seems some Data Accessor were missed.
      You added: ${e.join(", ")}.
      Must be added: ${at.join(", ")}.`)}function z0(e){return at.every(t=>e.includes(t))}function U0(e){return e.every(t=>at.includes(t))}function W0(e){return!(!Array.isArray(e)||!e.length)}const G0=()=>({history:is()}),be=as(),sn=H({getParentRoute:()=>be,id:"pathless_auth"}),Ur=H({getParentRoute:()=>sn,path:"menu"}),Wr=H({getParentRoute:()=>be,path:"/"}),Gr=H({getParentRoute:()=>be,path:"dashboard"}),ot=H({getParentRoute:()=>be,path:"trainings"}),qr=H({getParentRoute:()=>ot,path:"/"}),we=H({getParentRoute:()=>ot,path:"$training"}),Vr=H({getParentRoute:()=>we,path:"/"}),Kr=H({getParentRoute:()=>we,path:"new"}),Xr=H({getParentRoute:()=>we,path:"edit"}),Te=H({getParentRoute:()=>we,path:"$exercise"}),Zr=H({getParentRoute:()=>Te,path:"/"}),Jr=H({getParentRoute:()=>Te,path:"new-exercise"}),Yr=H({getParentRoute:()=>Te,path:"editNew"}),Qr=H({getParentRoute:()=>Te,path:"edit"}),q0=be.addChildren([sn.addChildren([Ur]),Wr,Gr,ot.addChildren([qr,we.addChildren([Vr,Kr,Xr,Te.addChildren([Zr,Jr,Yr,Qr])])])]),V0=os({routeTree:q0,...G0()}),es={__root__:be,"/":Wr,"/dashboard":Gr,"/pathless_auth":sn,"/menu":Ur,"/trainings":ot,"/trainings/":qr,"/trainings/$training":we,"/trainings/$training/":Vr,"/trainings/$training/edit":Xr,"/trainings/$training/new":Kr,"/trainings/$training/$exercise":Te,"/trainings/$training/$exercise/":Zr,"/trainings/$training/$exercise/edit":Qr,"/trainings/$training/$exercise/editNew":Yr,"/trainings/$training/$exercise/new-exercise":Jr},K0=Object.keys(es),X0=()=>{const e=(n,r)=>{const i=es[n];if(!i)throw new Error(`[ROUTER] originalRoute is absent for route path: ${n}`);const s=r[n];return s?i.update({component:s}):i};return{router:V0,setConfiguration:({routePathsToComponents:n})=>{K0.forEach(r=>{e(r,n)})}}},Z0=()=>{const e={home:"/",menu:"/menu",dashboard:"/dashboard",trainings:"/trainings",openTraining:"/trainings/$training",createTraining:"/trainings/$training/new",editTraining:"/trainings/$training/edit",openExercise:"/trainings/$training/$exercise",createExercise:"/trainings/$training/$exercise/new-exercise",editNewExercise:"/trainings/$training/$exercise/editNew",editExistingExercise:"/trainings/$training/$exercise/edit"},{router:t,setConfiguration:n}=X0(),r=u=>({...t.matchRoute({to:u})}),i=u=>u&&u!=="/"?u.replace(/\/$/,""):u,s=()=>t.state.location.pathname,a=()=>{var h;const u=s(),g=t.matchRoutes(u),p=(h=g[g.length-1])==null?void 0:h.routeId;return i(p)},o=u=>!!t.matchRoute({to:u}),l=async(u,g={},p={})=>{await t.navigate({to:u,params:g,state:p})},d=()=>{var u;return(u=t.state.location.state)==null?void 0:u.goBackTo};return{__router:t,routes:e,setRouterConfiguration:u=>{n(u)},goBack:async({replace:u}={})=>{const g=d();if(g){const p=r(g);return t.navigate({to:g,params:p,replace:u})}else t.history.canGoBack()&&t.history.back()},toHome:()=>l(e.home),toTrainings:()=>l(e.trainings),toMenu:()=>l(e.menu),toCreateTraining:u=>l(e.createTraining,{training:u}),toCreateExercise:(u,g,p)=>l(e.createExercise,{training:u,exercise:g},{goBackTo:p==null?void 0:p.goBackTo}),toEditNewExercise:(u,g,p)=>l(e.editNewExercise,{training:u,exercise:g},{goBackTo:p==null?void 0:p.goBackTo}),toEditExistingExercise:(u,g)=>l(e.editExistingExercise,{training:u,exercise:g}),toEditTraining:u=>l(e.editTraining,{training:u}),toTraining:u=>l(e.openTraining,{training:u}),toExercise:(u,g)=>l(e.openExercise,{training:u,exercise:g}),toDashboard:()=>l(e.dashboard),isHomeUrl:()=>o(e.home),isTrainingsUrl:()=>o(e.trainings),isMenuUrl:()=>o(e.menu),getPathParams:r,getCurrentPath:s,getCurrentRoutePath:a}};var Fe,J0=new Uint8Array(16);function Y0(){if(!Fe&&(Fe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Fe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fe(J0)}const Q0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ev(e){return typeof e=="string"&&Q0.test(e)}var M=[];for(var ft=0;ft<256;++ft)M.push((ft+256).toString(16).substr(1));function tv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(M[e[t+0]]+M[e[t+1]]+M[e[t+2]]+M[e[t+3]]+"-"+M[e[t+4]]+M[e[t+5]]+"-"+M[e[t+6]]+M[e[t+7]]+"-"+M[e[t+8]]+M[e[t+9]]+"-"+M[e[t+10]]+M[e[t+11]]+M[e[t+12]]+M[e[t+13]]+M[e[t+14]]+M[e[t+15]]).toLowerCase();if(!ev(n))throw TypeError("Stringified UUID is invalid");return n}function K(e,t,n){e=e||{};var r=e.random||(e.rng||Y0)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tv(r)}const sr={id:"/AllTrainingsSchema",type:"array",items:{$ref:"/TrainingSchema"}},He={id:"/TrainingSchema",type:"object",properties:{id:{type:"string"},name:{type:"string"},exercises:{type:"array",items:{$ref:"/ExerciseSchema"}}},required:["id","name","exercises"]},ze={id:"/ExerciseSchema",type:"object",properties:{id:{type:"string"},name:{type:"string"},sets:{type:"array",items:{$ref:"/SetSchema"}}},required:["id","name","sets"]},ir={id:"/SetSchema",type:"object",properties:{id:{type:"string"},repetitions:{type:"number"},weight:{type:"number"},time:{type:"string"}},required:["id","repetitions","weight"]},ar={id:"/CompletedTrainingsSchema",type:"array",items:{$ref:"/CompletedTrainingSchema"}},$e={id:"/CompletedTrainingSchema",type:"object",properties:{id:{type:"string"},name:{type:"string"},exercises:{type:"array",items:{$ref:"/CompletedExerciseSchema"}},createdInDbAt:{type:"string"},updatedInDbAt:{type:"string"}},required:["id","name","exercises"]},nv={id:"/CompletedExerciseSchema",type:"object",properties:{id:{type:"string"},name:{type:"string"},sets:{type:"array",items:{$ref:"/SetSchema"}}},required:["id","name","sets"]},or={id:"/ExerciseTypesSchema",type:"array",items:{$ref:"/ExerciseTypeSchema"}},rv={id:"/ExerciseTypeSchema",type:"object",properties:{group:{type:"string"},value:{type:"string"},label:{type:"string"}},required:["group","value","label"]},sv=({store:e,validator:t},n)=>{t.addSchema(sr),t.addSchema(He),t.addSchema(ze),t.addSchema(ir),t.addSchema(ar),t.addSchema($e),t.addSchema(nv),t.addSchema(rv),t.addSchema(or);const{trainingsServerApi:r,notificationsApi:i}=n,s=(f,v)=>{t.validate(f,v).valid},a=()=>e.getStoreData(["trainings","completedTrainings","activeTraining","newTraining","newExercise","exerciseTypes"]),o=()=>{e.newTraining=null},l=()=>{e.newExercise=null},d=(f,v)=>{const y=a().newTraining;if((y==null?void 0:y.id)===f){e.newTraining={...y,exercises:y.exercises.filter(w=>w.id!==v)};return}const T=a().trainings.map(w=>w.id===f?{...w,exercises:w.exercises.filter(C=>C.id!==v)}:w);b.allTrainings(T)},u=f=>{const v=[...a().trainings,f];b.allTrainings(v)},g=(f,v)=>{const y=a().newTraining;if((y==null?void 0:y.id)===f){b.newTraining({exercises:y.exercises.concat(v)});return}const T=a().trainings.map(C=>C.id===f?{...C,exercises:C.exercises.concat(v)}:C);b.allTrainings(T);const w=a().activeTraining;if(w&&w.templateTrainingId===f){const C={...w,exercises:w.exercises.concat({id:K(),name:v.name,sets:[]})};try{s(C,$e),e.activeTraining=C}catch{}}},p=(f,v,y)=>{const T=a().newExercise,w=a().newTraining,C=O=>O.map(j=>j.id===v?{...j,sets:j.sets.concat(y)}:j);if((T==null?void 0:T.id)===v)b.newExercise({sets:T.sets.concat(y)});else if((w==null?void 0:w.id)===f)b.newTraining({exercises:C(w.exercises)});else{const O=a().trainings.map(j=>j.id===f?{...j,exercises:C(j.exercises)}:j);b.allTrainings(O)}},h=(f,v,y)=>{const T=a().newTraining,w=a().newExercise,C=O=>O.map(j=>j.id===v?{...j,sets:j.sets.filter(ts=>ts.id!==y)}:j);if((w==null?void 0:w.id)===v)b.newExercise({sets:w.sets.filter(O=>O.id!==y)});else if((T==null?void 0:T.id)===f)b.newTraining({exercises:C(T.exercises)});else{const O=a().trainings.map(j=>j.id===f?{...j,exercises:C(j.exercises)}:j);b.allTrainings(O)}},m=f=>{const v=a().trainings.filter(y=>y.id!==f);b.allTrainings(v)},_=f=>{let v="";return f.forEach((y,T)=>{v+=`${y.repetitions}x${y.weight}kg`,T<f.length-1&&(v+=" - ")}),v},x=f=>{const v=new Date(f),y=Intl.DateTimeFormat().resolvedOptions(),T="en-GB",w=y.timeZone;return v.toDateString().slice(0,3)+", "+v.toLocaleDateString(T,{timeZone:w})},E=f=>{const v=new Date(f),y=v.getHours()<10?"0"+v.getHours():v.getHours(),T=v.getMinutes()<10?"0"+v.getMinutes():v.getMinutes();return`${y}:${T}`},P={exerciseTypes:()=>a().exerciseTypes},k={newTraining:()=>{const f={id:K(),name:"New Training",exercises:[]};s(f,He),e.newTraining=f},newActiveTraining:f=>{const v=a().trainings.find(T=>T.id===f);if(!v)return;const y={id:K(),name:v.name,timestamptz:De(new Date),templateTrainingId:v.id,exercises:v.exercises.map(T=>({id:K(),name:T.name,sets:[]}))};s(y,$e),e.activeTraining=y},newExercise:()=>{const f={id:K(),name:"New Exercise",sets:[]};s(f,ze),e.newExercise=f},set:(f,v)=>{const y={id:K(),repetitions:8,weight:12,done:!1};s(y,ir),p(f,v,y)},exerciseType:({label:f,group:v})=>{const T={value:`type::${K()}`,label:f,group:v},C=[...a().exerciseTypes,T];b.exerciseTypes(C)},setsPreview:f=>_(f),datePreview:x,timePreview:E},b={allTrainings:f=>{s(f,sr),e.trainings=f},completedTrainings:f=>{s(f,ar),e.completedTrainings=f},exerciseTypes:f=>{s(f,or),e.exerciseTypes=f},newTraining:f=>{const v={...a().newTraining,...f};s(v,He),e.newTraining=v},newActiveTraining:(f,v,y)=>{const T=a().activeTraining;if(!T)return;const w=a().trainings.find(j=>j.id===f);if(!w)return;const C=w.exercises.find(j=>j.id===v);if(!C)return;const O={...T,exercises:T.exercises.map(j=>j.name!==C.name?j:{...j,sets:j.sets.concat({id:K(),repetitions:y.repetitions,weight:y.weight,timestamptz:De(new Date)})})};s(O,$e),e.activeTraining=O},newExercise:f=>{const v={...a().newExercise,...f};s(v,ze),e.newExercise=v},training:(f,v)=>{const y=a().trainings.map(T=>T.id===f?{...T,...v}:T);b.allTrainings(y)},exercise:(f,v,y)=>{const T=a().trainings.map(w=>w.id===f?{...w,exercises:w.exercises.map(C=>C.id===v?{...C,...y}:C)}:w);b.allTrainings(T)}};return{get:P,create:k,update:b,save:{newTraining:()=>{const f=a().newTraining;f&&(s(f,He),u(f),o())},newExercise:f=>{const v=a().newExercise;v&&(s(v,ze),g(f,v),l())},newActiveTraining:()=>{const f=a().activeTraining;if(f){const v={...f};delete v.templateTrainingId,s(v,$e);const y=[...a().completedTrainings,v];b.completedTrainings(y),e.activeTraining=null}}},delete:{newTraining:()=>{o()},training:f=>{m(f)},completedTraining:async f=>{const v=a().completedTrainings.find(w=>w.id===f),y=v==null?void 0:v.createdInDbAt,T=a().completedTrainings.filter(w=>w.id!==f);if(b.completedTrainings(T),y)try{await r.delete.completedTraining(v)}catch(w){const C=[...a().completedTrainings,v];throw b.completedTrainings(C),i.addNotification({type:"error",message:"Failed to delete training. It was restored."}),w}},newExercise:()=>{l()},exercise:(f,v)=>{d(f,v)},set:(f,v,y)=>{h(f,v,y)}}}};function cr(e){return/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(e)}function iv(e){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.test(e)}const av=(e,t,n)=>{const{store:r}=e,{httpClientAPI:i,notificationsApi:s}=t;async function a(g,p){if(!cr(g))throw new Error("Invalid email format");if(!iv(p))throw new Error("Password does not meet requirements");r.auth={authLoading:!0};try{const h=await i.post("/api/signup",{email:g,password:p},{credentials:"include"}),m=h.session;n.saveToken({access_token:m.access_token,refresh_token:m.refresh_token,expires_in:m.expires_in,expires_at:m.expires_at}),r.auth={user:h.user,isAuthenticated:!0,authLoading:!1,authError:null}}catch(h){const m=`Signup failed. Error: ${h.message||String(h)||"Unknown error"}`;r.auth={authError:m,authLoading:!1},s.addNotification({type:"error",message:m})}}async function o(g,p){if(!cr(g))throw new Error("Invalid email format");r.auth={authLoading:!0};try{const h=await i.post("/api/signin",{email:g,password:p},{credentials:"include"}),m=h.session;n.saveToken({access_token:m.access_token,refresh_token:m.refresh_token,expires_in:m.expires_in,expires_at:m.expires_at}),r.auth={user:h.user,isAuthenticated:!0,authLoading:!1,authError:null}}catch(h){const m=`Signin failed. Error: ${h.message||String(h)||"Unknown error"}`;r.auth={authError:m,authLoading:!1},s.addNotification({type:"error",message:m})}}async function l(){r.auth={authLoading:!0};try{await i.post("/api/logout",{},{credentials:"include"}),n.clearToken(),r.auth={user:null,isAuthenticated:!1,authLoading:!1,authError:null}}catch(g){const p=`Signout failed. Error: ${g.message||String(g)||"Unknown error"}`;r.auth={authError:p,authLoading:!1},s.addNotification({type:"error",message:p})}}async function d(){r.auth={authLoading:!0};try{const g=await i.get("/api/session",{credentials:"include"});r.auth={user:g.user,isAuthenticated:!!g.user,authLoading:!1,authError:null}}catch(g){const p=`Get session failed. Error: ${g.message||String(g)||"Unknown error"}`;r.auth={authError:p,authLoading:!1},s.addNotification({type:"error",message:p})}}async function u(){try{const g=await i.post("/api/refresh",{},{credentials:"include"}),p=g.session;n.saveToken({access_token:p.access_token,refresh_token:p.refresh_token,expires_in:p.expires_in,expires_at:p.expires_at}),r.auth={user:g.user,isAuthenticated:!!g.user}}catch(g){const p=`Refresh token failed. Error: ${g.message||String(g)||"Unknown error"}`;r.auth={authError:p},s.addNotification({type:"error",message:p})}}return{signup:a,signin:o,signout:l,getSession:d,refreshToken:u}};function ov(e){const{tools:t,baseUrl:n,tokenStorage:r,refreshEndpoint:i,defaultHeaders:s={"Content-Type":"application/json",credentials:"include"}}=e,{store:a}=t;let o=!1,l=[];async function d(){if(o)return console.log(">> refreshing <<",o),new Promise(h=>{l.push(h)});o=!0;let p=null;try{const h=r.getToken();if(!h)return;const m=await fetch(`${n}${i}`,{method:"POST",headers:{...s},body:JSON.stringify({refreshToken:h.refresh_token})});if(!m.ok){r.clearToken();return}const x=(await m.json()).session;p={access_token:x.access_token,refresh_token:x.refresh_token,expires_in:x.expires_in,expires_at:x.expires_at},r.saveToken(p)}finally{o=!1,p&&l.forEach(h=>h(p.access_token)),l=[]}}const u=p=>p?Math.floor(Date.now()/1e3)>=p-30:void 0;async function g(p,h={},m=!0){const{method:_="GET",headers:x={},body:E,...P}=h,k=r.getToken(),b=k==null?void 0:k.expires_at;u(b)&&await d();const A=r.getToken(),U=A==null?void 0:A.access_token,f=A==null?void 0:A.refresh_token,v={...s,...x,...U?{Authorization:`Bearer ${U}`}:{},...f?{"x-ref-tok":f}:{}},y=await fetch(`${n}${p}`,{...P,method:_,headers:v,body:E!==void 0?JSON.stringify(E):void 0});if(y.status===401&&m){if(await d(),!r.getToken()){const O="Unauthorized. Token refresh failed.";throw a.auth={isAuthenticated:!1,authError:O},new Error(O)}return g(p,h,!1)}if(!y.ok){const w=await y.text();throw new Error(`HTTP ${y.status}: ${w}`)}const T=y.headers.get("Content-Type");return T!=null&&T.includes("application/json")?y.json():y.text()}return{get:(p,h)=>g(p,{...h,method:"GET"}),post:(p,h,m)=>g(p,{...m,method:"POST",body:h}),put:(p,h,m)=>g(p,{...m,method:"PUT",body:h}),patch:(p,h,m)=>g(p,{...m,method:"PATCH",body:h}),delete:(p,h)=>g(p,{...h,method:"DELETE"})}}const cv={id:"/CompletedTrainingsServerReadSchema",type:"array",items:{$ref:"/CompletedTrainingServerReadSchema"}},lv={id:"/CompletedTrainingServerReadSchema",type:"object",properties:{id:{type:"string"},name:{type:"string"},exercises:{type:"array",items:{$ref:"/CompletedExerciseServerReadSchema"}},created_at:{type:"string"},updated_at:{type:["string","null"]},user_id:{type:"string"}},required:["id","name","exercises","created_at","user_id"]},dv={id:"/CompletedExerciseServerReadSchema",type:"object",properties:{id:{type:"string"},name:{type:"string"},type:{type:"string"},workout_id:{type:"string"},reps:{type:"number"},weight:{type:"number"},created_at:{type:"string"},date:{type:"string"},updated_at:{type:["string","null"]},user_id:{type:"string"}},required:["id","type","name","workout_id","reps","weight","created_at","date","user_id"]},uv={id:"/CompletedTrainingsServerWriteSchema",type:"array",items:{$ref:"/CompletedTrainingServerWriteSchema"}},gv={id:"/CompletedTrainingServerWriteSchema",type:"object",properties:{tempId:{type:"string"},name:{type:"string"},exercises:{type:"array",items:{$ref:"/CompletedExerciseServerWriteSchema"}},date:{type:"string"}},required:["name","exercises","date"]},pv={id:"/CompletedExerciseServerWriteSchema",type:"object",properties:{name:{type:"string"},type:{type:"string"},reps:{type:"number"},weight:{type:"number"},date:{type:"string"}},required:["type","name","reps","weight","date"]},Ue={completedTrainings:cv,completedTraining:lv,completedExercise:dv},We={completedTrainings:uv,completedTraining:gv,completedExercise:pv},hv=({validator:e},t)=>{e.addSchema(Ue.completedTrainings),e.addSchema(Ue.completedTraining),e.addSchema(Ue.completedExercise),e.addSchema(We.completedTrainings),e.addSchema(We.completedTraining),e.addSchema(We.completedExercise);const{httpClientAPI:n}=t,r=(x,E)=>{const P=e.validate(x,E);if(!P.valid)throw console.error("[ERROR_DATA] Validation for Server Training failed!",P.errors),new Error("Validation for Server Training failed!")},i=x=>{if(!x)return x;const E=Intl.DateTimeFormat().resolvedOptions().timeZone,P=vs(x,E);return xs(P,"yyyy-MM-dd'T'HH:mm:ss.SSSXXX",{timeZone:E})},s=async()=>{let x=[];try{return x=await n.get("/api/workouts"),r(x,Ue.completedTrainings),console.log("=== getCompletedTrainings ===",x),x}catch(E){throw console.error("[TrainingsServerApi]",E),E}},a=async x=>{try{const E=x.id;await n.delete(`/api/workouts/${E}`)}catch(E){throw console.error("[TrainingsServerApi]",E),E}},o=x=>x.sets.map(E=>({name:x.name,date:E.timestamptz,type:"custom",reps:E.repetitions,weight:E.weight})),l=x=>({tempId:x.id,name:x.name,date:x.timestamptz,exercises:x.exercises.flatMap(o)});return{get:{completedTrainings:s},create:{completedTrainings:async x=>{try{const E=x.map(l);return console.log("=== createCompletedTrainings ===",E),r(E,We.completedTrainings),await n.post("/api/workouts",{workouts:E})}catch(E){throw console.error("[TrainingsServerApi]",E),E}}},update:{},delete:{completedTraining:a},mappers:{toClientCompletedTrainings:x=>x.map(P=>{const k=Rr(P.exercises,A=>A.name),b=Object.values(k).map(A=>{var U;return{id:K(),name:(U=A==null?void 0:A[0])==null?void 0:U.name,sets:(A==null?void 0:A.map(f=>({id:f.id,repetitions:f.reps,weight:f.weight,timestamptz:i(f.date)})))??[]}});return{id:P.id,name:P.name,exercises:b,timestamptz:i(P.date),createdInDbAt:i(P.created_at),updatedInDbAt:i(P.updated_at)??void 0}})}}},mv=({store:e},t)=>{const{httpClientAPI:n,trainingsServerApi:r,trainingsApi:i,notificationsApi:s}=t,a=()=>e.getStoreData(["completedTrainings","sync"]),o=async()=>{try{const g=`/api/changes?${new URLSearchParams({since:e.getStoreData(["sync"]).sync.lastSyncAt||De(new Date)}).toString()}`,p=await n.get(g),h=!!(p.completedTrainings.data.length||p.completedExercises.data.length);e.sync={serverHasChanges:h}}catch(u){throw console.error("[TrainingsServerApi] hasServerChanges failed. Error:",u),u}},l=async()=>{try{const u=a().completedTrainings.filter(m=>!m.createdInDbAt),g=u.map(m=>m.id);if(!u.length)return;const p=await r.create.completedTrainings(u),h=r.mappers.toClientCompletedTrainings(p);i.update.completedTrainings([...a().completedTrainings.filter(m=>!g.includes(m.id)),...h])}catch(u){throw new Error(`Failed to sync completed trainings: ${u.message}`)}};return{hasServerChanges:o,sync:async()=>{e.sync={isLoading:!0};try{await l(),e.sync={lastSyncAt:De(new Date),isLoading:!1,error:void 0}}catch(u){e.sync={isLoading:!1,error:u.message},s.addNotification({type:"error",message:u.message||"Sync failed"})}}}},fv=({store:e})=>{const t=()=>e.getStoreData(["notifications"]).notifications||[];return{getNotifications:t,addNotification:i=>{const s=K(),a={id:s,type:i.type??"info",message:i.message??"",createdAt:De(new Date),meta:i.meta??{}};return e.notifications=[a,...t()].slice(0,8),s},removeNotification:i=>{e.notifications=t().filter(s=>s.id!==i)}}},vv=e=>{const t="__yg_at_rt",n={getToken:()=>{const l=localStorage.getItem(t);if(l)return JSON.parse(l)},saveToken:l=>localStorage.setItem(t,JSON.stringify(l)),clearToken:()=>localStorage.removeItem(t)},r=ov({tools:e,baseUrl:"https://yourgym.onrender.com",tokenStorage:n,refreshEndpoint:"/api/refresh"}),i=fv(e),s=hv(e,{httpClientAPI:r}),a=sv(e,{trainingsServerApi:s,notificationsApi:i}),o=mv(e,{httpClientAPI:r,trainingsServerApi:s,trainingsApi:a,notificationsApi:i});return{navigationApi:Z0(),trainingsApi:a,authApi:av(e,{httpClientAPI:r,notificationsApi:i},n),httpClientAPI:r,trainingsServerApi:s,syncApi:o,notificationsApi:i}};class xv{constructor(){S(this,"resumeTimer",null);S(this,"isRunning",!1);S(this,"lastResume",0);S(this,"onResume",async()=>{});S(this,"onRetryFailed",async()=>{});S(this,"logInfo",()=>{});S(this,"handleSignal",()=>{if(document.visibilityState!=="visible"){this.isRunning=!1;return}navigator.onLine||this.logInfo({message:"ResumeManager: OFFLINE when entring `handleSignal`."}),!(Date.now()-this.lastResume<2e3)&&(this.resumeTimer&&clearTimeout(this.resumeTimer),this.resumeTimer=window.setTimeout(()=>{navigator.onLine||this.logInfo({message:"ResumeManager: OFFLINE when calling `this.runResume()` !!!"}),this.resumeTimer=null,this.runResume()},500))})}init(t){return this.onResume=t.onResume,t.onRetryFailed&&(this.onRetryFailed=t.onRetryFailed),t.logInfo&&(this.logInfo=t.logInfo),document.addEventListener("visibilitychange",this.handleSignal,!1),window.addEventListener("pageshow",this.handleSignal,!1),window.addEventListener("focus",this.handleSignal,!1),()=>{document.removeEventListener("visibilitychange",this.handleSignal,!1),window.removeEventListener("pageshow",this.handleSignal,!1),window.removeEventListener("focus",this.handleSignal,!1)}}async runResume(){if(!this.isRunning){this.isRunning=!0,this.lastResume=Date.now();try{await this.onResume()}catch(t){console.error("ResumeManager: resume failed, retrying once",t);try{await this.retryOnce()}catch(n){console.error("ResumeManager: resume retry failed",n)}}finally{this.isRunning=!1}}}async retryOnce(){typeof navigator<"u"&&!navigator.onLine?await this.waitForOnline():await this.sleep(1e3);try{await this.onResume()}catch(t){try{await this.onRetryFailed(t)}catch(n){console.error("ResumeManager: onRetryFailed handler threw",n)}}}waitForOnline(t=3e4){return typeof navigator>"u"||navigator.onLine?Promise.resolve():new Promise(n=>{let r=null;const i=()=>{window.removeEventListener("online",s),r!==null&&(clearTimeout(r),r=null)},s=()=>{i(),n()};r=window.setTimeout(()=>{i(),n()},t),window.addEventListener("online",s,!1)})}sleep(t){return new Promise(n=>setTimeout(n,t))}}const yv=(e,{authApi:t,syncApi:n,trainingsApi:r,trainingsServerApi:i,notificationsApi:s})=>{var P;let a=()=>{};const o=new xv;u(),g(),h(),o.init({onResume:d,onRetryFailed:async k=>{s.addNotification({type:"error",message:`Resume from background failed. Error: ${(k==null?void 0:k.message)||String(k)}`})},logInfo:({message:k})=>{s.addNotification({type:"info",message:k})}}),window.document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&p()},!1);let l=(P=e.auth)==null?void 0:P.isAuthenticated;e.subscribe(()=>{var k,b;E(l,(k=e.auth)==null?void 0:k.isAuthenticated)&&(l=(b=e.auth)==null?void 0:b.isAuthenticated,x())},["auth"]);async function d(){await Promise.all([u(),g()]),await x(),h()}function u(){return t.getSession()}function g(){return n.hasServerChanges()}function p(){a()}function h(){a=Es(()=>{g().catch(A=>{const U=`[PeriodicTasks] check sync failed. Error: ${(A==null?void 0:A.message)||String(A)||"Unknown error"}`;s.addNotification({type:"error",message:U})})},3e5)}let m=!1,_=0;async function x(){var k;if(!m)try{if(!await e.hasServerDataInIndexedDB()&&(k=e.auth)!=null&&k.isAuthenticated){_=performance.now(),m=!0,e.uiBlockingLayer={isVisible:!0,message:"Hydrating local store with data from server..."},console.log("[HydrateStoreFromServer] ðŸ—ï¸ Starting hydration from server...");const[A]=await Promise.all([i.get.completedTrainings()]),U=i.mappers.toClientCompletedTrainings(A);r.update.completedTrainings(U),console.log("[HydrateStoreFromServer] âœ… Hydration from server completed successfully!")}}catch(b){const A=`[HydrateStoreFromServer] âš ï¸ Failed to hydrate store from server. Error: ${(b==null?void 0:b.message)||String(b)||"Unknown error"}`;s.addNotification({type:"error",message:A}),console.error(A)}finally{m=!1;const b=()=>{e.uiBlockingLayer={isVisible:!1,message:void 0}};performance.now()-_<1e3?setTimeout(()=>{b()},1500):b()}}function E(k,b){return k!==b&&b===!0}},_v=async()=>{const e=new H0,t=new ys;try{await e.hydrateFromIndexedDB()}catch(i){console.error("[initApp] hydrateFromIndexedDB failed. Error:",(i==null?void 0:i.message)||String(i)||"Unknown error")}const n=vv({store:e,validator:t}),r={serviceLocator:{getStore:()=>({getStoreData:e.getStoreData,subscribe:e.subscribe}),getAPIs:()=>n}};return yv(e,n),window._debugTools_={store:e,validator:t,apis:n},{apis:n,appContext:r}};window.addEventListener("load",async()=>{console.log(">>> LOAD event <<<");const{apis:e,appContext:t}=await _v(),n=document.getElementById("root");n&&ur(n).render(c.jsx(uo,{apis:e,appContext:t}))},!1);
//# sourceMappingURL=index-BbF_7afv.js.map
