{"version":3,"file":"router-HN5EHAsr.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/@tanstack/store/dist/esm/scheduler.js","../../node_modules/@tanstack/store/dist/esm/types.js","../../node_modules/@tanstack/store/dist/esm/store.js","../../node_modules/@tanstack/history/dist/esm/index.js","../../node_modules/@tanstack/router-core/dist/esm/utils.js","../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../../node_modules/@tanstack/router-core/dist/esm/lru-cache.js","../../node_modules/@tanstack/router-core/dist/esm/new-process-route-tree.js","../../node_modules/@tanstack/router-core/dist/esm/path.js","../../node_modules/@tanstack/router-core/dist/esm/not-found.js","../../node_modules/@tanstack/router-core/dist/esm/scroll-restoration.js","../../node_modules/@tanstack/router-core/dist/esm/qss.js","../../node_modules/@tanstack/router-core/dist/esm/searchParams.js","../../node_modules/@tanstack/router-core/dist/esm/root.js","../../node_modules/@tanstack/router-core/dist/esm/redirect.js","../../node_modules/@tanstack/router-core/dist/esm/load-matches.js","../../node_modules/@tanstack/router-core/dist/esm/rewrite.js","../../node_modules/@tanstack/router-core/dist/esm/router.js","../../node_modules/@tanstack/router-core/dist/esm/link.js","../../node_modules/@tanstack/router-core/dist/esm/route.js","../../node_modules/@tanstack/react-router/dist/esm/utils.js","../../node_modules/@tanstack/react-router/dist/esm/CatchBoundary.js","../../node_modules/@tanstack/react-router/dist/esm/ClientOnly.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/@tanstack/react-store/dist/esm/index.js","../../node_modules/@tanstack/react-router/dist/esm/routerContext.js","../../node_modules/@tanstack/react-router/dist/esm/useRouter.js","../../node_modules/@tanstack/react-router/dist/esm/useRouterState.js","../../node_modules/@tanstack/react-router/dist/esm/matchContext.js","../../node_modules/@tanstack/react-router/dist/esm/useMatch.js","../../node_modules/@tanstack/react-router/dist/esm/useLoaderData.js","../../node_modules/@tanstack/react-router/dist/esm/useLoaderDeps.js","../../node_modules/@tanstack/react-router/dist/esm/useParams.js","../../node_modules/@tanstack/react-router/dist/esm/useSearch.js","../../node_modules/@tanstack/react-router/dist/esm/useNavigate.js","../../node_modules/@tanstack/react-router/dist/esm/link.js","../../node_modules/@tanstack/react-router/dist/esm/route.js","../../node_modules/@tanstack/react-router/dist/esm/fileRoute.js","../../node_modules/@tanstack/react-router/dist/esm/Transitioner.js","../../node_modules/@tanstack/react-router/dist/esm/not-found.js","../../node_modules/@tanstack/react-router/dist/esm/SafeFragment.js","../../node_modules/@tanstack/react-router/dist/esm/renderRouteNotFound.js","../../node_modules/@tanstack/react-router/dist/esm/ScriptOnce.js","../../node_modules/@tanstack/react-router/dist/esm/scroll-restoration.js","../../node_modules/@tanstack/react-router/dist/esm/Match.js","../../node_modules/@tanstack/react-router/dist/esm/Matches.js","../../node_modules/@tanstack/react-router/dist/esm/router.js","../../node_modules/@tanstack/react-router/dist/esm/RouterProvider.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","const __storeToDerived = /* @__PURE__ */ new WeakMap();\nconst __derivedToStore = /* @__PURE__ */ new WeakMap();\nconst __depsThatHaveWrittenThisTick = {\n  current: []\n};\nlet __isFlushing = false;\nlet __batchDepth = 0;\nconst __pendingUpdates = /* @__PURE__ */ new Set();\nconst __initialBatchValues = /* @__PURE__ */ new Map();\nfunction __flush_internals(relatedVals) {\n  for (const derived of relatedVals) {\n    if (__depsThatHaveWrittenThisTick.current.includes(derived)) {\n      continue;\n    }\n    __depsThatHaveWrittenThisTick.current.push(derived);\n    derived.recompute();\n    const stores = __derivedToStore.get(derived);\n    if (stores) {\n      for (const store of stores) {\n        const relatedLinkedDerivedVals = __storeToDerived.get(store);\n        if (!(relatedLinkedDerivedVals == null ? void 0 : relatedLinkedDerivedVals.length)) continue;\n        __flush_internals(relatedLinkedDerivedVals);\n      }\n    }\n  }\n}\nfunction __notifyListeners(store) {\n  const value = {\n    prevVal: store.prevState,\n    currentVal: store.state\n  };\n  for (const listener of store.listeners) {\n    listener(value);\n  }\n}\nfunction __notifyDerivedListeners(derived) {\n  const value = {\n    prevVal: derived.prevState,\n    currentVal: derived.state\n  };\n  for (const listener of derived.listeners) {\n    listener(value);\n  }\n}\nfunction __flush(store) {\n  if (__batchDepth > 0 && !__initialBatchValues.has(store)) {\n    __initialBatchValues.set(store, store.prevState);\n  }\n  __pendingUpdates.add(store);\n  if (__batchDepth > 0) return;\n  if (__isFlushing) return;\n  try {\n    __isFlushing = true;\n    while (__pendingUpdates.size > 0) {\n      const stores = Array.from(__pendingUpdates);\n      __pendingUpdates.clear();\n      for (const store2 of stores) {\n        const prevState = __initialBatchValues.get(store2) ?? store2.prevState;\n        store2.prevState = prevState;\n        __notifyListeners(store2);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        __depsThatHaveWrittenThisTick.current.push(store2);\n        __flush_internals(derivedVals);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        for (const derived of derivedVals) {\n          __notifyDerivedListeners(derived);\n        }\n      }\n    }\n  } finally {\n    __isFlushing = false;\n    __depsThatHaveWrittenThisTick.current = [];\n    __initialBatchValues.clear();\n  }\n}\nfunction batch(fn) {\n  __batchDepth++;\n  try {\n    fn();\n  } finally {\n    __batchDepth--;\n    if (__batchDepth === 0) {\n      const pendingUpdateToFlush = __pendingUpdates.values().next().value;\n      if (pendingUpdateToFlush) {\n        __flush(pendingUpdateToFlush);\n      }\n    }\n  }\n}\nexport {\n  __depsThatHaveWrittenThisTick,\n  __derivedToStore,\n  __flush,\n  __storeToDerived,\n  batch\n};\n//# sourceMappingURL=scheduler.js.map\n","function isUpdaterFunction(updater) {\n  return typeof updater === \"function\";\n}\nexport {\n  isUpdaterFunction\n};\n//# sourceMappingURL=types.js.map\n","import { __flush } from \"./scheduler.js\";\nimport { isUpdaterFunction } from \"./types.js\";\nclass Store {\n  constructor(initialState, options) {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = (listener) => {\n      var _a, _b;\n      this.listeners.add(listener);\n      const unsub = (_b = (_a = this.options) == null ? void 0 : _a.onSubscribe) == null ? void 0 : _b.call(_a, listener, this);\n      return () => {\n        this.listeners.delete(listener);\n        unsub == null ? void 0 : unsub();\n      };\n    };\n    this.prevState = initialState;\n    this.state = initialState;\n    this.options = options;\n  }\n  setState(updater) {\n    var _a, _b, _c;\n    this.prevState = this.state;\n    if ((_a = this.options) == null ? void 0 : _a.updateFn) {\n      this.state = this.options.updateFn(this.prevState)(updater);\n    } else {\n      if (isUpdaterFunction(updater)) {\n        this.state = updater(this.prevState);\n      } else {\n        this.state = updater;\n      }\n    }\n    (_c = (_b = this.options) == null ? void 0 : _b.onUpdate) == null ? void 0 : _c.call(_b);\n    __flush(this);\n  }\n}\nexport {\n  Store\n};\n//# sourceMappingURL=store.js.map\n","const stateIndexKey = \"__TSR_index\";\nconst popStateEvent = \"popstate\";\nconst beforeUnloadEvent = \"beforeunload\";\nfunction createHistory(opts) {\n  let location = opts.getLocation();\n  const subscribers = /* @__PURE__ */ new Set();\n  const notify = (action) => {\n    location = opts.getLocation();\n    subscribers.forEach((subscriber) => subscriber({ location, action }));\n  };\n  const handleIndexChange = (action) => {\n    if (opts.notifyOnIndexChange ?? true) notify(action);\n    else location = opts.getLocation();\n  };\n  const tryNavigation = async ({\n    task,\n    navigateOpts,\n    ...actionInfo\n  }) => {\n    const ignoreBlocker = navigateOpts?.ignoreBlocker ?? false;\n    if (ignoreBlocker) {\n      task();\n      return;\n    }\n    const blockers = opts.getBlockers?.() ?? [];\n    const isPushOrReplace = actionInfo.type === \"PUSH\" || actionInfo.type === \"REPLACE\";\n    if (typeof document !== \"undefined\" && blockers.length && isPushOrReplace) {\n      for (const blocker of blockers) {\n        const nextLocation = parseHref(actionInfo.path, actionInfo.state);\n        const isBlocked = await blocker.blockerFn({\n          currentLocation: location,\n          nextLocation,\n          action: actionInfo.type\n        });\n        if (isBlocked) {\n          opts.onBlocked?.();\n          return;\n        }\n      }\n    }\n    task();\n  };\n  return {\n    get location() {\n      return location;\n    },\n    get length() {\n      return opts.getLength();\n    },\n    subscribers,\n    subscribe: (cb) => {\n      subscribers.add(cb);\n      return () => {\n        subscribers.delete(cb);\n      };\n    },\n    push: (path, state, navigateOpts) => {\n      const currentIndex = location.state[stateIndexKey];\n      state = assignKeyAndIndex(currentIndex + 1, state);\n      tryNavigation({\n        task: () => {\n          opts.pushState(path, state);\n          notify({ type: \"PUSH\" });\n        },\n        navigateOpts,\n        type: \"PUSH\",\n        path,\n        state\n      });\n    },\n    replace: (path, state, navigateOpts) => {\n      const currentIndex = location.state[stateIndexKey];\n      state = assignKeyAndIndex(currentIndex, state);\n      tryNavigation({\n        task: () => {\n          opts.replaceState(path, state);\n          notify({ type: \"REPLACE\" });\n        },\n        navigateOpts,\n        type: \"REPLACE\",\n        path,\n        state\n      });\n    },\n    go: (index, navigateOpts) => {\n      tryNavigation({\n        task: () => {\n          opts.go(index);\n          handleIndexChange({ type: \"GO\", index });\n        },\n        navigateOpts,\n        type: \"GO\"\n      });\n    },\n    back: (navigateOpts) => {\n      tryNavigation({\n        task: () => {\n          opts.back(navigateOpts?.ignoreBlocker ?? false);\n          handleIndexChange({ type: \"BACK\" });\n        },\n        navigateOpts,\n        type: \"BACK\"\n      });\n    },\n    forward: (navigateOpts) => {\n      tryNavigation({\n        task: () => {\n          opts.forward(navigateOpts?.ignoreBlocker ?? false);\n          handleIndexChange({ type: \"FORWARD\" });\n        },\n        navigateOpts,\n        type: \"FORWARD\"\n      });\n    },\n    canGoBack: () => location.state[stateIndexKey] !== 0,\n    createHref: (str) => opts.createHref(str),\n    block: (blocker) => {\n      if (!opts.setBlockers) return () => {\n      };\n      const blockers = opts.getBlockers?.() ?? [];\n      opts.setBlockers([...blockers, blocker]);\n      return () => {\n        const blockers2 = opts.getBlockers?.() ?? [];\n        opts.setBlockers?.(blockers2.filter((b) => b !== blocker));\n      };\n    },\n    flush: () => opts.flush?.(),\n    destroy: () => opts.destroy?.(),\n    notify\n  };\n}\nfunction assignKeyAndIndex(index, state) {\n  if (!state) {\n    state = {};\n  }\n  const key = createRandomKey();\n  return {\n    ...state,\n    key,\n    // TODO: Remove in v2 - use __TSR_key instead\n    __TSR_key: key,\n    [stateIndexKey]: index\n  };\n}\nfunction createBrowserHistory(opts) {\n  const win = opts?.window ?? (typeof document !== \"undefined\" ? window : void 0);\n  const originalPushState = win.history.pushState;\n  const originalReplaceState = win.history.replaceState;\n  let blockers = [];\n  const _getBlockers = () => blockers;\n  const _setBlockers = (newBlockers) => blockers = newBlockers;\n  const createHref = opts?.createHref ?? ((path) => path);\n  const parseLocation = opts?.parseLocation ?? (() => parseHref(\n    `${win.location.pathname}${win.location.search}${win.location.hash}`,\n    win.history.state\n  ));\n  if (!win.history.state?.__TSR_key && !win.history.state?.key) {\n    const addedKey = createRandomKey();\n    win.history.replaceState(\n      {\n        [stateIndexKey]: 0,\n        key: addedKey,\n        // TODO: Remove in v2 - use __TSR_key instead\n        __TSR_key: addedKey\n      },\n      \"\"\n    );\n  }\n  let currentLocation = parseLocation();\n  let rollbackLocation;\n  let nextPopIsGo = false;\n  let ignoreNextPop = false;\n  let skipBlockerNextPop = false;\n  let ignoreNextBeforeUnload = false;\n  const getLocation = () => currentLocation;\n  let next;\n  let scheduled;\n  const flush = () => {\n    if (!next) {\n      return;\n    }\n    history._ignoreSubscribers = true;\n    (next.isPush ? win.history.pushState : win.history.replaceState)(\n      next.state,\n      \"\",\n      next.href\n    );\n    history._ignoreSubscribers = false;\n    next = void 0;\n    scheduled = void 0;\n    rollbackLocation = void 0;\n  };\n  const queueHistoryAction = (type, destHref, state) => {\n    const href = createHref(destHref);\n    if (!scheduled) {\n      rollbackLocation = currentLocation;\n    }\n    currentLocation = parseHref(destHref, state);\n    next = {\n      href,\n      state,\n      isPush: next?.isPush || type === \"push\"\n    };\n    if (!scheduled) {\n      scheduled = Promise.resolve().then(() => flush());\n    }\n  };\n  const onPushPop = (type) => {\n    currentLocation = parseLocation();\n    history.notify({ type });\n  };\n  const onPushPopEvent = async () => {\n    if (ignoreNextPop) {\n      ignoreNextPop = false;\n      return;\n    }\n    const nextLocation = parseLocation();\n    const delta = nextLocation.state[stateIndexKey] - currentLocation.state[stateIndexKey];\n    const isForward = delta === 1;\n    const isBack = delta === -1;\n    const isGo = !isForward && !isBack || nextPopIsGo;\n    nextPopIsGo = false;\n    const action = isGo ? \"GO\" : isBack ? \"BACK\" : \"FORWARD\";\n    const notify = isGo ? {\n      type: \"GO\",\n      index: delta\n    } : {\n      type: isBack ? \"BACK\" : \"FORWARD\"\n    };\n    if (skipBlockerNextPop) {\n      skipBlockerNextPop = false;\n    } else {\n      const blockers2 = _getBlockers();\n      if (typeof document !== \"undefined\" && blockers2.length) {\n        for (const blocker of blockers2) {\n          const isBlocked = await blocker.blockerFn({\n            currentLocation,\n            nextLocation,\n            action\n          });\n          if (isBlocked) {\n            ignoreNextPop = true;\n            win.history.go(1);\n            history.notify(notify);\n            return;\n          }\n        }\n      }\n    }\n    currentLocation = parseLocation();\n    history.notify(notify);\n  };\n  const onBeforeUnload = (e) => {\n    if (ignoreNextBeforeUnload) {\n      ignoreNextBeforeUnload = false;\n      return;\n    }\n    let shouldBlock = false;\n    const blockers2 = _getBlockers();\n    if (typeof document !== \"undefined\" && blockers2.length) {\n      for (const blocker of blockers2) {\n        const shouldHaveBeforeUnload = blocker.enableBeforeUnload ?? true;\n        if (shouldHaveBeforeUnload === true) {\n          shouldBlock = true;\n          break;\n        }\n        if (typeof shouldHaveBeforeUnload === \"function\" && shouldHaveBeforeUnload() === true) {\n          shouldBlock = true;\n          break;\n        }\n      }\n    }\n    if (shouldBlock) {\n      e.preventDefault();\n      return e.returnValue = \"\";\n    }\n    return;\n  };\n  const history = createHistory({\n    getLocation,\n    getLength: () => win.history.length,\n    pushState: (href, state) => queueHistoryAction(\"push\", href, state),\n    replaceState: (href, state) => queueHistoryAction(\"replace\", href, state),\n    back: (ignoreBlocker) => {\n      if (ignoreBlocker) skipBlockerNextPop = true;\n      ignoreNextBeforeUnload = true;\n      return win.history.back();\n    },\n    forward: (ignoreBlocker) => {\n      if (ignoreBlocker) skipBlockerNextPop = true;\n      ignoreNextBeforeUnload = true;\n      win.history.forward();\n    },\n    go: (n) => {\n      nextPopIsGo = true;\n      win.history.go(n);\n    },\n    createHref: (href) => createHref(href),\n    flush,\n    destroy: () => {\n      win.history.pushState = originalPushState;\n      win.history.replaceState = originalReplaceState;\n      win.removeEventListener(beforeUnloadEvent, onBeforeUnload, {\n        capture: true\n      });\n      win.removeEventListener(popStateEvent, onPushPopEvent);\n    },\n    onBlocked: () => {\n      if (rollbackLocation && currentLocation !== rollbackLocation) {\n        currentLocation = rollbackLocation;\n      }\n    },\n    getBlockers: _getBlockers,\n    setBlockers: _setBlockers,\n    notifyOnIndexChange: false\n  });\n  win.addEventListener(beforeUnloadEvent, onBeforeUnload, { capture: true });\n  win.addEventListener(popStateEvent, onPushPopEvent);\n  win.history.pushState = function(...args) {\n    const res = originalPushState.apply(win.history, args);\n    if (!history._ignoreSubscribers) onPushPop(\"PUSH\");\n    return res;\n  };\n  win.history.replaceState = function(...args) {\n    const res = originalReplaceState.apply(win.history, args);\n    if (!history._ignoreSubscribers) onPushPop(\"REPLACE\");\n    return res;\n  };\n  return history;\n}\nfunction createHashHistory(opts) {\n  const win = opts?.window ?? (typeof document !== \"undefined\" ? window : void 0);\n  return createBrowserHistory({\n    window: win,\n    parseLocation: () => {\n      const hashSplit = win.location.hash.split(\"#\").slice(1);\n      const pathPart = hashSplit[0] ?? \"/\";\n      const searchPart = win.location.search;\n      const hashEntries = hashSplit.slice(1);\n      const hashPart = hashEntries.length === 0 ? \"\" : `#${hashEntries.join(\"#\")}`;\n      const hashHref = `${pathPart}${searchPart}${hashPart}`;\n      return parseHref(hashHref, win.history.state);\n    },\n    createHref: (href) => `${win.location.pathname}${win.location.search}#${href}`\n  });\n}\nfunction createMemoryHistory(opts = {\n  initialEntries: [\"/\"]\n}) {\n  const entries = opts.initialEntries;\n  let index = opts.initialIndex ? Math.min(Math.max(opts.initialIndex, 0), entries.length - 1) : entries.length - 1;\n  const states = entries.map(\n    (_entry, index2) => assignKeyAndIndex(index2, void 0)\n  );\n  const getLocation = () => parseHref(entries[index], states[index]);\n  return createHistory({\n    getLocation,\n    getLength: () => entries.length,\n    pushState: (path, state) => {\n      if (index < entries.length - 1) {\n        entries.splice(index + 1);\n        states.splice(index + 1);\n      }\n      states.push(state);\n      entries.push(path);\n      index = Math.max(entries.length - 1, 0);\n    },\n    replaceState: (path, state) => {\n      states[index] = state;\n      entries[index] = path;\n    },\n    back: () => {\n      index = Math.max(index - 1, 0);\n    },\n    forward: () => {\n      index = Math.min(index + 1, entries.length - 1);\n    },\n    go: (n) => {\n      index = Math.min(Math.max(index + n, 0), entries.length - 1);\n    },\n    createHref: (path) => path\n  });\n}\nfunction sanitizePath(path) {\n  let sanitized = path.replace(/[\\x00-\\x1f\\x7f]/g, \"\");\n  if (sanitized.startsWith(\"//\")) {\n    sanitized = \"/\" + sanitized.replace(/^\\/+/, \"\");\n  }\n  return sanitized;\n}\nfunction parseHref(href, state) {\n  const sanitizedHref = sanitizePath(href);\n  const hashIndex = sanitizedHref.indexOf(\"#\");\n  const searchIndex = sanitizedHref.indexOf(\"?\");\n  const addedKey = createRandomKey();\n  return {\n    href: sanitizedHref,\n    pathname: sanitizedHref.substring(\n      0,\n      hashIndex > 0 ? searchIndex > 0 ? Math.min(hashIndex, searchIndex) : hashIndex : searchIndex > 0 ? searchIndex : sanitizedHref.length\n    ),\n    hash: hashIndex > -1 ? sanitizedHref.substring(hashIndex) : \"\",\n    search: searchIndex > -1 ? sanitizedHref.slice(\n      searchIndex,\n      hashIndex === -1 ? void 0 : hashIndex\n    ) : \"\",\n    state: state || { [stateIndexKey]: 0, key: addedKey, __TSR_key: addedKey }\n  };\n}\nfunction createRandomKey() {\n  return (Math.random() + 1).toString(36).substring(7);\n}\nexport {\n  createBrowserHistory,\n  createHashHistory,\n  createHistory,\n  createMemoryHistory,\n  parseHref\n};\n//# sourceMappingURL=index.js.map\n","function last(arr) {\n  return arr[arr.length - 1];\n}\nfunction isFunction(d) {\n  return typeof d === \"function\";\n}\nfunction functionalUpdate(updater, previous) {\n  if (isFunction(updater)) {\n    return updater(previous);\n  }\n  return updater;\n}\nconst hasOwn = Object.prototype.hasOwnProperty;\nfunction replaceEqualDeep(prev, _next) {\n  if (prev === _next) {\n    return prev;\n  }\n  const next = _next;\n  const array = isPlainArray(prev) && isPlainArray(next);\n  if (!array && !(isPlainObject(prev) && isPlainObject(next))) return next;\n  const prevItems = array ? prev : getEnumerableOwnKeys(prev);\n  if (!prevItems) return next;\n  const nextItems = array ? next : getEnumerableOwnKeys(next);\n  if (!nextItems) return next;\n  const prevSize = prevItems.length;\n  const nextSize = nextItems.length;\n  const copy = array ? new Array(nextSize) : {};\n  let equalItems = 0;\n  for (let i = 0; i < nextSize; i++) {\n    const key = array ? i : nextItems[i];\n    const p = prev[key];\n    const n = next[key];\n    if (p === n) {\n      copy[key] = p;\n      if (array ? i < prevSize : hasOwn.call(prev, key)) equalItems++;\n      continue;\n    }\n    if (p === null || n === null || typeof p !== \"object\" || typeof n !== \"object\") {\n      copy[key] = n;\n      continue;\n    }\n    const v = replaceEqualDeep(p, n);\n    copy[key] = v;\n    if (v === p) equalItems++;\n  }\n  return prevSize === nextSize && equalItems === prevSize ? prev : copy;\n}\nfunction getEnumerableOwnKeys(o) {\n  const keys = [];\n  const names = Object.getOwnPropertyNames(o);\n  for (const name of names) {\n    if (!Object.prototype.propertyIsEnumerable.call(o, name)) return false;\n    keys.push(name);\n  }\n  const symbols = Object.getOwnPropertySymbols(o);\n  for (const symbol of symbols) {\n    if (!Object.prototype.propertyIsEnumerable.call(o, symbol)) return false;\n    keys.push(symbol);\n  }\n  return keys;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (typeof ctor === \"undefined\") {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction deepEqual(a, b, opts) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    for (let i = 0, l = a.length; i < l; i++) {\n      if (!deepEqual(a[i], b[i], opts)) return false;\n    }\n    return true;\n  }\n  if (isPlainObject(a) && isPlainObject(b)) {\n    const ignoreUndefined = opts?.ignoreUndefined ?? true;\n    if (opts?.partial) {\n      for (const k in b) {\n        if (!ignoreUndefined || b[k] !== void 0) {\n          if (!deepEqual(a[k], b[k], opts)) return false;\n        }\n      }\n      return true;\n    }\n    let aCount = 0;\n    if (!ignoreUndefined) {\n      aCount = Object.keys(a).length;\n    } else {\n      for (const k in a) {\n        if (a[k] !== void 0) aCount++;\n      }\n    }\n    let bCount = 0;\n    for (const k in b) {\n      if (!ignoreUndefined || b[k] !== void 0) {\n        bCount++;\n        if (bCount > aCount || !deepEqual(a[k], b[k], opts)) return false;\n      }\n    }\n    return aCount === bCount;\n  }\n  return false;\n}\nfunction createControlledPromise(onResolve) {\n  let resolveLoadPromise;\n  let rejectLoadPromise;\n  const controlledPromise = new Promise((resolve, reject) => {\n    resolveLoadPromise = resolve;\n    rejectLoadPromise = reject;\n  });\n  controlledPromise.status = \"pending\";\n  controlledPromise.resolve = (value) => {\n    controlledPromise.status = \"resolved\";\n    controlledPromise.value = value;\n    resolveLoadPromise(value);\n    onResolve?.(value);\n  };\n  controlledPromise.reject = (e) => {\n    controlledPromise.status = \"rejected\";\n    rejectLoadPromise(e);\n  };\n  return controlledPromise;\n}\nfunction isModuleNotFoundError(error) {\n  if (typeof error?.message !== \"string\") return false;\n  return error.message.startsWith(\"Failed to fetch dynamically imported module\") || error.message.startsWith(\"error loading dynamically imported module\") || error.message.startsWith(\"Importing a module script failed\");\n}\nfunction isPromise(value) {\n  return Boolean(\n    value && typeof value === \"object\" && typeof value.then === \"function\"\n  );\n}\nfunction findLast(array, predicate) {\n  for (let i = array.length - 1; i >= 0; i--) {\n    const item = array[i];\n    if (predicate(item)) return item;\n  }\n  return void 0;\n}\nfunction sanitizePathSegment(segment) {\n  return segment.replace(/[\\x00-\\x1f\\x7f]/g, \"\");\n}\nfunction decodeSegment(segment) {\n  let decoded;\n  try {\n    decoded = decodeURI(segment);\n  } catch {\n    decoded = segment.replaceAll(/%[0-9A-F]{2}/gi, (match) => {\n      try {\n        return decodeURI(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n  return sanitizePathSegment(decoded);\n}\nconst SAFE_URL_PROTOCOLS = [\"http:\", \"https:\", \"mailto:\", \"tel:\"];\nfunction isDangerousProtocol(url) {\n  if (!url) return false;\n  try {\n    const parsed = new URL(url);\n    return !SAFE_URL_PROTOCOLS.includes(parsed.protocol);\n  } catch {\n    return false;\n  }\n}\nconst HTML_ESCAPE_LOOKUP = {\n  \"&\": \"\\\\u0026\",\n  \">\": \"\\\\u003e\",\n  \"<\": \"\\\\u003c\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nconst HTML_ESCAPE_REGEX = /[&><\\u2028\\u2029]/g;\nfunction escapeHtml(str) {\n  return str.replace(HTML_ESCAPE_REGEX, (match) => HTML_ESCAPE_LOOKUP[match]);\n}\nfunction decodePath(path, decodeIgnore) {\n  if (!path) return path;\n  const re = decodeIgnore ? new RegExp(`${decodeIgnore.join(\"|\")}`, \"gi\") : /%25|%5C/gi;\n  let cursor = 0;\n  let result = \"\";\n  let match;\n  while (null !== (match = re.exec(path))) {\n    result += decodeSegment(path.slice(cursor, match.index)) + match[0];\n    cursor = re.lastIndex;\n  }\n  result = result + decodeSegment(cursor ? path.slice(cursor) : path);\n  if (result.startsWith(\"//\")) {\n    result = \"/\" + result.replace(/^\\/+/, \"\");\n  }\n  return result;\n}\nfunction buildDevStylesUrl(basepath, routeIds) {\n  const trimmedBasepath = basepath.replace(/^\\/+|\\/+$/g, \"\");\n  const normalizedBasepath = trimmedBasepath === \"\" ? \"\" : `/${trimmedBasepath}`;\n  return `${normalizedBasepath}/@tanstack-start/styles.css?routes=${encodeURIComponent(routeIds.join(\",\"))}`;\n}\nexport {\n  SAFE_URL_PROTOCOLS,\n  buildDevStylesUrl,\n  createControlledPromise,\n  decodePath,\n  deepEqual,\n  escapeHtml,\n  findLast,\n  functionalUpdate,\n  isDangerousProtocol,\n  isModuleNotFoundError,\n  isPlainArray,\n  isPlainObject,\n  isPromise,\n  last,\n  replaceEqualDeep\n};\n//# sourceMappingURL=utils.js.map\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","function createLRUCache(max) {\n  const cache = /* @__PURE__ */ new Map();\n  let oldest;\n  let newest;\n  const touch = (entry) => {\n    if (!entry.next) return;\n    if (!entry.prev) {\n      entry.next.prev = void 0;\n      oldest = entry.next;\n      entry.next = void 0;\n      if (newest) {\n        entry.prev = newest;\n        newest.next = entry;\n      }\n    } else {\n      entry.prev.next = entry.next;\n      entry.next.prev = entry.prev;\n      entry.next = void 0;\n      if (newest) {\n        newest.next = entry;\n        entry.prev = newest;\n      }\n    }\n    newest = entry;\n  };\n  return {\n    get(key) {\n      const entry = cache.get(key);\n      if (!entry) return void 0;\n      touch(entry);\n      return entry.value;\n    },\n    set(key, value) {\n      if (cache.size >= max && oldest) {\n        const toDelete = oldest;\n        cache.delete(toDelete.key);\n        if (toDelete.next) {\n          oldest = toDelete.next;\n          toDelete.next.prev = void 0;\n        }\n        if (toDelete === newest) {\n          newest = void 0;\n        }\n      }\n      const existing = cache.get(key);\n      if (existing) {\n        existing.value = value;\n        touch(existing);\n      } else {\n        const entry = { key, value, prev: newest };\n        if (newest) newest.next = entry;\n        newest = entry;\n        if (!oldest) oldest = entry;\n        cache.set(key, entry);\n      }\n    },\n    clear() {\n      cache.clear();\n      oldest = void 0;\n      newest = void 0;\n    }\n  };\n}\nexport {\n  createLRUCache\n};\n//# sourceMappingURL=lru-cache.js.map\n","import invariant from \"tiny-invariant\";\nimport { createLRUCache } from \"./lru-cache.js\";\nimport { last } from \"./utils.js\";\nconst SEGMENT_TYPE_PATHNAME = 0;\nconst SEGMENT_TYPE_PARAM = 1;\nconst SEGMENT_TYPE_WILDCARD = 2;\nconst SEGMENT_TYPE_OPTIONAL_PARAM = 3;\nconst SEGMENT_TYPE_INDEX = 4;\nconst SEGMENT_TYPE_PATHLESS = 5;\nconst PARAM_W_CURLY_BRACES_RE = /^([^{]*)\\{\\$([a-zA-Z_$][a-zA-Z0-9_$]*)\\}([^}]*)$/;\nconst OPTIONAL_PARAM_W_CURLY_BRACES_RE = /^([^{]*)\\{-\\$([a-zA-Z_$][a-zA-Z0-9_$]*)\\}([^}]*)$/;\nconst WILDCARD_W_CURLY_BRACES_RE = /^([^{]*)\\{\\$\\}([^}]*)$/;\nfunction parseSegment(path, start, output = new Uint16Array(6)) {\n  const next = path.indexOf(\"/\", start);\n  const end = next === -1 ? path.length : next;\n  const part = path.substring(start, end);\n  if (!part || !part.includes(\"$\")) {\n    output[0] = SEGMENT_TYPE_PATHNAME;\n    output[1] = start;\n    output[2] = start;\n    output[3] = end;\n    output[4] = end;\n    output[5] = end;\n    return output;\n  }\n  if (part === \"$\") {\n    const total = path.length;\n    output[0] = SEGMENT_TYPE_WILDCARD;\n    output[1] = start;\n    output[2] = start;\n    output[3] = total;\n    output[4] = total;\n    output[5] = total;\n    return output;\n  }\n  if (part.charCodeAt(0) === 36) {\n    output[0] = SEGMENT_TYPE_PARAM;\n    output[1] = start;\n    output[2] = start + 1;\n    output[3] = end;\n    output[4] = end;\n    output[5] = end;\n    return output;\n  }\n  const wildcardBracesMatch = part.match(WILDCARD_W_CURLY_BRACES_RE);\n  if (wildcardBracesMatch) {\n    const prefix = wildcardBracesMatch[1];\n    const pLength = prefix.length;\n    output[0] = SEGMENT_TYPE_WILDCARD;\n    output[1] = start + pLength;\n    output[2] = start + pLength + 1;\n    output[3] = start + pLength + 2;\n    output[4] = start + pLength + 3;\n    output[5] = path.length;\n    return output;\n  }\n  const optionalParamBracesMatch = part.match(OPTIONAL_PARAM_W_CURLY_BRACES_RE);\n  if (optionalParamBracesMatch) {\n    const prefix = optionalParamBracesMatch[1];\n    const paramName = optionalParamBracesMatch[2];\n    const suffix = optionalParamBracesMatch[3];\n    const pLength = prefix.length;\n    output[0] = SEGMENT_TYPE_OPTIONAL_PARAM;\n    output[1] = start + pLength;\n    output[2] = start + pLength + 3;\n    output[3] = start + pLength + 3 + paramName.length;\n    output[4] = end - suffix.length;\n    output[5] = end;\n    return output;\n  }\n  const paramBracesMatch = part.match(PARAM_W_CURLY_BRACES_RE);\n  if (paramBracesMatch) {\n    const prefix = paramBracesMatch[1];\n    const paramName = paramBracesMatch[2];\n    const suffix = paramBracesMatch[3];\n    const pLength = prefix.length;\n    output[0] = SEGMENT_TYPE_PARAM;\n    output[1] = start + pLength;\n    output[2] = start + pLength + 2;\n    output[3] = start + pLength + 2 + paramName.length;\n    output[4] = end - suffix.length;\n    output[5] = end;\n    return output;\n  }\n  output[0] = SEGMENT_TYPE_PATHNAME;\n  output[1] = start;\n  output[2] = start;\n  output[3] = end;\n  output[4] = end;\n  output[5] = end;\n  return output;\n}\nfunction parseSegments(defaultCaseSensitive, data, route, start, node, depth, onRoute) {\n  onRoute?.(route);\n  let cursor = start;\n  {\n    const path = route.fullPath ?? route.from;\n    const length = path.length;\n    const caseSensitive = route.options?.caseSensitive ?? defaultCaseSensitive;\n    const skipOnParamError = !!(route.options?.params?.parse && route.options?.skipRouteOnParseError?.params);\n    while (cursor < length) {\n      const segment = parseSegment(path, cursor, data);\n      let nextNode;\n      const start2 = cursor;\n      const end = segment[5];\n      cursor = end + 1;\n      depth++;\n      const kind = segment[0];\n      switch (kind) {\n        case SEGMENT_TYPE_PATHNAME: {\n          const value = path.substring(segment[2], segment[3]);\n          if (caseSensitive) {\n            const existingNode = node.static?.get(value);\n            if (existingNode) {\n              nextNode = existingNode;\n            } else {\n              node.static ??= /* @__PURE__ */ new Map();\n              const next = createStaticNode(\n                route.fullPath ?? route.from\n              );\n              next.parent = node;\n              next.depth = depth;\n              nextNode = next;\n              node.static.set(value, next);\n            }\n          } else {\n            const name = value.toLowerCase();\n            const existingNode = node.staticInsensitive?.get(name);\n            if (existingNode) {\n              nextNode = existingNode;\n            } else {\n              node.staticInsensitive ??= /* @__PURE__ */ new Map();\n              const next = createStaticNode(\n                route.fullPath ?? route.from\n              );\n              next.parent = node;\n              next.depth = depth;\n              nextNode = next;\n              node.staticInsensitive.set(name, next);\n            }\n          }\n          break;\n        }\n        case SEGMENT_TYPE_PARAM: {\n          const prefix_raw = path.substring(start2, segment[1]);\n          const suffix_raw = path.substring(segment[4], end);\n          const actuallyCaseSensitive = caseSensitive && !!(prefix_raw || suffix_raw);\n          const prefix = !prefix_raw ? void 0 : actuallyCaseSensitive ? prefix_raw : prefix_raw.toLowerCase();\n          const suffix = !suffix_raw ? void 0 : actuallyCaseSensitive ? suffix_raw : suffix_raw.toLowerCase();\n          const existingNode = !skipOnParamError && node.dynamic?.find(\n            (s) => !s.skipOnParamError && s.caseSensitive === actuallyCaseSensitive && s.prefix === prefix && s.suffix === suffix\n          );\n          if (existingNode) {\n            nextNode = existingNode;\n          } else {\n            const next = createDynamicNode(\n              SEGMENT_TYPE_PARAM,\n              route.fullPath ?? route.from,\n              actuallyCaseSensitive,\n              prefix,\n              suffix\n            );\n            nextNode = next;\n            next.depth = depth;\n            next.parent = node;\n            node.dynamic ??= [];\n            node.dynamic.push(next);\n          }\n          break;\n        }\n        case SEGMENT_TYPE_OPTIONAL_PARAM: {\n          const prefix_raw = path.substring(start2, segment[1]);\n          const suffix_raw = path.substring(segment[4], end);\n          const actuallyCaseSensitive = caseSensitive && !!(prefix_raw || suffix_raw);\n          const prefix = !prefix_raw ? void 0 : actuallyCaseSensitive ? prefix_raw : prefix_raw.toLowerCase();\n          const suffix = !suffix_raw ? void 0 : actuallyCaseSensitive ? suffix_raw : suffix_raw.toLowerCase();\n          const existingNode = !skipOnParamError && node.optional?.find(\n            (s) => !s.skipOnParamError && s.caseSensitive === actuallyCaseSensitive && s.prefix === prefix && s.suffix === suffix\n          );\n          if (existingNode) {\n            nextNode = existingNode;\n          } else {\n            const next = createDynamicNode(\n              SEGMENT_TYPE_OPTIONAL_PARAM,\n              route.fullPath ?? route.from,\n              actuallyCaseSensitive,\n              prefix,\n              suffix\n            );\n            nextNode = next;\n            next.parent = node;\n            next.depth = depth;\n            node.optional ??= [];\n            node.optional.push(next);\n          }\n          break;\n        }\n        case SEGMENT_TYPE_WILDCARD: {\n          const prefix_raw = path.substring(start2, segment[1]);\n          const suffix_raw = path.substring(segment[4], end);\n          const actuallyCaseSensitive = caseSensitive && !!(prefix_raw || suffix_raw);\n          const prefix = !prefix_raw ? void 0 : actuallyCaseSensitive ? prefix_raw : prefix_raw.toLowerCase();\n          const suffix = !suffix_raw ? void 0 : actuallyCaseSensitive ? suffix_raw : suffix_raw.toLowerCase();\n          const next = createDynamicNode(\n            SEGMENT_TYPE_WILDCARD,\n            route.fullPath ?? route.from,\n            actuallyCaseSensitive,\n            prefix,\n            suffix\n          );\n          nextNode = next;\n          next.parent = node;\n          next.depth = depth;\n          node.wildcard ??= [];\n          node.wildcard.push(next);\n        }\n      }\n      node = nextNode;\n    }\n    if (skipOnParamError && route.children && !route.isRoot && route.id && route.id.charCodeAt(route.id.lastIndexOf(\"/\") + 1) === 95) {\n      const pathlessNode = createStaticNode(\n        route.fullPath ?? route.from\n      );\n      pathlessNode.kind = SEGMENT_TYPE_PATHLESS;\n      pathlessNode.parent = node;\n      depth++;\n      pathlessNode.depth = depth;\n      node.pathless ??= [];\n      node.pathless.push(pathlessNode);\n      node = pathlessNode;\n    }\n    const isLeaf = (route.path || !route.children) && !route.isRoot;\n    if (isLeaf && path.endsWith(\"/\")) {\n      const indexNode = createStaticNode(\n        route.fullPath ?? route.from\n      );\n      indexNode.kind = SEGMENT_TYPE_INDEX;\n      indexNode.parent = node;\n      depth++;\n      indexNode.depth = depth;\n      node.index = indexNode;\n      node = indexNode;\n    }\n    node.parse = route.options?.params?.parse ?? null;\n    node.skipOnParamError = skipOnParamError;\n    node.parsingPriority = route.options?.skipRouteOnParseError?.priority ?? 0;\n    if (isLeaf && !node.route) {\n      node.route = route;\n      node.fullPath = route.fullPath ?? route.from;\n    }\n  }\n  if (route.children)\n    for (const child of route.children) {\n      parseSegments(\n        defaultCaseSensitive,\n        data,\n        child,\n        cursor,\n        node,\n        depth,\n        onRoute\n      );\n    }\n}\nfunction sortDynamic(a, b) {\n  if (a.skipOnParamError && !b.skipOnParamError) return -1;\n  if (!a.skipOnParamError && b.skipOnParamError) return 1;\n  if (a.skipOnParamError && b.skipOnParamError && (a.parsingPriority || b.parsingPriority))\n    return b.parsingPriority - a.parsingPriority;\n  if (a.prefix && b.prefix && a.prefix !== b.prefix) {\n    if (a.prefix.startsWith(b.prefix)) return -1;\n    if (b.prefix.startsWith(a.prefix)) return 1;\n  }\n  if (a.suffix && b.suffix && a.suffix !== b.suffix) {\n    if (a.suffix.endsWith(b.suffix)) return -1;\n    if (b.suffix.endsWith(a.suffix)) return 1;\n  }\n  if (a.prefix && !b.prefix) return -1;\n  if (!a.prefix && b.prefix) return 1;\n  if (a.suffix && !b.suffix) return -1;\n  if (!a.suffix && b.suffix) return 1;\n  if (a.caseSensitive && !b.caseSensitive) return -1;\n  if (!a.caseSensitive && b.caseSensitive) return 1;\n  return 0;\n}\nfunction sortTreeNodes(node) {\n  if (node.pathless) {\n    for (const child of node.pathless) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.static) {\n    for (const child of node.static.values()) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.staticInsensitive) {\n    for (const child of node.staticInsensitive.values()) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.dynamic?.length) {\n    node.dynamic.sort(sortDynamic);\n    for (const child of node.dynamic) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.optional?.length) {\n    node.optional.sort(sortDynamic);\n    for (const child of node.optional) {\n      sortTreeNodes(child);\n    }\n  }\n  if (node.wildcard?.length) {\n    node.wildcard.sort(sortDynamic);\n    for (const child of node.wildcard) {\n      sortTreeNodes(child);\n    }\n  }\n}\nfunction createStaticNode(fullPath) {\n  return {\n    kind: SEGMENT_TYPE_PATHNAME,\n    depth: 0,\n    pathless: null,\n    index: null,\n    static: null,\n    staticInsensitive: null,\n    dynamic: null,\n    optional: null,\n    wildcard: null,\n    route: null,\n    fullPath,\n    parent: null,\n    parse: null,\n    skipOnParamError: false,\n    parsingPriority: 0\n  };\n}\nfunction createDynamicNode(kind, fullPath, caseSensitive, prefix, suffix) {\n  return {\n    kind,\n    depth: 0,\n    pathless: null,\n    index: null,\n    static: null,\n    staticInsensitive: null,\n    dynamic: null,\n    optional: null,\n    wildcard: null,\n    route: null,\n    fullPath,\n    parent: null,\n    parse: null,\n    skipOnParamError: false,\n    parsingPriority: 0,\n    caseSensitive,\n    prefix,\n    suffix\n  };\n}\nfunction processRouteMasks(routeList, processedTree) {\n  const segmentTree = createStaticNode(\"/\");\n  const data = new Uint16Array(6);\n  for (const route of routeList) {\n    parseSegments(false, data, route, 1, segmentTree, 0);\n  }\n  sortTreeNodes(segmentTree);\n  processedTree.masksTree = segmentTree;\n  processedTree.flatCache = createLRUCache(1e3);\n}\nfunction findFlatMatch(path, processedTree) {\n  path ||= \"/\";\n  const cached = processedTree.flatCache.get(path);\n  if (cached) return cached;\n  const result = findMatch(path, processedTree.masksTree);\n  processedTree.flatCache.set(path, result);\n  return result;\n}\nfunction findSingleMatch(from, caseSensitive, fuzzy, path, processedTree) {\n  from ||= \"/\";\n  path ||= \"/\";\n  const key = caseSensitive ? `case\\0${from}` : from;\n  let tree = processedTree.singleCache.get(key);\n  if (!tree) {\n    tree = createStaticNode(\"/\");\n    const data = new Uint16Array(6);\n    parseSegments(caseSensitive, data, { from }, 1, tree, 0);\n    processedTree.singleCache.set(key, tree);\n  }\n  return findMatch(path, tree, fuzzy);\n}\nfunction findRouteMatch(path, processedTree, fuzzy = false) {\n  const key = fuzzy ? path : `nofuzz\\0${path}`;\n  const cached = processedTree.matchCache.get(key);\n  if (cached !== void 0) return cached;\n  path ||= \"/\";\n  const result = findMatch(\n    path,\n    processedTree.segmentTree,\n    fuzzy\n  );\n  if (result) result.branch = buildRouteBranch(result.route);\n  processedTree.matchCache.set(key, result);\n  return result;\n}\nfunction trimPathRight(path) {\n  return path === \"/\" ? path : path.replace(/\\/{1,}$/, \"\");\n}\nfunction processRouteTree(routeTree, caseSensitive = false, initRoute) {\n  const segmentTree = createStaticNode(routeTree.fullPath);\n  const data = new Uint16Array(6);\n  const routesById = {};\n  const routesByPath = {};\n  let index = 0;\n  parseSegments(caseSensitive, data, routeTree, 1, segmentTree, 0, (route) => {\n    initRoute?.(route, index);\n    invariant(\n      !(route.id in routesById),\n      `Duplicate routes found with id: ${String(route.id)}`\n    );\n    routesById[route.id] = route;\n    if (index !== 0 && route.path) {\n      const trimmedFullPath = trimPathRight(route.fullPath);\n      if (!routesByPath[trimmedFullPath] || route.fullPath.endsWith(\"/\")) {\n        routesByPath[trimmedFullPath] = route;\n      }\n    }\n    index++;\n  });\n  sortTreeNodes(segmentTree);\n  const processedTree = {\n    segmentTree,\n    singleCache: createLRUCache(1e3),\n    matchCache: createLRUCache(1e3),\n    flatCache: null,\n    masksTree: null\n  };\n  return {\n    processedTree,\n    routesById,\n    routesByPath\n  };\n}\nfunction findMatch(path, segmentTree, fuzzy = false) {\n  const parts = path.split(\"/\");\n  const leaf = getNodeMatch(path, parts, segmentTree, fuzzy);\n  if (!leaf) return null;\n  const [rawParams] = extractParams(path, parts, leaf);\n  return {\n    route: leaf.node.route,\n    rawParams,\n    parsedParams: leaf.parsedParams\n  };\n}\nfunction extractParams(path, parts, leaf) {\n  const list = buildBranch(leaf.node);\n  let nodeParts = null;\n  const rawParams = {};\n  let partIndex = leaf.extract?.part ?? 0;\n  let nodeIndex = leaf.extract?.node ?? 0;\n  let pathIndex = leaf.extract?.path ?? 0;\n  for (; nodeIndex < list.length; partIndex++, nodeIndex++, pathIndex++) {\n    const node = list[nodeIndex];\n    const part = parts[partIndex];\n    const currentPathIndex = pathIndex;\n    if (part) pathIndex += part.length;\n    if (node.kind === SEGMENT_TYPE_PARAM) {\n      nodeParts ??= leaf.node.fullPath.split(\"/\");\n      const nodePart = nodeParts[nodeIndex];\n      const preLength = node.prefix?.length ?? 0;\n      const isCurlyBraced = nodePart.charCodeAt(preLength) === 123;\n      if (isCurlyBraced) {\n        const sufLength = node.suffix?.length ?? 0;\n        const name = nodePart.substring(\n          preLength + 2,\n          nodePart.length - sufLength - 1\n        );\n        const value = part.substring(preLength, part.length - sufLength);\n        rawParams[name] = decodeURIComponent(value);\n      } else {\n        const name = nodePart.substring(1);\n        rawParams[name] = decodeURIComponent(part);\n      }\n    } else if (node.kind === SEGMENT_TYPE_OPTIONAL_PARAM) {\n      if (leaf.skipped & 1 << nodeIndex) {\n        partIndex--;\n        continue;\n      }\n      nodeParts ??= leaf.node.fullPath.split(\"/\");\n      const nodePart = nodeParts[nodeIndex];\n      const preLength = node.prefix?.length ?? 0;\n      const sufLength = node.suffix?.length ?? 0;\n      const name = nodePart.substring(\n        preLength + 3,\n        nodePart.length - sufLength - 1\n      );\n      const value = node.suffix || node.prefix ? part.substring(preLength, part.length - sufLength) : part;\n      if (value) rawParams[name] = decodeURIComponent(value);\n    } else if (node.kind === SEGMENT_TYPE_WILDCARD) {\n      const n = node;\n      const value = path.substring(\n        currentPathIndex + (n.prefix?.length ?? 0),\n        path.length - (n.suffix?.length ?? 0)\n      );\n      const splat = decodeURIComponent(value);\n      rawParams[\"*\"] = splat;\n      rawParams._splat = splat;\n      break;\n    }\n  }\n  if (leaf.rawParams) Object.assign(rawParams, leaf.rawParams);\n  return [rawParams, { part: partIndex, node: nodeIndex, path: pathIndex }];\n}\nfunction buildRouteBranch(route) {\n  const list = [route];\n  while (route.parentRoute) {\n    route = route.parentRoute;\n    list.push(route);\n  }\n  list.reverse();\n  return list;\n}\nfunction buildBranch(node) {\n  const list = Array(node.depth + 1);\n  do {\n    list[node.depth] = node;\n    node = node.parent;\n  } while (node);\n  return list;\n}\nfunction getNodeMatch(path, parts, segmentTree, fuzzy) {\n  if (path === \"/\" && segmentTree.index)\n    return { node: segmentTree.index, skipped: 0 };\n  const trailingSlash = !last(parts);\n  const pathIsIndex = trailingSlash && path !== \"/\";\n  const partsLength = parts.length - (trailingSlash ? 1 : 0);\n  const stack = [\n    {\n      node: segmentTree,\n      index: 1,\n      skipped: 0,\n      depth: 1,\n      statics: 1,\n      dynamics: 0,\n      optionals: 0\n    }\n  ];\n  let wildcardMatch = null;\n  let bestFuzzy = null;\n  let bestMatch = null;\n  while (stack.length) {\n    const frame = stack.pop();\n    const { node, index, skipped, depth, statics, dynamics, optionals } = frame;\n    let { extract, rawParams, parsedParams } = frame;\n    if (node.skipOnParamError) {\n      const result = validateMatchParams(path, parts, frame);\n      if (!result) continue;\n      rawParams = frame.rawParams;\n      extract = frame.extract;\n      parsedParams = frame.parsedParams;\n    }\n    if (fuzzy && node.route && node.kind !== SEGMENT_TYPE_INDEX && isFrameMoreSpecific(bestFuzzy, frame)) {\n      bestFuzzy = frame;\n    }\n    const isBeyondPath = index === partsLength;\n    if (isBeyondPath) {\n      if (node.route && !pathIsIndex && isFrameMoreSpecific(bestMatch, frame)) {\n        bestMatch = frame;\n      }\n      if (!node.optional && !node.wildcard && !node.index && !node.pathless)\n        continue;\n    }\n    const part = isBeyondPath ? void 0 : parts[index];\n    let lowerPart;\n    if (isBeyondPath && node.index) {\n      const indexFrame = {\n        node: node.index,\n        index,\n        skipped,\n        depth: depth + 1,\n        statics,\n        dynamics,\n        optionals,\n        extract,\n        rawParams,\n        parsedParams\n      };\n      if (node.index.skipOnParamError) {\n        const result = validateMatchParams(path, parts, indexFrame);\n        if (!result) continue;\n      }\n      if (statics === partsLength && !dynamics && !optionals && !skipped) {\n        return indexFrame;\n      }\n      if (isFrameMoreSpecific(bestMatch, indexFrame)) {\n        bestMatch = indexFrame;\n      }\n    }\n    if (node.wildcard && isFrameMoreSpecific(wildcardMatch, frame)) {\n      for (const segment of node.wildcard) {\n        const { prefix, suffix } = segment;\n        if (prefix) {\n          if (isBeyondPath) continue;\n          const casePart = segment.caseSensitive ? part : lowerPart ??= part.toLowerCase();\n          if (!casePart.startsWith(prefix)) continue;\n        }\n        if (suffix) {\n          if (isBeyondPath) continue;\n          const end = parts.slice(index).join(\"/\").slice(-suffix.length);\n          const casePart = segment.caseSensitive ? end : end.toLowerCase();\n          if (casePart !== suffix) continue;\n        }\n        const frame2 = {\n          node: segment,\n          index: partsLength,\n          skipped,\n          depth,\n          statics,\n          dynamics,\n          optionals,\n          extract,\n          rawParams,\n          parsedParams\n        };\n        if (segment.skipOnParamError) {\n          const result = validateMatchParams(path, parts, frame2);\n          if (!result) continue;\n        }\n        wildcardMatch = frame2;\n        break;\n      }\n    }\n    if (node.optional) {\n      const nextSkipped = skipped | 1 << depth;\n      const nextDepth = depth + 1;\n      for (let i = node.optional.length - 1; i >= 0; i--) {\n        const segment = node.optional[i];\n        stack.push({\n          node: segment,\n          index,\n          skipped: nextSkipped,\n          depth: nextDepth,\n          statics,\n          dynamics,\n          optionals,\n          extract,\n          rawParams,\n          parsedParams\n        });\n      }\n      if (!isBeyondPath) {\n        for (let i = node.optional.length - 1; i >= 0; i--) {\n          const segment = node.optional[i];\n          const { prefix, suffix } = segment;\n          if (prefix || suffix) {\n            const casePart = segment.caseSensitive ? part : lowerPart ??= part.toLowerCase();\n            if (prefix && !casePart.startsWith(prefix)) continue;\n            if (suffix && !casePart.endsWith(suffix)) continue;\n          }\n          stack.push({\n            node: segment,\n            index: index + 1,\n            skipped,\n            depth: nextDepth,\n            statics,\n            dynamics,\n            optionals: optionals + 1,\n            extract,\n            rawParams,\n            parsedParams\n          });\n        }\n      }\n    }\n    if (!isBeyondPath && node.dynamic && part) {\n      for (let i = node.dynamic.length - 1; i >= 0; i--) {\n        const segment = node.dynamic[i];\n        const { prefix, suffix } = segment;\n        if (prefix || suffix) {\n          const casePart = segment.caseSensitive ? part : lowerPart ??= part.toLowerCase();\n          if (prefix && !casePart.startsWith(prefix)) continue;\n          if (suffix && !casePart.endsWith(suffix)) continue;\n        }\n        stack.push({\n          node: segment,\n          index: index + 1,\n          skipped,\n          depth: depth + 1,\n          statics,\n          dynamics: dynamics + 1,\n          optionals,\n          extract,\n          rawParams,\n          parsedParams\n        });\n      }\n    }\n    if (!isBeyondPath && node.staticInsensitive) {\n      const match = node.staticInsensitive.get(\n        lowerPart ??= part.toLowerCase()\n      );\n      if (match) {\n        stack.push({\n          node: match,\n          index: index + 1,\n          skipped,\n          depth: depth + 1,\n          statics: statics + 1,\n          dynamics,\n          optionals,\n          extract,\n          rawParams,\n          parsedParams\n        });\n      }\n    }\n    if (!isBeyondPath && node.static) {\n      const match = node.static.get(part);\n      if (match) {\n        stack.push({\n          node: match,\n          index: index + 1,\n          skipped,\n          depth: depth + 1,\n          statics: statics + 1,\n          dynamics,\n          optionals,\n          extract,\n          rawParams,\n          parsedParams\n        });\n      }\n    }\n    if (node.pathless) {\n      const nextDepth = depth + 1;\n      for (let i = node.pathless.length - 1; i >= 0; i--) {\n        const segment = node.pathless[i];\n        stack.push({\n          node: segment,\n          index,\n          skipped,\n          depth: nextDepth,\n          statics,\n          dynamics,\n          optionals,\n          extract,\n          rawParams,\n          parsedParams\n        });\n      }\n    }\n  }\n  if (bestMatch && wildcardMatch) {\n    return isFrameMoreSpecific(wildcardMatch, bestMatch) ? bestMatch : wildcardMatch;\n  }\n  if (bestMatch) return bestMatch;\n  if (wildcardMatch) return wildcardMatch;\n  if (fuzzy && bestFuzzy) {\n    let sliceIndex = bestFuzzy.index;\n    for (let i = 0; i < bestFuzzy.index; i++) {\n      sliceIndex += parts[i].length;\n    }\n    const splat = sliceIndex === path.length ? \"/\" : path.slice(sliceIndex);\n    bestFuzzy.rawParams ??= {};\n    bestFuzzy.rawParams[\"**\"] = decodeURIComponent(splat);\n    return bestFuzzy;\n  }\n  return null;\n}\nfunction validateMatchParams(path, parts, frame) {\n  try {\n    const [rawParams, state] = extractParams(path, parts, frame);\n    frame.rawParams = rawParams;\n    frame.extract = state;\n    const parsed = frame.node.parse(rawParams);\n    frame.parsedParams = Object.assign({}, frame.parsedParams, parsed);\n    return true;\n  } catch {\n    return null;\n  }\n}\nfunction isFrameMoreSpecific(prev, next) {\n  if (!prev) return true;\n  return next.statics > prev.statics || next.statics === prev.statics && (next.dynamics > prev.dynamics || next.dynamics === prev.dynamics && (next.optionals > prev.optionals || next.optionals === prev.optionals && ((next.node.kind === SEGMENT_TYPE_INDEX) > (prev.node.kind === SEGMENT_TYPE_INDEX) || next.node.kind === SEGMENT_TYPE_INDEX === (prev.node.kind === SEGMENT_TYPE_INDEX) && next.depth > prev.depth)));\n}\nexport {\n  SEGMENT_TYPE_OPTIONAL_PARAM,\n  SEGMENT_TYPE_PARAM,\n  SEGMENT_TYPE_PATHNAME,\n  SEGMENT_TYPE_WILDCARD,\n  findFlatMatch,\n  findRouteMatch,\n  findSingleMatch,\n  parseSegment,\n  processRouteMasks,\n  processRouteTree,\n  trimPathRight\n};\n//# sourceMappingURL=new-process-route-tree.js.map\n","import { last } from \"./utils.js\";\nimport { parseSegment, SEGMENT_TYPE_PATHNAME, SEGMENT_TYPE_WILDCARD, SEGMENT_TYPE_PARAM, SEGMENT_TYPE_OPTIONAL_PARAM } from \"./new-process-route-tree.js\";\nfunction joinPaths(paths) {\n  return cleanPath(\n    paths.filter((val) => {\n      return val !== void 0;\n    }).join(\"/\")\n  );\n}\nfunction cleanPath(path) {\n  return path.replace(/\\/{2,}/g, \"/\");\n}\nfunction trimPathLeft(path) {\n  return path === \"/\" ? path : path.replace(/^\\/{1,}/, \"\");\n}\nfunction trimPathRight(path) {\n  const len = path.length;\n  return len > 1 && path[len - 1] === \"/\" ? path.replace(/\\/{1,}$/, \"\") : path;\n}\nfunction trimPath(path) {\n  return trimPathRight(trimPathLeft(path));\n}\nfunction removeTrailingSlash(value, basepath) {\n  if (value?.endsWith(\"/\") && value !== \"/\" && value !== `${basepath}/`) {\n    return value.slice(0, -1);\n  }\n  return value;\n}\nfunction exactPathTest(pathName1, pathName2, basepath) {\n  return removeTrailingSlash(pathName1, basepath) === removeTrailingSlash(pathName2, basepath);\n}\nfunction resolvePath({\n  base,\n  to,\n  trailingSlash = \"never\",\n  cache\n}) {\n  const isAbsolute = to.startsWith(\"/\");\n  const isBase = !isAbsolute && to === \".\";\n  let key;\n  if (cache) {\n    key = isAbsolute ? to : isBase ? base : base + \"\\0\" + to;\n    const cached = cache.get(key);\n    if (cached) return cached;\n  }\n  let baseSegments;\n  if (isBase) {\n    baseSegments = base.split(\"/\");\n  } else if (isAbsolute) {\n    baseSegments = to.split(\"/\");\n  } else {\n    baseSegments = base.split(\"/\");\n    while (baseSegments.length > 1 && last(baseSegments) === \"\") {\n      baseSegments.pop();\n    }\n    const toSegments = to.split(\"/\");\n    for (let index = 0, length = toSegments.length; index < length; index++) {\n      const value = toSegments[index];\n      if (value === \"\") {\n        if (!index) {\n          baseSegments = [value];\n        } else if (index === length - 1) {\n          baseSegments.push(value);\n        } else ;\n      } else if (value === \"..\") {\n        baseSegments.pop();\n      } else if (value === \".\") ;\n      else {\n        baseSegments.push(value);\n      }\n    }\n  }\n  if (baseSegments.length > 1) {\n    if (last(baseSegments) === \"\") {\n      if (trailingSlash === \"never\") {\n        baseSegments.pop();\n      }\n    } else if (trailingSlash === \"always\") {\n      baseSegments.push(\"\");\n    }\n  }\n  let segment;\n  let joined = \"\";\n  for (let i = 0; i < baseSegments.length; i++) {\n    if (i > 0) joined += \"/\";\n    const part = baseSegments[i];\n    if (!part) continue;\n    segment = parseSegment(part, 0, segment);\n    const kind = segment[0];\n    if (kind === SEGMENT_TYPE_PATHNAME) {\n      joined += part;\n      continue;\n    }\n    const end = segment[5];\n    const prefix = part.substring(0, segment[1]);\n    const suffix = part.substring(segment[4], end);\n    const value = part.substring(segment[2], segment[3]);\n    if (kind === SEGMENT_TYPE_PARAM) {\n      joined += prefix || suffix ? `${prefix}{$${value}}${suffix}` : `$${value}`;\n    } else if (kind === SEGMENT_TYPE_WILDCARD) {\n      joined += prefix || suffix ? `${prefix}{$}${suffix}` : \"$\";\n    } else {\n      joined += `${prefix}{-$${value}}${suffix}`;\n    }\n  }\n  joined = cleanPath(joined);\n  const result = joined || \"/\";\n  if (key && cache) cache.set(key, result);\n  return result;\n}\nfunction encodeParam(key, params, decodeCharMap) {\n  const value = params[key];\n  if (typeof value !== \"string\") return value;\n  if (key === \"_splat\") {\n    return encodeURI(value);\n  } else {\n    return encodePathParam(value, decodeCharMap);\n  }\n}\nfunction interpolatePath({\n  path,\n  params,\n  decodeCharMap\n}) {\n  let isMissingParams = false;\n  const usedParams = {};\n  if (!path || path === \"/\")\n    return { interpolatedPath: \"/\", usedParams, isMissingParams };\n  if (!path.includes(\"$\"))\n    return { interpolatedPath: path, usedParams, isMissingParams };\n  const length = path.length;\n  let cursor = 0;\n  let segment;\n  let joined = \"\";\n  while (cursor < length) {\n    const start = cursor;\n    segment = parseSegment(path, start, segment);\n    const end = segment[5];\n    cursor = end + 1;\n    if (start === end) continue;\n    const kind = segment[0];\n    if (kind === SEGMENT_TYPE_PATHNAME) {\n      joined += \"/\" + path.substring(start, end);\n      continue;\n    }\n    if (kind === SEGMENT_TYPE_WILDCARD) {\n      const splat = params._splat;\n      usedParams._splat = splat;\n      usedParams[\"*\"] = splat;\n      const prefix = path.substring(start, segment[1]);\n      const suffix = path.substring(segment[4], end);\n      if (!splat) {\n        isMissingParams = true;\n        if (prefix || suffix) {\n          joined += \"/\" + prefix + suffix;\n        }\n        continue;\n      }\n      const value = encodeParam(\"_splat\", params, decodeCharMap);\n      joined += \"/\" + prefix + value + suffix;\n      continue;\n    }\n    if (kind === SEGMENT_TYPE_PARAM) {\n      const key = path.substring(segment[2], segment[3]);\n      if (!isMissingParams && !(key in params)) {\n        isMissingParams = true;\n      }\n      usedParams[key] = params[key];\n      const prefix = path.substring(start, segment[1]);\n      const suffix = path.substring(segment[4], end);\n      const value = encodeParam(key, params, decodeCharMap) ?? \"undefined\";\n      joined += \"/\" + prefix + value + suffix;\n      continue;\n    }\n    if (kind === SEGMENT_TYPE_OPTIONAL_PARAM) {\n      const key = path.substring(segment[2], segment[3]);\n      const valueRaw = params[key];\n      if (valueRaw == null) continue;\n      usedParams[key] = valueRaw;\n      const prefix = path.substring(start, segment[1]);\n      const suffix = path.substring(segment[4], end);\n      const value = encodeParam(key, params, decodeCharMap) ?? \"\";\n      joined += \"/\" + prefix + value + suffix;\n      continue;\n    }\n  }\n  if (path.endsWith(\"/\")) joined += \"/\";\n  const interpolatedPath = joined || \"/\";\n  return { usedParams, interpolatedPath, isMissingParams };\n}\nfunction encodePathParam(value, decodeCharMap) {\n  let encoded = encodeURIComponent(value);\n  if (decodeCharMap) {\n    for (const [encodedChar, char] of decodeCharMap) {\n      encoded = encoded.replaceAll(encodedChar, char);\n    }\n  }\n  return encoded;\n}\nexport {\n  cleanPath,\n  exactPathTest,\n  interpolatePath,\n  joinPaths,\n  removeTrailingSlash,\n  resolvePath,\n  trimPath,\n  trimPathLeft,\n  trimPathRight\n};\n//# sourceMappingURL=path.js.map\n","function notFound(options = {}) {\n  options.isNotFound = true;\n  if (options.throw) throw options;\n  return options;\n}\nfunction isNotFound(obj) {\n  return !!obj?.isNotFound;\n}\nexport {\n  isNotFound,\n  notFound\n};\n//# sourceMappingURL=not-found.js.map\n","import { functionalUpdate } from \"./utils.js\";\nfunction getSafeSessionStorage() {\n  try {\n    if (typeof window !== \"undefined\" && typeof window.sessionStorage === \"object\") {\n      return window.sessionStorage;\n    }\n  } catch {\n  }\n  return void 0;\n}\nconst storageKey = \"tsr-scroll-restoration-v1_3\";\nconst throttle = (fn, wait) => {\n  let timeout;\n  return (...args) => {\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        fn(...args);\n        timeout = null;\n      }, wait);\n    }\n  };\n};\nfunction createScrollRestorationCache() {\n  const safeSessionStorage = getSafeSessionStorage();\n  if (!safeSessionStorage) {\n    return null;\n  }\n  const persistedState = safeSessionStorage.getItem(storageKey);\n  let state = persistedState ? JSON.parse(persistedState) : {};\n  return {\n    state,\n    // This setter is simply to make sure that we set the sessionStorage right\n    // after the state is updated. It doesn't necessarily need to be a functional\n    // update.\n    set: (updater) => {\n      state = functionalUpdate(updater, state) || state;\n      try {\n        safeSessionStorage.setItem(storageKey, JSON.stringify(state));\n      } catch {\n        console.warn(\n          \"[ts-router] Could not persist scroll restoration state to sessionStorage.\"\n        );\n      }\n    }\n  };\n}\nconst scrollRestorationCache = createScrollRestorationCache();\nconst defaultGetScrollRestorationKey = (location) => {\n  return location.state.__TSR_key || location.href;\n};\nfunction getCssSelector(el) {\n  const path = [];\n  let parent;\n  while (parent = el.parentNode) {\n    path.push(\n      `${el.tagName}:nth-child(${Array.prototype.indexOf.call(parent.children, el) + 1})`\n    );\n    el = parent;\n  }\n  return `${path.reverse().join(\" > \")}`.toLowerCase();\n}\nlet ignoreScroll = false;\nfunction restoreScroll({\n  storageKey: storageKey2,\n  key,\n  behavior,\n  shouldScrollRestoration,\n  scrollToTopSelectors,\n  location\n}) {\n  let byKey;\n  try {\n    byKey = JSON.parse(sessionStorage.getItem(storageKey2) || \"{}\");\n  } catch (error) {\n    console.error(error);\n    return;\n  }\n  const resolvedKey = key || window.history.state?.__TSR_key;\n  const elementEntries = byKey[resolvedKey];\n  ignoreScroll = true;\n  scroll: {\n    if (shouldScrollRestoration && elementEntries && Object.keys(elementEntries).length > 0) {\n      for (const elementSelector in elementEntries) {\n        const entry = elementEntries[elementSelector];\n        if (elementSelector === \"window\") {\n          window.scrollTo({\n            top: entry.scrollY,\n            left: entry.scrollX,\n            behavior\n          });\n        } else if (elementSelector) {\n          const element = document.querySelector(elementSelector);\n          if (element) {\n            element.scrollLeft = entry.scrollX;\n            element.scrollTop = entry.scrollY;\n          }\n        }\n      }\n      break scroll;\n    }\n    const hash = (location ?? window.location).hash.split(\"#\", 2)[1];\n    if (hash) {\n      const hashScrollIntoViewOptions = window.history.state?.__hashScrollIntoViewOptions ?? true;\n      if (hashScrollIntoViewOptions) {\n        const el = document.getElementById(hash);\n        if (el) {\n          el.scrollIntoView(hashScrollIntoViewOptions);\n        }\n      }\n      break scroll;\n    }\n    const scrollOptions = { top: 0, left: 0, behavior };\n    window.scrollTo(scrollOptions);\n    if (scrollToTopSelectors) {\n      for (const selector of scrollToTopSelectors) {\n        if (selector === \"window\") continue;\n        const element = typeof selector === \"function\" ? selector() : document.querySelector(selector);\n        if (element) element.scrollTo(scrollOptions);\n      }\n    }\n  }\n  ignoreScroll = false;\n}\nfunction setupScrollRestoration(router, force) {\n  if (!scrollRestorationCache && !router.isServer) {\n    return;\n  }\n  const shouldScrollRestoration = force ?? router.options.scrollRestoration ?? false;\n  if (shouldScrollRestoration) {\n    router.isScrollRestoring = true;\n  }\n  if (router.isServer || router.isScrollRestorationSetup || !scrollRestorationCache) {\n    return;\n  }\n  router.isScrollRestorationSetup = true;\n  ignoreScroll = false;\n  const getKey = router.options.getScrollRestorationKey || defaultGetScrollRestorationKey;\n  window.history.scrollRestoration = \"manual\";\n  const onScroll = (event) => {\n    if (ignoreScroll || !router.isScrollRestoring) {\n      return;\n    }\n    let elementSelector = \"\";\n    if (event.target === document || event.target === window) {\n      elementSelector = \"window\";\n    } else {\n      const attrId = event.target.getAttribute(\n        \"data-scroll-restoration-id\"\n      );\n      if (attrId) {\n        elementSelector = `[data-scroll-restoration-id=\"${attrId}\"]`;\n      } else {\n        elementSelector = getCssSelector(event.target);\n      }\n    }\n    const restoreKey = getKey(router.state.location);\n    scrollRestorationCache.set((state) => {\n      const keyEntry = state[restoreKey] ||= {};\n      const elementEntry = keyEntry[elementSelector] ||= {};\n      if (elementSelector === \"window\") {\n        elementEntry.scrollX = window.scrollX || 0;\n        elementEntry.scrollY = window.scrollY || 0;\n      } else if (elementSelector) {\n        const element = document.querySelector(elementSelector);\n        if (element) {\n          elementEntry.scrollX = element.scrollLeft || 0;\n          elementEntry.scrollY = element.scrollTop || 0;\n        }\n      }\n      return state;\n    });\n  };\n  if (typeof document !== \"undefined\") {\n    document.addEventListener(\"scroll\", throttle(onScroll, 100), true);\n  }\n  router.subscribe(\"onRendered\", (event) => {\n    const cacheKey = getKey(event.toLocation);\n    if (!router.resetNextScroll) {\n      router.resetNextScroll = true;\n      return;\n    }\n    if (typeof router.options.scrollRestoration === \"function\") {\n      const shouldRestore = router.options.scrollRestoration({\n        location: router.latestLocation\n      });\n      if (!shouldRestore) {\n        return;\n      }\n    }\n    restoreScroll({\n      storageKey,\n      key: cacheKey,\n      behavior: router.options.scrollRestorationBehavior,\n      shouldScrollRestoration: router.isScrollRestoring,\n      scrollToTopSelectors: router.options.scrollToTopSelectors,\n      location: router.history.location\n    });\n    if (router.isScrollRestoring) {\n      scrollRestorationCache.set((state) => {\n        state[cacheKey] ||= {};\n        return state;\n      });\n    }\n  });\n}\nfunction handleHashScroll(router) {\n  if (typeof document !== \"undefined\" && document.querySelector) {\n    const hashScrollIntoViewOptions = router.state.location.state.__hashScrollIntoViewOptions ?? true;\n    if (hashScrollIntoViewOptions && router.state.location.hash !== \"\") {\n      const el = document.getElementById(router.state.location.hash);\n      if (el) {\n        el.scrollIntoView(hashScrollIntoViewOptions);\n      }\n    }\n  }\n}\nexport {\n  defaultGetScrollRestorationKey,\n  getCssSelector,\n  handleHashScroll,\n  restoreScroll,\n  scrollRestorationCache,\n  setupScrollRestoration,\n  storageKey\n};\n//# sourceMappingURL=scroll-restoration.js.map\n","function encode(obj, stringify = String) {\n  const result = new URLSearchParams();\n  for (const key in obj) {\n    const val = obj[key];\n    if (val !== void 0) {\n      result.set(key, stringify(val));\n    }\n  }\n  return result.toString();\n}\nfunction toValue(str) {\n  if (!str) return \"\";\n  if (str === \"false\") return false;\n  if (str === \"true\") return true;\n  return +str * 0 === 0 && +str + \"\" === str ? +str : str;\n}\nfunction decode(str) {\n  const searchParams = new URLSearchParams(str);\n  const result = {};\n  for (const [key, value] of searchParams.entries()) {\n    const previousValue = result[key];\n    if (previousValue == null) {\n      result[key] = toValue(value);\n    } else if (Array.isArray(previousValue)) {\n      previousValue.push(toValue(value));\n    } else {\n      result[key] = [previousValue, toValue(value)];\n    }\n  }\n  return result;\n}\nexport {\n  decode,\n  encode\n};\n//# sourceMappingURL=qss.js.map\n","import { decode, encode } from \"./qss.js\";\nconst defaultParseSearch = parseSearchWith(JSON.parse);\nconst defaultStringifySearch = stringifySearchWith(\n  JSON.stringify,\n  JSON.parse\n);\nfunction parseSearchWith(parser) {\n  return (searchStr) => {\n    if (searchStr[0] === \"?\") {\n      searchStr = searchStr.substring(1);\n    }\n    const query = decode(searchStr);\n    for (const key in query) {\n      const value = query[key];\n      if (typeof value === \"string\") {\n        try {\n          query[key] = parser(value);\n        } catch (_err) {\n        }\n      }\n    }\n    return query;\n  };\n}\nfunction stringifySearchWith(stringify, parser) {\n  const hasParser = typeof parser === \"function\";\n  function stringifyValue(val) {\n    if (typeof val === \"object\" && val !== null) {\n      try {\n        return stringify(val);\n      } catch (_err) {\n      }\n    } else if (hasParser && typeof val === \"string\") {\n      try {\n        parser(val);\n        return stringify(val);\n      } catch (_err) {\n      }\n    }\n    return val;\n  }\n  return (search) => {\n    const searchStr = encode(search, stringifyValue);\n    return searchStr ? `?${searchStr}` : \"\";\n  };\n}\nexport {\n  defaultParseSearch,\n  defaultStringifySearch,\n  parseSearchWith,\n  stringifySearchWith\n};\n//# sourceMappingURL=searchParams.js.map\n","const rootRouteId = \"__root__\";\nexport {\n  rootRouteId\n};\n//# sourceMappingURL=root.js.map\n","import { isDangerousProtocol, SAFE_URL_PROTOCOLS } from \"./utils.js\";\nfunction redirect(opts) {\n  opts.statusCode = opts.statusCode || opts.code || 307;\n  if (typeof opts.href === \"string\" && isDangerousProtocol(opts.href)) {\n    throw new Error(\n      `Redirect blocked: unsafe protocol in href \"${opts.href}\". Only ${SAFE_URL_PROTOCOLS.join(\", \")} protocols are allowed.`\n    );\n  }\n  if (!opts.reloadDocument && typeof opts.href === \"string\") {\n    try {\n      new URL(opts.href);\n      opts.reloadDocument = true;\n    } catch {\n    }\n  }\n  const headers = new Headers(opts.headers);\n  if (opts.href && headers.get(\"Location\") === null) {\n    headers.set(\"Location\", opts.href);\n  }\n  const response = new Response(null, {\n    status: opts.statusCode,\n    headers\n  });\n  response.options = opts;\n  if (opts.throw) {\n    throw response;\n  }\n  return response;\n}\nfunction isRedirect(obj) {\n  return obj instanceof Response && !!obj.options;\n}\nfunction isResolvedRedirect(obj) {\n  return isRedirect(obj) && !!obj.options.href;\n}\nfunction parseRedirect(obj) {\n  if (obj !== null && typeof obj === \"object\" && obj.isSerializedRedirect) {\n    return redirect(obj);\n  }\n  return void 0;\n}\nexport {\n  isRedirect,\n  isResolvedRedirect,\n  parseRedirect,\n  redirect\n};\n//# sourceMappingURL=redirect.js.map\n","import { batch } from \"@tanstack/store\";\nimport invariant from \"tiny-invariant\";\nimport { isPromise, createControlledPromise } from \"./utils.js\";\nimport { isNotFound } from \"./not-found.js\";\nimport { rootRouteId } from \"./root.js\";\nimport { isRedirect } from \"./redirect.js\";\nconst triggerOnReady = (inner) => {\n  if (!inner.rendered) {\n    inner.rendered = true;\n    return inner.onReady?.();\n  }\n};\nconst resolvePreload = (inner, matchId) => {\n  return !!(inner.preload && !inner.router.state.matches.some((d) => d.id === matchId));\n};\nconst buildMatchContext = (inner, index, includeCurrentMatch = true) => {\n  const context = {\n    ...inner.router.options.context ?? {}\n  };\n  const end = includeCurrentMatch ? index : index - 1;\n  for (let i = 0; i <= end; i++) {\n    const innerMatch = inner.matches[i];\n    if (!innerMatch) continue;\n    const m = inner.router.getMatch(innerMatch.id);\n    if (!m) continue;\n    Object.assign(context, m.__routeContext, m.__beforeLoadContext);\n  }\n  return context;\n};\nconst _handleNotFound = (inner, err) => {\n  const routeCursor = inner.router.routesById[err.routeId ?? \"\"] ?? inner.router.routeTree;\n  if (!routeCursor.options.notFoundComponent && inner.router.options?.defaultNotFoundComponent) {\n    routeCursor.options.notFoundComponent = inner.router.options.defaultNotFoundComponent;\n  }\n  invariant(\n    routeCursor.options.notFoundComponent,\n    \"No notFoundComponent found. Please set a notFoundComponent on your route or provide a defaultNotFoundComponent to the router.\"\n  );\n  const matchForRoute = inner.matches.find((m) => m.routeId === routeCursor.id);\n  invariant(matchForRoute, \"Could not find match for route: \" + routeCursor.id);\n  inner.updateMatch(matchForRoute.id, (prev) => ({\n    ...prev,\n    status: \"notFound\",\n    error: err,\n    isFetching: false\n  }));\n  if (err.routerCode === \"BEFORE_LOAD\" && routeCursor.parentRoute) {\n    err.routeId = routeCursor.parentRoute.id;\n    _handleNotFound(inner, err);\n  }\n};\nconst handleRedirectAndNotFound = (inner, match, err) => {\n  if (!isRedirect(err) && !isNotFound(err)) return;\n  if (isRedirect(err) && err.redirectHandled && !err.options.reloadDocument) {\n    throw err;\n  }\n  if (match) {\n    match._nonReactive.beforeLoadPromise?.resolve();\n    match._nonReactive.loaderPromise?.resolve();\n    match._nonReactive.beforeLoadPromise = void 0;\n    match._nonReactive.loaderPromise = void 0;\n    const status = isRedirect(err) ? \"redirected\" : \"notFound\";\n    match._nonReactive.error = err;\n    inner.updateMatch(match.id, (prev) => ({\n      ...prev,\n      status,\n      isFetching: false,\n      error: err\n    }));\n    if (isNotFound(err) && !err.routeId) {\n      err.routeId = match.routeId;\n    }\n    match._nonReactive.loadPromise?.resolve();\n  }\n  if (isRedirect(err)) {\n    inner.rendered = true;\n    err.options._fromLocation = inner.location;\n    err.redirectHandled = true;\n    err = inner.router.resolveRedirect(err);\n    throw err;\n  } else {\n    _handleNotFound(inner, err);\n    throw err;\n  }\n};\nconst shouldSkipLoader = (inner, matchId) => {\n  const match = inner.router.getMatch(matchId);\n  if (!inner.router.isServer && match._nonReactive.dehydrated) {\n    return true;\n  }\n  if (inner.router.isServer && match.ssr === false) {\n    return true;\n  }\n  return false;\n};\nconst handleSerialError = (inner, index, err, routerCode) => {\n  const { id: matchId, routeId } = inner.matches[index];\n  const route = inner.router.looseRoutesById[routeId];\n  if (err instanceof Promise) {\n    throw err;\n  }\n  err.routerCode = routerCode;\n  inner.firstBadMatchIndex ??= index;\n  handleRedirectAndNotFound(inner, inner.router.getMatch(matchId), err);\n  try {\n    route.options.onError?.(err);\n  } catch (errorHandlerErr) {\n    err = errorHandlerErr;\n    handleRedirectAndNotFound(inner, inner.router.getMatch(matchId), err);\n  }\n  inner.updateMatch(matchId, (prev) => {\n    prev._nonReactive.beforeLoadPromise?.resolve();\n    prev._nonReactive.beforeLoadPromise = void 0;\n    prev._nonReactive.loadPromise?.resolve();\n    return {\n      ...prev,\n      error: err,\n      status: \"error\",\n      isFetching: false,\n      updatedAt: Date.now(),\n      abortController: new AbortController()\n    };\n  });\n};\nconst isBeforeLoadSsr = (inner, matchId, index, route) => {\n  const existingMatch = inner.router.getMatch(matchId);\n  const parentMatchId = inner.matches[index - 1]?.id;\n  const parentMatch = parentMatchId ? inner.router.getMatch(parentMatchId) : void 0;\n  if (inner.router.isShell()) {\n    existingMatch.ssr = route.id === rootRouteId;\n    return;\n  }\n  if (parentMatch?.ssr === false) {\n    existingMatch.ssr = false;\n    return;\n  }\n  const parentOverride = (tempSsr2) => {\n    if (tempSsr2 === true && parentMatch?.ssr === \"data-only\") {\n      return \"data-only\";\n    }\n    return tempSsr2;\n  };\n  const defaultSsr = inner.router.options.defaultSsr ?? true;\n  if (route.options.ssr === void 0) {\n    existingMatch.ssr = parentOverride(defaultSsr);\n    return;\n  }\n  if (typeof route.options.ssr !== \"function\") {\n    existingMatch.ssr = parentOverride(route.options.ssr);\n    return;\n  }\n  const { search, params } = existingMatch;\n  const ssrFnContext = {\n    search: makeMaybe(search, existingMatch.searchError),\n    params: makeMaybe(params, existingMatch.paramsError),\n    location: inner.location,\n    matches: inner.matches.map((match) => ({\n      index: match.index,\n      pathname: match.pathname,\n      fullPath: match.fullPath,\n      staticData: match.staticData,\n      id: match.id,\n      routeId: match.routeId,\n      search: makeMaybe(match.search, match.searchError),\n      params: makeMaybe(match.params, match.paramsError),\n      ssr: match.ssr\n    }))\n  };\n  const tempSsr = route.options.ssr(ssrFnContext);\n  if (isPromise(tempSsr)) {\n    return tempSsr.then((ssr) => {\n      existingMatch.ssr = parentOverride(ssr ?? defaultSsr);\n    });\n  }\n  existingMatch.ssr = parentOverride(tempSsr ?? defaultSsr);\n  return;\n};\nconst setupPendingTimeout = (inner, matchId, route, match) => {\n  if (match._nonReactive.pendingTimeout !== void 0) return;\n  const pendingMs = route.options.pendingMs ?? inner.router.options.defaultPendingMs;\n  const shouldPending = !!(inner.onReady && !inner.router.isServer && !resolvePreload(inner, matchId) && (route.options.loader || route.options.beforeLoad || routeNeedsPreload(route)) && typeof pendingMs === \"number\" && pendingMs !== Infinity && (route.options.pendingComponent ?? inner.router.options?.defaultPendingComponent));\n  if (shouldPending) {\n    const pendingTimeout = setTimeout(() => {\n      triggerOnReady(inner);\n    }, pendingMs);\n    match._nonReactive.pendingTimeout = pendingTimeout;\n  }\n};\nconst preBeforeLoadSetup = (inner, matchId, route) => {\n  const existingMatch = inner.router.getMatch(matchId);\n  if (!existingMatch._nonReactive.beforeLoadPromise && !existingMatch._nonReactive.loaderPromise)\n    return;\n  setupPendingTimeout(inner, matchId, route, existingMatch);\n  const then = () => {\n    const match = inner.router.getMatch(matchId);\n    if (match.preload && (match.status === \"redirected\" || match.status === \"notFound\")) {\n      handleRedirectAndNotFound(inner, match, match.error);\n    }\n  };\n  return existingMatch._nonReactive.beforeLoadPromise ? existingMatch._nonReactive.beforeLoadPromise.then(then) : then();\n};\nconst executeBeforeLoad = (inner, matchId, index, route) => {\n  const match = inner.router.getMatch(matchId);\n  const prevLoadPromise = match._nonReactive.loadPromise;\n  match._nonReactive.loadPromise = createControlledPromise(() => {\n    prevLoadPromise?.resolve();\n  });\n  const { paramsError, searchError } = match;\n  if (paramsError) {\n    handleSerialError(inner, index, paramsError, \"PARSE_PARAMS\");\n  }\n  if (searchError) {\n    handleSerialError(inner, index, searchError, \"VALIDATE_SEARCH\");\n  }\n  setupPendingTimeout(inner, matchId, route, match);\n  const abortController = new AbortController();\n  const parentMatchId = inner.matches[index - 1]?.id;\n  const parentMatch = parentMatchId ? inner.router.getMatch(parentMatchId) : void 0;\n  parentMatch?.context ?? inner.router.options.context ?? void 0;\n  let isPending = false;\n  const pending = () => {\n    if (isPending) return;\n    isPending = true;\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      isFetching: \"beforeLoad\",\n      fetchCount: prev.fetchCount + 1,\n      abortController\n      // Note: We intentionally don't update context here.\n      // Context should only be updated after beforeLoad resolves to avoid\n      // components seeing incomplete context during async beforeLoad execution.\n    }));\n  };\n  const resolve = () => {\n    match._nonReactive.beforeLoadPromise?.resolve();\n    match._nonReactive.beforeLoadPromise = void 0;\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      isFetching: false\n    }));\n  };\n  if (!route.options.beforeLoad) {\n    batch(() => {\n      pending();\n      resolve();\n    });\n    return;\n  }\n  match._nonReactive.beforeLoadPromise = createControlledPromise();\n  const context = {\n    ...buildMatchContext(inner, index, false),\n    ...match.__routeContext\n  };\n  const { search, params, cause } = match;\n  const preload = resolvePreload(inner, matchId);\n  const beforeLoadFnContext = {\n    search,\n    abortController,\n    params,\n    preload,\n    context,\n    location: inner.location,\n    navigate: (opts) => inner.router.navigate({\n      ...opts,\n      _fromLocation: inner.location\n    }),\n    buildLocation: inner.router.buildLocation,\n    cause: preload ? \"preload\" : cause,\n    matches: inner.matches,\n    ...inner.router.options.additionalContext\n  };\n  const updateContext = (beforeLoadContext2) => {\n    if (beforeLoadContext2 === void 0) {\n      batch(() => {\n        pending();\n        resolve();\n      });\n      return;\n    }\n    if (isRedirect(beforeLoadContext2) || isNotFound(beforeLoadContext2)) {\n      pending();\n      handleSerialError(inner, index, beforeLoadContext2, \"BEFORE_LOAD\");\n    }\n    batch(() => {\n      pending();\n      inner.updateMatch(matchId, (prev) => ({\n        ...prev,\n        __beforeLoadContext: beforeLoadContext2\n      }));\n      resolve();\n    });\n  };\n  let beforeLoadContext;\n  try {\n    beforeLoadContext = route.options.beforeLoad(beforeLoadFnContext);\n    if (isPromise(beforeLoadContext)) {\n      pending();\n      return beforeLoadContext.catch((err) => {\n        handleSerialError(inner, index, err, \"BEFORE_LOAD\");\n      }).then(updateContext);\n    }\n  } catch (err) {\n    pending();\n    handleSerialError(inner, index, err, \"BEFORE_LOAD\");\n  }\n  updateContext(beforeLoadContext);\n  return;\n};\nconst handleBeforeLoad = (inner, index) => {\n  const { id: matchId, routeId } = inner.matches[index];\n  const route = inner.router.looseRoutesById[routeId];\n  const serverSsr = () => {\n    if (inner.router.isServer) {\n      const maybePromise = isBeforeLoadSsr(inner, matchId, index, route);\n      if (isPromise(maybePromise)) return maybePromise.then(queueExecution);\n    }\n    return queueExecution();\n  };\n  const execute = () => executeBeforeLoad(inner, matchId, index, route);\n  const queueExecution = () => {\n    if (shouldSkipLoader(inner, matchId)) return;\n    const result = preBeforeLoadSetup(inner, matchId, route);\n    return isPromise(result) ? result.then(execute) : execute();\n  };\n  return serverSsr();\n};\nconst executeHead = (inner, matchId, route) => {\n  const match = inner.router.getMatch(matchId);\n  if (!match) {\n    return;\n  }\n  if (!route.options.head && !route.options.scripts && !route.options.headers) {\n    return;\n  }\n  const assetContext = {\n    matches: inner.matches,\n    match,\n    params: match.params,\n    loaderData: match.loaderData\n  };\n  return Promise.all([\n    route.options.head?.(assetContext),\n    route.options.scripts?.(assetContext),\n    route.options.headers?.(assetContext)\n  ]).then(([headFnContent, scripts, headers]) => {\n    const meta = headFnContent?.meta;\n    const links = headFnContent?.links;\n    const headScripts = headFnContent?.scripts;\n    const styles = headFnContent?.styles;\n    return {\n      meta,\n      links,\n      headScripts,\n      headers,\n      scripts,\n      styles\n    };\n  });\n};\nconst getLoaderContext = (inner, matchId, index, route) => {\n  const parentMatchPromise = inner.matchPromises[index - 1];\n  const { params, loaderDeps, abortController, cause } = inner.router.getMatch(matchId);\n  const context = buildMatchContext(inner, index);\n  const preload = resolvePreload(inner, matchId);\n  return {\n    params,\n    deps: loaderDeps,\n    preload: !!preload,\n    parentMatchPromise,\n    abortController,\n    context,\n    location: inner.location,\n    navigate: (opts) => inner.router.navigate({\n      ...opts,\n      _fromLocation: inner.location\n    }),\n    cause: preload ? \"preload\" : cause,\n    route,\n    ...inner.router.options.additionalContext\n  };\n};\nconst runLoader = async (inner, matchId, index, route) => {\n  try {\n    const match = inner.router.getMatch(matchId);\n    try {\n      if (!inner.router.isServer || match.ssr === true) {\n        loadRouteChunk(route);\n      }\n      const loaderResult = route.options.loader?.(\n        getLoaderContext(inner, matchId, index, route)\n      );\n      const loaderResultIsPromise = route.options.loader && isPromise(loaderResult);\n      const willLoadSomething = !!(loaderResultIsPromise || route._lazyPromise || route._componentsPromise || route.options.head || route.options.scripts || route.options.headers || match._nonReactive.minPendingPromise);\n      if (willLoadSomething) {\n        inner.updateMatch(matchId, (prev) => ({\n          ...prev,\n          isFetching: \"loader\"\n        }));\n      }\n      if (route.options.loader) {\n        const loaderData = loaderResultIsPromise ? await loaderResult : loaderResult;\n        handleRedirectAndNotFound(\n          inner,\n          inner.router.getMatch(matchId),\n          loaderData\n        );\n        if (loaderData !== void 0) {\n          inner.updateMatch(matchId, (prev) => ({\n            ...prev,\n            loaderData\n          }));\n        }\n      }\n      if (route._lazyPromise) await route._lazyPromise;\n      const pendingPromise = match._nonReactive.minPendingPromise;\n      if (pendingPromise) await pendingPromise;\n      if (route._componentsPromise) await route._componentsPromise;\n      inner.updateMatch(matchId, (prev) => ({\n        ...prev,\n        error: void 0,\n        status: \"success\",\n        isFetching: false,\n        updatedAt: Date.now()\n      }));\n    } catch (e) {\n      let error = e;\n      if (error?.name === \"AbortError\") {\n        inner.updateMatch(matchId, (prev) => ({\n          ...prev,\n          status: prev.status === \"pending\" ? \"success\" : prev.status,\n          isFetching: false\n        }));\n        return;\n      }\n      const pendingPromise = match._nonReactive.minPendingPromise;\n      if (pendingPromise) await pendingPromise;\n      if (isNotFound(e)) {\n        await route.options.notFoundComponent?.preload?.();\n      }\n      handleRedirectAndNotFound(inner, inner.router.getMatch(matchId), e);\n      try {\n        route.options.onError?.(e);\n      } catch (onErrorError) {\n        error = onErrorError;\n        handleRedirectAndNotFound(\n          inner,\n          inner.router.getMatch(matchId),\n          onErrorError\n        );\n      }\n      inner.updateMatch(matchId, (prev) => ({\n        ...prev,\n        error,\n        status: \"error\",\n        isFetching: false\n      }));\n    }\n  } catch (err) {\n    const match = inner.router.getMatch(matchId);\n    if (match) {\n      match._nonReactive.loaderPromise = void 0;\n    }\n    handleRedirectAndNotFound(inner, match, err);\n  }\n};\nconst loadRouteMatch = async (inner, index) => {\n  const { id: matchId, routeId } = inner.matches[index];\n  let loaderShouldRunAsync = false;\n  let loaderIsRunningAsync = false;\n  const route = inner.router.looseRoutesById[routeId];\n  const commitContext = () => {\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      context: buildMatchContext(inner, index)\n    }));\n  };\n  if (shouldSkipLoader(inner, matchId)) {\n    if (inner.router.isServer) {\n      return inner.router.getMatch(matchId);\n    }\n  } else {\n    const prevMatch = inner.router.getMatch(matchId);\n    if (prevMatch._nonReactive.loaderPromise) {\n      if (prevMatch.status === \"success\" && !inner.sync && !prevMatch.preload) {\n        return prevMatch;\n      }\n      await prevMatch._nonReactive.loaderPromise;\n      const match2 = inner.router.getMatch(matchId);\n      const error = match2._nonReactive.error || match2.error;\n      if (error) {\n        handleRedirectAndNotFound(inner, match2, error);\n      }\n    } else {\n      const age = Date.now() - prevMatch.updatedAt;\n      const preload = resolvePreload(inner, matchId);\n      const staleAge = preload ? route.options.preloadStaleTime ?? inner.router.options.defaultPreloadStaleTime ?? 3e4 : route.options.staleTime ?? inner.router.options.defaultStaleTime ?? 0;\n      const shouldReloadOption = route.options.shouldReload;\n      const shouldReload = typeof shouldReloadOption === \"function\" ? shouldReloadOption(getLoaderContext(inner, matchId, index, route)) : shouldReloadOption;\n      const nextPreload = !!preload && !inner.router.state.matches.some((d) => d.id === matchId);\n      const match2 = inner.router.getMatch(matchId);\n      match2._nonReactive.loaderPromise = createControlledPromise();\n      if (nextPreload !== match2.preload) {\n        inner.updateMatch(matchId, (prev) => ({\n          ...prev,\n          preload: nextPreload\n        }));\n      }\n      const { status, invalid } = match2;\n      loaderShouldRunAsync = status === \"success\" && (invalid || (shouldReload ?? age > staleAge));\n      if (preload && route.options.preload === false) ;\n      else if (loaderShouldRunAsync && !inner.sync) {\n        loaderIsRunningAsync = true;\n        (async () => {\n          try {\n            await runLoader(inner, matchId, index, route);\n            commitContext();\n            const match3 = inner.router.getMatch(matchId);\n            match3._nonReactive.loaderPromise?.resolve();\n            match3._nonReactive.loadPromise?.resolve();\n            match3._nonReactive.loaderPromise = void 0;\n          } catch (err) {\n            if (isRedirect(err)) {\n              await inner.router.navigate(err.options);\n            }\n          }\n        })();\n      } else if (status !== \"success\" || loaderShouldRunAsync && inner.sync) {\n        await runLoader(inner, matchId, index, route);\n      }\n    }\n  }\n  const match = inner.router.getMatch(matchId);\n  if (!loaderIsRunningAsync) {\n    match._nonReactive.loaderPromise?.resolve();\n    match._nonReactive.loadPromise?.resolve();\n  }\n  clearTimeout(match._nonReactive.pendingTimeout);\n  match._nonReactive.pendingTimeout = void 0;\n  if (!loaderIsRunningAsync) match._nonReactive.loaderPromise = void 0;\n  match._nonReactive.dehydrated = void 0;\n  if (!loaderIsRunningAsync) {\n    commitContext();\n  }\n  const nextIsFetching = loaderIsRunningAsync ? match.isFetching : false;\n  if (nextIsFetching !== match.isFetching || match.invalid !== false) {\n    inner.updateMatch(matchId, (prev) => ({\n      ...prev,\n      isFetching: nextIsFetching,\n      invalid: false\n    }));\n    return inner.router.getMatch(matchId);\n  } else {\n    return match;\n  }\n};\nasync function loadMatches(arg) {\n  const inner = Object.assign(arg, {\n    matchPromises: []\n  });\n  if (!inner.router.isServer && inner.router.state.matches.some((d) => d._forcePending)) {\n    triggerOnReady(inner);\n  }\n  try {\n    for (let i = 0; i < inner.matches.length; i++) {\n      const beforeLoad = handleBeforeLoad(inner, i);\n      if (isPromise(beforeLoad)) await beforeLoad;\n    }\n    const max = inner.firstBadMatchIndex ?? inner.matches.length;\n    for (let i = 0; i < max; i++) {\n      inner.matchPromises.push(loadRouteMatch(inner, i));\n    }\n    const results = await Promise.allSettled(inner.matchPromises);\n    const failures = results.filter(\n      (result) => result.status === \"rejected\"\n    ).map((result) => result.reason);\n    let firstNotFound;\n    for (const err of failures) {\n      if (isRedirect(err)) {\n        throw err;\n      }\n      if (!firstNotFound && isNotFound(err)) {\n        firstNotFound = err;\n      }\n    }\n    for (const match of inner.matches) {\n      const { id: matchId, routeId } = match;\n      const route = inner.router.looseRoutesById[routeId];\n      try {\n        const headResult = executeHead(inner, matchId, route);\n        if (headResult) {\n          const head = await headResult;\n          inner.updateMatch(matchId, (prev) => ({\n            ...prev,\n            ...head\n          }));\n        }\n      } catch (err) {\n        console.error(`Error executing head for route ${routeId}:`, err);\n      }\n    }\n    if (firstNotFound) {\n      throw firstNotFound;\n    }\n    const readyPromise = triggerOnReady(inner);\n    if (isPromise(readyPromise)) await readyPromise;\n  } catch (err) {\n    if (isNotFound(err) && !inner.preload) {\n      const readyPromise = triggerOnReady(inner);\n      if (isPromise(readyPromise)) await readyPromise;\n      throw err;\n    }\n    if (isRedirect(err)) {\n      throw err;\n    }\n  }\n  return inner.matches;\n}\nasync function loadRouteChunk(route) {\n  if (!route._lazyLoaded && route._lazyPromise === void 0) {\n    if (route.lazyFn) {\n      route._lazyPromise = route.lazyFn().then((lazyRoute) => {\n        const { id: _id, ...options } = lazyRoute.options;\n        Object.assign(route.options, options);\n        route._lazyLoaded = true;\n        route._lazyPromise = void 0;\n      });\n    } else {\n      route._lazyLoaded = true;\n    }\n  }\n  if (!route._componentsLoaded && route._componentsPromise === void 0) {\n    const loadComponents = () => {\n      const preloads = [];\n      for (const type of componentTypes) {\n        const preload = route.options[type]?.preload;\n        if (preload) preloads.push(preload());\n      }\n      if (preloads.length)\n        return Promise.all(preloads).then(() => {\n          route._componentsLoaded = true;\n          route._componentsPromise = void 0;\n        });\n      route._componentsLoaded = true;\n      route._componentsPromise = void 0;\n      return;\n    };\n    route._componentsPromise = route._lazyPromise ? route._lazyPromise.then(loadComponents) : loadComponents();\n  }\n  return route._componentsPromise;\n}\nfunction makeMaybe(value, error) {\n  if (error) {\n    return { status: \"error\", error };\n  }\n  return { status: \"success\", value };\n}\nfunction routeNeedsPreload(route) {\n  for (const componentType of componentTypes) {\n    if (route.options[componentType]?.preload) {\n      return true;\n    }\n  }\n  return false;\n}\nconst componentTypes = [\n  \"component\",\n  \"errorComponent\",\n  \"pendingComponent\",\n  \"notFoundComponent\"\n];\nexport {\n  componentTypes,\n  loadMatches,\n  loadRouteChunk,\n  routeNeedsPreload\n};\n//# sourceMappingURL=load-matches.js.map\n","import { trimPath, joinPaths } from \"./path.js\";\nfunction composeRewrites(rewrites) {\n  return {\n    input: ({ url }) => {\n      for (const rewrite of rewrites) {\n        url = executeRewriteInput(rewrite, url);\n      }\n      return url;\n    },\n    output: ({ url }) => {\n      for (let i = rewrites.length - 1; i >= 0; i--) {\n        url = executeRewriteOutput(rewrites[i], url);\n      }\n      return url;\n    }\n  };\n}\nfunction rewriteBasepath(opts) {\n  const trimmedBasepath = trimPath(opts.basepath);\n  const normalizedBasepath = `/${trimmedBasepath}`;\n  const normalizedBasepathWithSlash = `${normalizedBasepath}/`;\n  const checkBasepath = opts.caseSensitive ? normalizedBasepath : normalizedBasepath.toLowerCase();\n  const checkBasepathWithSlash = opts.caseSensitive ? normalizedBasepathWithSlash : normalizedBasepathWithSlash.toLowerCase();\n  return {\n    input: ({ url }) => {\n      const pathname = opts.caseSensitive ? url.pathname : url.pathname.toLowerCase();\n      if (pathname === checkBasepath) {\n        url.pathname = \"/\";\n      } else if (pathname.startsWith(checkBasepathWithSlash)) {\n        url.pathname = url.pathname.slice(normalizedBasepath.length);\n      }\n      return url;\n    },\n    output: ({ url }) => {\n      url.pathname = joinPaths([\"/\", trimmedBasepath, url.pathname]);\n      return url;\n    }\n  };\n}\nfunction executeRewriteInput(rewrite, url) {\n  const res = rewrite?.input?.({ url });\n  if (res) {\n    if (typeof res === \"string\") {\n      return new URL(res);\n    } else if (res instanceof URL) {\n      return res;\n    }\n  }\n  return url;\n}\nfunction executeRewriteOutput(rewrite, url) {\n  const res = rewrite?.output?.({ url });\n  if (res) {\n    if (typeof res === \"string\") {\n      return new URL(res);\n    } else if (res instanceof URL) {\n      return res;\n    }\n  }\n  return url;\n}\nexport {\n  composeRewrites,\n  executeRewriteInput,\n  executeRewriteOutput,\n  rewriteBasepath\n};\n//# sourceMappingURL=rewrite.js.map\n","import { Store, batch } from \"@tanstack/store\";\nimport { createBrowserHistory, parseHref } from \"@tanstack/history\";\nimport { createControlledPromise, isDangerousProtocol, deepEqual, replaceEqualDeep, decodePath, functionalUpdate, last, findLast } from \"./utils.js\";\nimport { processRouteTree, processRouteMasks, findSingleMatch, findRouteMatch, findFlatMatch } from \"./new-process-route-tree.js\";\nimport { trimPath, resolvePath, cleanPath, trimPathRight, interpolatePath } from \"./path.js\";\nimport { createLRUCache } from \"./lru-cache.js\";\nimport { isNotFound } from \"./not-found.js\";\nimport { setupScrollRestoration } from \"./scroll-restoration.js\";\nimport { defaultParseSearch, defaultStringifySearch } from \"./searchParams.js\";\nimport { rootRouteId } from \"./root.js\";\nimport { redirect, isRedirect } from \"./redirect.js\";\nimport { loadMatches, loadRouteChunk, routeNeedsPreload } from \"./load-matches.js\";\nimport { rewriteBasepath, composeRewrites, executeRewriteInput, executeRewriteOutput } from \"./rewrite.js\";\nfunction defaultSerializeError(err) {\n  if (err instanceof Error) {\n    const obj = {\n      name: err.name,\n      message: err.message\n    };\n    if (process.env.NODE_ENV === \"development\") {\n      obj.stack = err.stack;\n    }\n    return obj;\n  }\n  return {\n    data: err\n  };\n}\nconst trailingSlashOptions = {\n  always: \"always\",\n  never: \"never\",\n  preserve: \"preserve\"\n};\nfunction getLocationChangeInfo(routerState) {\n  const fromLocation = routerState.resolvedLocation;\n  const toLocation = routerState.location;\n  const pathChanged = fromLocation?.pathname !== toLocation.pathname;\n  const hrefChanged = fromLocation?.href !== toLocation.href;\n  const hashChanged = fromLocation?.hash !== toLocation.hash;\n  return { fromLocation, toLocation, pathChanged, hrefChanged, hashChanged };\n}\nclass RouterCore {\n  /**\n   * @deprecated Use the `createRouter` function instead\n   */\n  constructor(options) {\n    this.tempLocationKey = `${Math.round(\n      Math.random() * 1e7\n    )}`;\n    this.resetNextScroll = true;\n    this.shouldViewTransition = void 0;\n    this.isViewTransitionTypesSupported = void 0;\n    this.subscribers = /* @__PURE__ */ new Set();\n    this.isScrollRestoring = false;\n    this.isScrollRestorationSetup = false;\n    this.startTransition = (fn) => fn();\n    this.update = (newOptions) => {\n      if (newOptions.notFoundRoute) {\n        console.warn(\n          \"The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.\"\n        );\n      }\n      const prevOptions = this.options;\n      const prevBasepath = this.basepath ?? prevOptions?.basepath ?? \"/\";\n      const basepathWasUnset = this.basepath === void 0;\n      const prevRewriteOption = prevOptions?.rewrite;\n      this.options = {\n        ...prevOptions,\n        ...newOptions\n      };\n      this.isServer = this.options.isServer ?? typeof document === \"undefined\";\n      this.pathParamsDecodeCharMap = this.options.pathParamsAllowedCharacters ? new Map(\n        this.options.pathParamsAllowedCharacters.map((char) => [\n          encodeURIComponent(char),\n          char\n        ])\n      ) : void 0;\n      if (!this.history || this.options.history && this.options.history !== this.history) {\n        if (!this.options.history) {\n          if (!this.isServer) {\n            this.history = createBrowserHistory();\n          }\n        } else {\n          this.history = this.options.history;\n        }\n      }\n      this.origin = this.options.origin;\n      if (!this.origin) {\n        if (!this.isServer && window?.origin && window.origin !== \"null\") {\n          this.origin = window.origin;\n        } else {\n          this.origin = \"http://localhost\";\n        }\n      }\n      if (this.history) {\n        this.updateLatestLocation();\n      }\n      if (this.options.routeTree !== this.routeTree) {\n        this.routeTree = this.options.routeTree;\n        this.buildRouteTree();\n      }\n      if (!this.__store && this.latestLocation) {\n        this.__store = new Store(getInitialRouterState(this.latestLocation), {\n          onUpdate: () => {\n            this.__store.state = {\n              ...this.state,\n              cachedMatches: this.state.cachedMatches.filter(\n                (d) => ![\"redirected\"].includes(d.status)\n              )\n            };\n          }\n        });\n        setupScrollRestoration(this);\n      }\n      let needsLocationUpdate = false;\n      const nextBasepath = this.options.basepath ?? \"/\";\n      const nextRewriteOption = this.options.rewrite;\n      const basepathChanged = basepathWasUnset || prevBasepath !== nextBasepath;\n      const rewriteChanged = prevRewriteOption !== nextRewriteOption;\n      if (basepathChanged || rewriteChanged) {\n        this.basepath = nextBasepath;\n        const rewrites = [];\n        if (trimPath(nextBasepath) !== \"\") {\n          rewrites.push(\n            rewriteBasepath({\n              basepath: nextBasepath\n            })\n          );\n        }\n        if (nextRewriteOption) {\n          rewrites.push(nextRewriteOption);\n        }\n        this.rewrite = rewrites.length === 0 ? void 0 : rewrites.length === 1 ? rewrites[0] : composeRewrites(rewrites);\n        if (this.history) {\n          this.updateLatestLocation();\n        }\n        needsLocationUpdate = true;\n      }\n      if (needsLocationUpdate && this.__store) {\n        this.__store.state = {\n          ...this.state,\n          location: this.latestLocation\n        };\n      }\n      if (typeof window !== \"undefined\" && \"CSS\" in window && typeof window.CSS?.supports === \"function\") {\n        this.isViewTransitionTypesSupported = window.CSS.supports(\n          \"selector(:active-view-transition-type(a)\"\n        );\n      }\n    };\n    this.updateLatestLocation = () => {\n      this.latestLocation = this.parseLocation(\n        this.history.location,\n        this.latestLocation\n      );\n    };\n    this.buildRouteTree = () => {\n      const { routesById, routesByPath, processedTree } = processRouteTree(\n        this.routeTree,\n        this.options.caseSensitive,\n        (route, i) => {\n          route.init({\n            originalIndex: i\n          });\n        }\n      );\n      if (this.options.routeMasks) {\n        processRouteMasks(this.options.routeMasks, processedTree);\n      }\n      this.routesById = routesById;\n      this.routesByPath = routesByPath;\n      this.processedTree = processedTree;\n      const notFoundRoute = this.options.notFoundRoute;\n      if (notFoundRoute) {\n        notFoundRoute.init({\n          originalIndex: 99999999999\n        });\n        this.routesById[notFoundRoute.id] = notFoundRoute;\n      }\n    };\n    this.subscribe = (eventType, fn) => {\n      const listener = {\n        eventType,\n        fn\n      };\n      this.subscribers.add(listener);\n      return () => {\n        this.subscribers.delete(listener);\n      };\n    };\n    this.emit = (routerEvent) => {\n      this.subscribers.forEach((listener) => {\n        if (listener.eventType === routerEvent.type) {\n          listener.fn(routerEvent);\n        }\n      });\n    };\n    this.parseLocation = (locationToParse, previousLocation) => {\n      const parse = ({\n        href,\n        state\n      }) => {\n        const fullUrl = new URL(href, this.origin);\n        const url = executeRewriteInput(this.rewrite, fullUrl);\n        const parsedSearch = this.options.parseSearch(url.search);\n        const searchStr = this.options.stringifySearch(parsedSearch);\n        url.search = searchStr;\n        const fullPath = url.href.replace(url.origin, \"\");\n        return {\n          href: fullPath,\n          publicHref: href,\n          url,\n          pathname: decodePath(url.pathname),\n          searchStr,\n          search: replaceEqualDeep(previousLocation?.search, parsedSearch),\n          hash: url.hash.split(\"#\").reverse()[0] ?? \"\",\n          state: replaceEqualDeep(previousLocation?.state, state)\n        };\n      };\n      const location = parse(locationToParse);\n      const { __tempLocation, __tempKey } = location.state;\n      if (__tempLocation && (!__tempKey || __tempKey === this.tempLocationKey)) {\n        const parsedTempLocation = parse(__tempLocation);\n        parsedTempLocation.state.key = location.state.key;\n        parsedTempLocation.state.__TSR_key = location.state.__TSR_key;\n        delete parsedTempLocation.state.__tempLocation;\n        return {\n          ...parsedTempLocation,\n          maskedLocation: location\n        };\n      }\n      return location;\n    };\n    this.resolvePathCache = createLRUCache(1e3);\n    this.resolvePathWithBase = (from, path) => {\n      const resolvedPath = resolvePath({\n        base: from,\n        to: cleanPath(path),\n        trailingSlash: this.options.trailingSlash,\n        cache: this.resolvePathCache\n      });\n      return resolvedPath;\n    };\n    this.matchRoutes = (pathnameOrNext, locationSearchOrOpts, opts) => {\n      if (typeof pathnameOrNext === \"string\") {\n        return this.matchRoutesInternal(\n          {\n            pathname: pathnameOrNext,\n            search: locationSearchOrOpts\n          },\n          opts\n        );\n      }\n      return this.matchRoutesInternal(pathnameOrNext, locationSearchOrOpts);\n    };\n    this.getMatchedRoutes = (pathname) => {\n      return getMatchedRoutes({\n        pathname,\n        routesById: this.routesById,\n        processedTree: this.processedTree\n      });\n    };\n    this.cancelMatch = (id) => {\n      const match = this.getMatch(id);\n      if (!match) return;\n      match.abortController.abort();\n      clearTimeout(match._nonReactive.pendingTimeout);\n      match._nonReactive.pendingTimeout = void 0;\n    };\n    this.cancelMatches = () => {\n      const currentPendingMatches = this.state.matches.filter(\n        (match) => match.status === \"pending\"\n      );\n      const currentLoadingMatches = this.state.matches.filter(\n        (match) => match.isFetching === \"loader\"\n      );\n      const matchesToCancelArray = /* @__PURE__ */ new Set([\n        ...this.state.pendingMatches ?? [],\n        ...currentPendingMatches,\n        ...currentLoadingMatches\n      ]);\n      matchesToCancelArray.forEach((match) => {\n        this.cancelMatch(match.id);\n      });\n    };\n    this.buildLocation = (opts) => {\n      const build = (dest = {}) => {\n        const currentLocation = dest._fromLocation || this.pendingBuiltLocation || this.latestLocation;\n        const allCurrentLocationMatches = this.matchRoutes(currentLocation, {\n          _buildLocation: true\n        });\n        const lastMatch = last(allCurrentLocationMatches);\n        if (dest.from && process.env.NODE_ENV !== \"production\" && dest._isNavigate) {\n          const allFromMatches = this.getMatchedRoutes(dest.from).matchedRoutes;\n          const matchedFrom = findLast(allCurrentLocationMatches, (d) => {\n            return comparePaths(d.fullPath, dest.from);\n          });\n          const matchedCurrent = findLast(allFromMatches, (d) => {\n            return comparePaths(d.fullPath, lastMatch.fullPath);\n          });\n          if (!matchedFrom && !matchedCurrent) {\n            console.warn(`Could not find match for from: ${dest.from}`);\n          }\n        }\n        const defaultedFromPath = dest.unsafeRelative === \"path\" ? currentLocation.pathname : dest.from ?? lastMatch.fullPath;\n        const fromPath = this.resolvePathWithBase(defaultedFromPath, \".\");\n        const fromSearch = lastMatch.search;\n        const fromParams = { ...lastMatch.params };\n        const nextTo = dest.to ? this.resolvePathWithBase(fromPath, `${dest.to}`) : this.resolvePathWithBase(fromPath, \".\");\n        const nextParams = dest.params === false || dest.params === null ? {} : (dest.params ?? true) === true ? fromParams : Object.assign(\n          fromParams,\n          functionalUpdate(dest.params, fromParams)\n        );\n        const interpolatedNextTo = interpolatePath({\n          path: nextTo,\n          params: nextParams\n        }).interpolatedPath;\n        const destRoutes = this.matchRoutes(interpolatedNextTo, void 0, {\n          _buildLocation: true\n        }).map((d) => this.looseRoutesById[d.routeId]);\n        if (Object.keys(nextParams).length > 0) {\n          for (const route of destRoutes) {\n            const fn = route.options.params?.stringify ?? route.options.stringifyParams;\n            if (fn) {\n              Object.assign(nextParams, fn(nextParams));\n            }\n          }\n        }\n        const nextPathname = opts.leaveParams ? (\n          // Use the original template path for interpolation\n          // This preserves the original parameter syntax including optional parameters\n          nextTo\n        ) : decodePath(\n          interpolatePath({\n            path: nextTo,\n            params: nextParams,\n            decodeCharMap: this.pathParamsDecodeCharMap\n          }).interpolatedPath\n        );\n        let nextSearch = fromSearch;\n        if (opts._includeValidateSearch && this.options.search?.strict) {\n          const validatedSearch = {};\n          destRoutes.forEach((route) => {\n            if (route.options.validateSearch) {\n              try {\n                Object.assign(\n                  validatedSearch,\n                  validateSearch(route.options.validateSearch, {\n                    ...validatedSearch,\n                    ...nextSearch\n                  })\n                );\n              } catch {\n              }\n            }\n          });\n          nextSearch = validatedSearch;\n        }\n        nextSearch = applySearchMiddleware({\n          search: nextSearch,\n          dest,\n          destRoutes,\n          _includeValidateSearch: opts._includeValidateSearch\n        });\n        nextSearch = replaceEqualDeep(fromSearch, nextSearch);\n        const searchStr = this.options.stringifySearch(nextSearch);\n        const hash = dest.hash === true ? currentLocation.hash : dest.hash ? functionalUpdate(dest.hash, currentLocation.hash) : void 0;\n        const hashStr = hash ? `#${hash}` : \"\";\n        let nextState = dest.state === true ? currentLocation.state : dest.state ? functionalUpdate(dest.state, currentLocation.state) : {};\n        nextState = replaceEqualDeep(currentLocation.state, nextState);\n        const fullPath = `${nextPathname}${searchStr}${hashStr}`;\n        const url = new URL(fullPath, this.origin);\n        const rewrittenUrl = executeRewriteOutput(this.rewrite, url);\n        return {\n          publicHref: rewrittenUrl.pathname + rewrittenUrl.search + rewrittenUrl.hash,\n          href: fullPath,\n          url: rewrittenUrl,\n          pathname: nextPathname,\n          search: nextSearch,\n          searchStr,\n          state: nextState,\n          hash: hash ?? \"\",\n          unmaskOnReload: dest.unmaskOnReload\n        };\n      };\n      const buildWithMatches = (dest = {}, maskedDest) => {\n        const next = build(dest);\n        let maskedNext = maskedDest ? build(maskedDest) : void 0;\n        if (!maskedNext) {\n          const params = {};\n          if (this.options.routeMasks) {\n            const match = findFlatMatch(\n              next.pathname,\n              this.processedTree\n            );\n            if (match) {\n              Object.assign(params, match.rawParams);\n              const {\n                from: _from,\n                params: maskParams,\n                ...maskProps\n              } = match.route;\n              const nextParams = maskParams === false || maskParams === null ? {} : (maskParams ?? true) === true ? params : Object.assign(params, functionalUpdate(maskParams, params));\n              maskedDest = {\n                from: opts.from,\n                ...maskProps,\n                params: nextParams\n              };\n              maskedNext = build(maskedDest);\n            }\n          }\n        }\n        if (maskedNext) {\n          next.maskedLocation = maskedNext;\n        }\n        return next;\n      };\n      if (opts.mask) {\n        return buildWithMatches(opts, {\n          from: opts.from,\n          ...opts.mask\n        });\n      }\n      return buildWithMatches(opts);\n    };\n    this.commitLocation = ({\n      viewTransition,\n      ignoreBlocker,\n      ...next\n    }) => {\n      const isSameState = () => {\n        const ignoredProps = [\n          \"key\",\n          // TODO: Remove in v2 - use __TSR_key instead\n          \"__TSR_key\",\n          \"__TSR_index\",\n          \"__hashScrollIntoViewOptions\"\n        ];\n        ignoredProps.forEach((prop) => {\n          next.state[prop] = this.latestLocation.state[prop];\n        });\n        const isEqual = deepEqual(next.state, this.latestLocation.state);\n        ignoredProps.forEach((prop) => {\n          delete next.state[prop];\n        });\n        return isEqual;\n      };\n      const isSameUrl = trimPathRight(this.latestLocation.href) === trimPathRight(next.href);\n      const previousCommitPromise = this.commitLocationPromise;\n      this.commitLocationPromise = createControlledPromise(() => {\n        previousCommitPromise?.resolve();\n      });\n      if (isSameUrl && isSameState()) {\n        this.load();\n      } else {\n        let {\n          // eslint-disable-next-line prefer-const\n          maskedLocation,\n          // eslint-disable-next-line prefer-const\n          hashScrollIntoView,\n          // don't pass url into history since it is a URL instance that cannot be serialized\n          // eslint-disable-next-line prefer-const\n          url: _url,\n          ...nextHistory\n        } = next;\n        if (maskedLocation) {\n          nextHistory = {\n            ...maskedLocation,\n            state: {\n              ...maskedLocation.state,\n              __tempKey: void 0,\n              __tempLocation: {\n                ...nextHistory,\n                search: nextHistory.searchStr,\n                state: {\n                  ...nextHistory.state,\n                  __tempKey: void 0,\n                  __tempLocation: void 0,\n                  __TSR_key: void 0,\n                  key: void 0\n                  // TODO: Remove in v2 - use __TSR_key instead\n                }\n              }\n            }\n          };\n          if (nextHistory.unmaskOnReload ?? this.options.unmaskOnReload ?? false) {\n            nextHistory.state.__tempKey = this.tempLocationKey;\n          }\n        }\n        nextHistory.state.__hashScrollIntoViewOptions = hashScrollIntoView ?? this.options.defaultHashScrollIntoView ?? true;\n        this.shouldViewTransition = viewTransition;\n        this.history[next.replace ? \"replace\" : \"push\"](\n          nextHistory.publicHref,\n          nextHistory.state,\n          { ignoreBlocker }\n        );\n      }\n      this.resetNextScroll = next.resetScroll ?? true;\n      if (!this.history.subscribers.size) {\n        this.load();\n      }\n      return this.commitLocationPromise;\n    };\n    this.buildAndCommitLocation = ({\n      replace,\n      resetScroll,\n      hashScrollIntoView,\n      viewTransition,\n      ignoreBlocker,\n      href,\n      ...rest\n    } = {}) => {\n      if (href) {\n        const currentIndex = this.history.location.state.__TSR_index;\n        const parsed = parseHref(href, {\n          __TSR_index: replace ? currentIndex : currentIndex + 1\n        });\n        const hrefUrl = new URL(parsed.pathname, this.origin);\n        const rewrittenUrl = executeRewriteInput(this.rewrite, hrefUrl);\n        rest.to = rewrittenUrl.pathname;\n        rest.search = this.options.parseSearch(parsed.search);\n        rest.hash = parsed.hash.slice(1);\n      }\n      const location = this.buildLocation({\n        ...rest,\n        _includeValidateSearch: true\n      });\n      this.pendingBuiltLocation = location;\n      const commitPromise = this.commitLocation({\n        ...location,\n        viewTransition,\n        replace,\n        resetScroll,\n        hashScrollIntoView,\n        ignoreBlocker\n      });\n      Promise.resolve().then(() => {\n        if (this.pendingBuiltLocation === location) {\n          this.pendingBuiltLocation = void 0;\n        }\n      });\n      return commitPromise;\n    };\n    this.navigate = async ({\n      to,\n      reloadDocument,\n      href,\n      publicHref,\n      ...rest\n    }) => {\n      let hrefIsUrl = false;\n      if (href) {\n        try {\n          new URL(`${href}`);\n          hrefIsUrl = true;\n        } catch {\n        }\n      }\n      if (hrefIsUrl && !reloadDocument) {\n        reloadDocument = true;\n      }\n      if (reloadDocument) {\n        if (to !== void 0 || !href) {\n          const location = this.buildLocation({ to, ...rest });\n          href = href ?? location.url.href;\n          publicHref = publicHref ?? location.url.href;\n        }\n        const reloadHref = !hrefIsUrl && publicHref ? publicHref : href;\n        if (isDangerousProtocol(reloadHref)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.warn(\n              `Blocked navigation to dangerous protocol: ${reloadHref}`\n            );\n          }\n          return Promise.resolve();\n        }\n        if (!rest.ignoreBlocker) {\n          const historyWithBlockers = this.history;\n          const blockers = historyWithBlockers.getBlockers?.() ?? [];\n          for (const blocker of blockers) {\n            if (blocker?.blockerFn) {\n              const shouldBlock = await blocker.blockerFn({\n                currentLocation: this.latestLocation,\n                nextLocation: this.latestLocation,\n                // External URLs don't have a next location in our router\n                action: \"PUSH\"\n              });\n              if (shouldBlock) {\n                return Promise.resolve();\n              }\n            }\n          }\n        }\n        if (rest.replace) {\n          window.location.replace(reloadHref);\n        } else {\n          window.location.href = reloadHref;\n        }\n        return Promise.resolve();\n      }\n      return this.buildAndCommitLocation({\n        ...rest,\n        href,\n        to,\n        _isNavigate: true\n      });\n    };\n    this.beforeLoad = () => {\n      this.cancelMatches();\n      this.updateLatestLocation();\n      if (this.isServer) {\n        const nextLocation = this.buildLocation({\n          to: this.latestLocation.pathname,\n          search: true,\n          params: true,\n          hash: true,\n          state: true,\n          _includeValidateSearch: true\n        });\n        if (this.latestLocation.publicHref !== nextLocation.publicHref || nextLocation.url.origin !== this.origin) {\n          const href = this.getParsedLocationHref(nextLocation);\n          throw redirect({ href });\n        }\n      }\n      const pendingMatches = this.matchRoutes(this.latestLocation);\n      this.__store.setState((s) => ({\n        ...s,\n        status: \"pending\",\n        statusCode: 200,\n        isLoading: true,\n        location: this.latestLocation,\n        pendingMatches,\n        // If a cached moved to pendingMatches, remove it from cachedMatches\n        cachedMatches: s.cachedMatches.filter(\n          (d) => !pendingMatches.some((e) => e.id === d.id)\n        )\n      }));\n    };\n    this.load = async (opts) => {\n      let redirect2;\n      let notFound;\n      let loadPromise;\n      loadPromise = new Promise((resolve) => {\n        this.startTransition(async () => {\n          try {\n            this.beforeLoad();\n            const next = this.latestLocation;\n            const prevLocation = this.state.resolvedLocation;\n            if (!this.state.redirect) {\n              this.emit({\n                type: \"onBeforeNavigate\",\n                ...getLocationChangeInfo({\n                  resolvedLocation: prevLocation,\n                  location: next\n                })\n              });\n            }\n            this.emit({\n              type: \"onBeforeLoad\",\n              ...getLocationChangeInfo({\n                resolvedLocation: prevLocation,\n                location: next\n              })\n            });\n            await loadMatches({\n              router: this,\n              sync: opts?.sync,\n              matches: this.state.pendingMatches,\n              location: next,\n              updateMatch: this.updateMatch,\n              // eslint-disable-next-line @typescript-eslint/require-await\n              onReady: async () => {\n                this.startTransition(() => {\n                  this.startViewTransition(async () => {\n                    let exitingMatches = [];\n                    let enteringMatches = [];\n                    let stayingMatches = [];\n                    batch(() => {\n                      this.__store.setState((s) => {\n                        const previousMatches = s.matches;\n                        const newMatches = s.pendingMatches || s.matches;\n                        exitingMatches = previousMatches.filter(\n                          (match) => !newMatches.some((d) => d.id === match.id)\n                        );\n                        enteringMatches = newMatches.filter(\n                          (match) => !previousMatches.some((d) => d.id === match.id)\n                        );\n                        stayingMatches = newMatches.filter(\n                          (match) => previousMatches.some((d) => d.id === match.id)\n                        );\n                        return {\n                          ...s,\n                          isLoading: false,\n                          loadedAt: Date.now(),\n                          matches: newMatches,\n                          pendingMatches: void 0,\n                          /**\n                           * When committing new matches, cache any exiting matches that are still usable.\n                           * Routes that resolved with `status: 'error'` or `status: 'notFound'` are\n                           * deliberately excluded from `cachedMatches` so that subsequent invalidations\n                           * or reloads re-run their loaders instead of reusing the failed/not-found data.\n                           */\n                          cachedMatches: [\n                            ...s.cachedMatches,\n                            ...exitingMatches.filter(\n                              (d) => d.status !== \"error\" && d.status !== \"notFound\"\n                            )\n                          ]\n                        };\n                      });\n                      this.clearExpiredCache();\n                    });\n                    [\n                      [exitingMatches, \"onLeave\"],\n                      [enteringMatches, \"onEnter\"],\n                      [stayingMatches, \"onStay\"]\n                    ].forEach(([matches, hook]) => {\n                      matches.forEach((match) => {\n                        this.looseRoutesById[match.routeId].options[hook]?.(\n                          match\n                        );\n                      });\n                    });\n                  });\n                });\n              }\n            });\n          } catch (err) {\n            if (isRedirect(err)) {\n              redirect2 = err;\n              if (!this.isServer) {\n                this.navigate({\n                  ...redirect2.options,\n                  replace: true,\n                  ignoreBlocker: true\n                });\n              }\n            } else if (isNotFound(err)) {\n              notFound = err;\n            }\n            this.__store.setState((s) => ({\n              ...s,\n              statusCode: redirect2 ? redirect2.status : notFound ? 404 : s.matches.some((d) => d.status === \"error\") ? 500 : 200,\n              redirect: redirect2\n            }));\n          }\n          if (this.latestLoadPromise === loadPromise) {\n            this.commitLocationPromise?.resolve();\n            this.latestLoadPromise = void 0;\n            this.commitLocationPromise = void 0;\n          }\n          resolve();\n        });\n      });\n      this.latestLoadPromise = loadPromise;\n      await loadPromise;\n      while (this.latestLoadPromise && loadPromise !== this.latestLoadPromise) {\n        await this.latestLoadPromise;\n      }\n      let newStatusCode = void 0;\n      if (this.hasNotFoundMatch()) {\n        newStatusCode = 404;\n      } else if (this.__store.state.matches.some((d) => d.status === \"error\")) {\n        newStatusCode = 500;\n      }\n      if (newStatusCode !== void 0) {\n        this.__store.setState((s) => ({\n          ...s,\n          statusCode: newStatusCode\n        }));\n      }\n    };\n    this.startViewTransition = (fn) => {\n      const shouldViewTransition = this.shouldViewTransition ?? this.options.defaultViewTransition;\n      delete this.shouldViewTransition;\n      if (shouldViewTransition && typeof document !== \"undefined\" && \"startViewTransition\" in document && typeof document.startViewTransition === \"function\") {\n        let startViewTransitionParams;\n        if (typeof shouldViewTransition === \"object\" && this.isViewTransitionTypesSupported) {\n          const next = this.latestLocation;\n          const prevLocation = this.state.resolvedLocation;\n          const resolvedViewTransitionTypes = typeof shouldViewTransition.types === \"function\" ? shouldViewTransition.types(\n            getLocationChangeInfo({\n              resolvedLocation: prevLocation,\n              location: next\n            })\n          ) : shouldViewTransition.types;\n          if (resolvedViewTransitionTypes === false) {\n            fn();\n            return;\n          }\n          startViewTransitionParams = {\n            update: fn,\n            types: resolvedViewTransitionTypes\n          };\n        } else {\n          startViewTransitionParams = fn;\n        }\n        document.startViewTransition(startViewTransitionParams);\n      } else {\n        fn();\n      }\n    };\n    this.updateMatch = (id, updater) => {\n      this.startTransition(() => {\n        const matchesKey = this.state.pendingMatches?.some((d) => d.id === id) ? \"pendingMatches\" : this.state.matches.some((d) => d.id === id) ? \"matches\" : this.state.cachedMatches.some((d) => d.id === id) ? \"cachedMatches\" : \"\";\n        if (matchesKey) {\n          this.__store.setState((s) => ({\n            ...s,\n            [matchesKey]: s[matchesKey]?.map(\n              (d) => d.id === id ? updater(d) : d\n            )\n          }));\n        }\n      });\n    };\n    this.getMatch = (matchId) => {\n      const findFn = (d) => d.id === matchId;\n      return this.state.cachedMatches.find(findFn) ?? this.state.pendingMatches?.find(findFn) ?? this.state.matches.find(findFn);\n    };\n    this.invalidate = (opts) => {\n      const invalidate = (d) => {\n        if (opts?.filter?.(d) ?? true) {\n          return {\n            ...d,\n            invalid: true,\n            ...opts?.forcePending || d.status === \"error\" || d.status === \"notFound\" ? { status: \"pending\", error: void 0 } : void 0\n          };\n        }\n        return d;\n      };\n      this.__store.setState((s) => ({\n        ...s,\n        matches: s.matches.map(invalidate),\n        cachedMatches: s.cachedMatches.map(invalidate),\n        pendingMatches: s.pendingMatches?.map(invalidate)\n      }));\n      this.shouldViewTransition = false;\n      return this.load({ sync: opts?.sync });\n    };\n    this.getParsedLocationHref = (location) => {\n      let href = location.url.href;\n      if (this.origin && location.url.origin === this.origin) {\n        href = href.replace(this.origin, \"\") || \"/\";\n      }\n      return href;\n    };\n    this.resolveRedirect = (redirect2) => {\n      const locationHeader = redirect2.headers.get(\"Location\");\n      if (!redirect2.options.href) {\n        const location = this.buildLocation(redirect2.options);\n        const href = this.getParsedLocationHref(location);\n        redirect2.options.href = href;\n        redirect2.headers.set(\"Location\", href);\n      } else if (locationHeader) {\n        try {\n          const url = new URL(locationHeader);\n          if (this.origin && url.origin === this.origin) {\n            const href = url.pathname + url.search + url.hash;\n            redirect2.options.href = href;\n            redirect2.headers.set(\"Location\", href);\n          }\n        } catch {\n        }\n      }\n      if (!redirect2.headers.get(\"Location\")) {\n        redirect2.headers.set(\"Location\", redirect2.options.href);\n      }\n      return redirect2;\n    };\n    this.clearCache = (opts) => {\n      const filter = opts?.filter;\n      if (filter !== void 0) {\n        this.__store.setState((s) => {\n          return {\n            ...s,\n            cachedMatches: s.cachedMatches.filter(\n              (m) => !filter(m)\n            )\n          };\n        });\n      } else {\n        this.__store.setState((s) => {\n          return {\n            ...s,\n            cachedMatches: []\n          };\n        });\n      }\n    };\n    this.clearExpiredCache = () => {\n      const filter = (d) => {\n        const route = this.looseRoutesById[d.routeId];\n        if (!route.options.loader) {\n          return true;\n        }\n        const gcTime = (d.preload ? route.options.preloadGcTime ?? this.options.defaultPreloadGcTime : route.options.gcTime ?? this.options.defaultGcTime) ?? 5 * 60 * 1e3;\n        const isError = d.status === \"error\";\n        if (isError) return true;\n        const gcEligible = Date.now() - d.updatedAt >= gcTime;\n        return gcEligible;\n      };\n      this.clearCache({ filter });\n    };\n    this.loadRouteChunk = loadRouteChunk;\n    this.preloadRoute = async (opts) => {\n      const next = this.buildLocation(opts);\n      let matches = this.matchRoutes(next, {\n        throwOnError: true,\n        preload: true,\n        dest: opts\n      });\n      const activeMatchIds = new Set(\n        [...this.state.matches, ...this.state.pendingMatches ?? []].map(\n          (d) => d.id\n        )\n      );\n      const loadedMatchIds = /* @__PURE__ */ new Set([\n        ...activeMatchIds,\n        ...this.state.cachedMatches.map((d) => d.id)\n      ]);\n      batch(() => {\n        matches.forEach((match) => {\n          if (!loadedMatchIds.has(match.id)) {\n            this.__store.setState((s) => ({\n              ...s,\n              cachedMatches: [...s.cachedMatches, match]\n            }));\n          }\n        });\n      });\n      try {\n        matches = await loadMatches({\n          router: this,\n          matches,\n          location: next,\n          preload: true,\n          updateMatch: (id, updater) => {\n            if (activeMatchIds.has(id)) {\n              matches = matches.map((d) => d.id === id ? updater(d) : d);\n            } else {\n              this.updateMatch(id, updater);\n            }\n          }\n        });\n        return matches;\n      } catch (err) {\n        if (isRedirect(err)) {\n          if (err.options.reloadDocument) {\n            return void 0;\n          }\n          return await this.preloadRoute({\n            ...err.options,\n            _fromLocation: next\n          });\n        }\n        if (!isNotFound(err)) {\n          console.error(err);\n        }\n        return void 0;\n      }\n    };\n    this.matchRoute = (location, opts) => {\n      const matchLocation = {\n        ...location,\n        to: location.to ? this.resolvePathWithBase(\n          location.from || \"\",\n          location.to\n        ) : void 0,\n        params: location.params || {},\n        leaveParams: true\n      };\n      const next = this.buildLocation(matchLocation);\n      if (opts?.pending && this.state.status !== \"pending\") {\n        return false;\n      }\n      const pending = opts?.pending === void 0 ? !this.state.isLoading : opts.pending;\n      const baseLocation = pending ? this.latestLocation : this.state.resolvedLocation || this.state.location;\n      const match = findSingleMatch(\n        next.pathname,\n        opts?.caseSensitive ?? false,\n        opts?.fuzzy ?? false,\n        baseLocation.pathname,\n        this.processedTree\n      );\n      if (!match) {\n        return false;\n      }\n      if (location.params) {\n        if (!deepEqual(match.rawParams, location.params, { partial: true })) {\n          return false;\n        }\n      }\n      if (opts?.includeSearch ?? true) {\n        return deepEqual(baseLocation.search, next.search, { partial: true }) ? match.rawParams : false;\n      }\n      return match.rawParams;\n    };\n    this.hasNotFoundMatch = () => {\n      return this.__store.state.matches.some(\n        (d) => d.status === \"notFound\" || d.globalNotFound\n      );\n    };\n    this.update({\n      defaultPreloadDelay: 50,\n      defaultPendingMs: 1e3,\n      defaultPendingMinMs: 500,\n      context: void 0,\n      ...options,\n      caseSensitive: options.caseSensitive ?? false,\n      notFoundMode: options.notFoundMode ?? \"fuzzy\",\n      stringifySearch: options.stringifySearch ?? defaultStringifySearch,\n      parseSearch: options.parseSearch ?? defaultParseSearch\n    });\n    if (typeof document !== \"undefined\") {\n      self.__TSR_ROUTER__ = this;\n    }\n  }\n  isShell() {\n    return !!this.options.isShell;\n  }\n  isPrerendering() {\n    return !!this.options.isPrerendering;\n  }\n  get state() {\n    return this.__store.state;\n  }\n  get looseRoutesById() {\n    return this.routesById;\n  }\n  matchRoutesInternal(next, opts) {\n    const matchedRoutesResult = this.getMatchedRoutes(next.pathname);\n    const { foundRoute, routeParams, parsedParams } = matchedRoutesResult;\n    let { matchedRoutes } = matchedRoutesResult;\n    let isGlobalNotFound = false;\n    if (\n      // If we found a route, and it's not an index route and we have left over path\n      foundRoute ? foundRoute.path !== \"/\" && routeParams[\"**\"] : (\n        // Or if we didn't find a route and we have left over path\n        trimPathRight(next.pathname)\n      )\n    ) {\n      if (this.options.notFoundRoute) {\n        matchedRoutes = [...matchedRoutes, this.options.notFoundRoute];\n      } else {\n        isGlobalNotFound = true;\n      }\n    }\n    const globalNotFoundRouteId = (() => {\n      if (!isGlobalNotFound) {\n        return void 0;\n      }\n      if (this.options.notFoundMode !== \"root\") {\n        for (let i = matchedRoutes.length - 1; i >= 0; i--) {\n          const route = matchedRoutes[i];\n          if (route.children) {\n            return route.id;\n          }\n        }\n      }\n      return rootRouteId;\n    })();\n    const matches = [];\n    const getParentContext = (parentMatch) => {\n      const parentMatchId = parentMatch?.id;\n      const parentContext = !parentMatchId ? this.options.context ?? void 0 : parentMatch.context ?? this.options.context ?? void 0;\n      return parentContext;\n    };\n    matchedRoutes.forEach((route, index) => {\n      const parentMatch = matches[index - 1];\n      const [preMatchSearch, strictMatchSearch, searchError] = (() => {\n        const parentSearch = parentMatch?.search ?? next.search;\n        const parentStrictSearch = parentMatch?._strictSearch ?? void 0;\n        try {\n          const strictSearch = validateSearch(route.options.validateSearch, { ...parentSearch }) ?? void 0;\n          return [\n            {\n              ...parentSearch,\n              ...strictSearch\n            },\n            { ...parentStrictSearch, ...strictSearch },\n            void 0\n          ];\n        } catch (err) {\n          let searchParamError = err;\n          if (!(err instanceof SearchParamError)) {\n            searchParamError = new SearchParamError(err.message, {\n              cause: err\n            });\n          }\n          if (opts?.throwOnError) {\n            throw searchParamError;\n          }\n          return [parentSearch, {}, searchParamError];\n        }\n      })();\n      const loaderDeps = route.options.loaderDeps?.({\n        search: preMatchSearch\n      }) ?? \"\";\n      const loaderDepsHash = loaderDeps ? JSON.stringify(loaderDeps) : \"\";\n      const { interpolatedPath, usedParams } = interpolatePath({\n        path: route.fullPath,\n        params: routeParams,\n        decodeCharMap: this.pathParamsDecodeCharMap\n      });\n      const matchId = (\n        // route.id for disambiguation\n        route.id + // interpolatedPath for param changes\n        interpolatedPath + // explicit deps\n        loaderDepsHash\n      );\n      const existingMatch = this.getMatch(matchId);\n      const previousMatch = this.state.matches.find(\n        (d) => d.routeId === route.id\n      );\n      const strictParams = existingMatch?._strictParams ?? usedParams;\n      let paramsError = void 0;\n      if (!existingMatch) {\n        if (route.options.skipRouteOnParseError) {\n          for (const key in usedParams) {\n            if (key in parsedParams) {\n              strictParams[key] = parsedParams[key];\n            }\n          }\n        } else {\n          const strictParseParams = route.options.params?.parse ?? route.options.parseParams;\n          if (strictParseParams) {\n            try {\n              Object.assign(\n                strictParams,\n                strictParseParams(strictParams)\n              );\n            } catch (err) {\n              if (isNotFound(err) || isRedirect(err)) {\n                paramsError = err;\n              } else {\n                paramsError = new PathParamError(err.message, {\n                  cause: err\n                });\n              }\n              if (opts?.throwOnError) {\n                throw paramsError;\n              }\n            }\n          }\n        }\n      }\n      Object.assign(routeParams, strictParams);\n      const cause = previousMatch ? \"stay\" : \"enter\";\n      let match;\n      if (existingMatch) {\n        match = {\n          ...existingMatch,\n          cause,\n          params: previousMatch ? replaceEqualDeep(previousMatch.params, routeParams) : routeParams,\n          _strictParams: strictParams,\n          search: previousMatch ? replaceEqualDeep(previousMatch.search, preMatchSearch) : replaceEqualDeep(existingMatch.search, preMatchSearch),\n          _strictSearch: strictMatchSearch\n        };\n      } else {\n        const status = route.options.loader || route.options.beforeLoad || route.lazyFn || routeNeedsPreload(route) ? \"pending\" : \"success\";\n        match = {\n          id: matchId,\n          ssr: this.isServer ? void 0 : route.options.ssr,\n          index,\n          routeId: route.id,\n          params: previousMatch ? replaceEqualDeep(previousMatch.params, routeParams) : routeParams,\n          _strictParams: strictParams,\n          pathname: interpolatedPath,\n          updatedAt: Date.now(),\n          search: previousMatch ? replaceEqualDeep(previousMatch.search, preMatchSearch) : preMatchSearch,\n          _strictSearch: strictMatchSearch,\n          searchError: void 0,\n          status,\n          isFetching: false,\n          error: void 0,\n          paramsError,\n          __routeContext: void 0,\n          _nonReactive: {\n            loadPromise: createControlledPromise()\n          },\n          __beforeLoadContext: void 0,\n          context: {},\n          abortController: new AbortController(),\n          fetchCount: 0,\n          cause,\n          loaderDeps: previousMatch ? replaceEqualDeep(previousMatch.loaderDeps, loaderDeps) : loaderDeps,\n          invalid: false,\n          preload: false,\n          links: void 0,\n          scripts: void 0,\n          headScripts: void 0,\n          meta: void 0,\n          staticData: route.options.staticData || {},\n          fullPath: route.fullPath\n        };\n      }\n      if (!opts?.preload) {\n        match.globalNotFound = globalNotFoundRouteId === route.id;\n      }\n      match.searchError = searchError;\n      const parentContext = getParentContext(parentMatch);\n      match.context = {\n        ...parentContext,\n        ...match.__routeContext,\n        ...match.__beforeLoadContext\n      };\n      matches.push(match);\n    });\n    matches.forEach((match, index) => {\n      const route = this.looseRoutesById[match.routeId];\n      const existingMatch = this.getMatch(match.id);\n      if (!existingMatch && opts?._buildLocation !== true) {\n        const parentMatch = matches[index - 1];\n        const parentContext = getParentContext(parentMatch);\n        if (route.options.context) {\n          const contextFnContext = {\n            deps: match.loaderDeps,\n            params: match.params,\n            context: parentContext ?? {},\n            location: next,\n            navigate: (opts2) => this.navigate({ ...opts2, _fromLocation: next }),\n            buildLocation: this.buildLocation,\n            cause: match.cause,\n            abortController: match.abortController,\n            preload: !!match.preload,\n            matches\n          };\n          match.__routeContext = route.options.context(contextFnContext) ?? void 0;\n        }\n        match.context = {\n          ...parentContext,\n          ...match.__routeContext,\n          ...match.__beforeLoadContext\n        };\n      }\n    });\n    return matches;\n  }\n}\nclass SearchParamError extends Error {\n}\nclass PathParamError extends Error {\n}\nconst normalize = (str) => str.endsWith(\"/\") && str.length > 1 ? str.slice(0, -1) : str;\nfunction comparePaths(a, b) {\n  return normalize(a) === normalize(b);\n}\nfunction lazyFn(fn, key) {\n  return async (...args) => {\n    const imported = await fn();\n    return imported[key || \"default\"](...args);\n  };\n}\nfunction getInitialRouterState(location) {\n  return {\n    loadedAt: 0,\n    isLoading: false,\n    isTransitioning: false,\n    status: \"idle\",\n    resolvedLocation: void 0,\n    location,\n    matches: [],\n    pendingMatches: [],\n    cachedMatches: [],\n    statusCode: 200\n  };\n}\nfunction validateSearch(validateSearch2, input) {\n  if (validateSearch2 == null) return {};\n  if (\"~standard\" in validateSearch2) {\n    const result = validateSearch2[\"~standard\"].validate(input);\n    if (result instanceof Promise)\n      throw new SearchParamError(\"Async validation not supported\");\n    if (result.issues)\n      throw new SearchParamError(JSON.stringify(result.issues, void 0, 2), {\n        cause: result\n      });\n    return result.value;\n  }\n  if (\"parse\" in validateSearch2) {\n    return validateSearch2.parse(input);\n  }\n  if (typeof validateSearch2 === \"function\") {\n    return validateSearch2(input);\n  }\n  return {};\n}\nfunction getMatchedRoutes({\n  pathname,\n  routesById,\n  processedTree\n}) {\n  const routeParams = {};\n  const trimmedPath = trimPathRight(pathname);\n  let foundRoute = void 0;\n  let parsedParams = void 0;\n  const match = findRouteMatch(trimmedPath, processedTree, true);\n  if (match) {\n    foundRoute = match.route;\n    Object.assign(routeParams, match.rawParams);\n    parsedParams = Object.assign({}, match.parsedParams);\n  }\n  const matchedRoutes = match?.branch || [routesById[rootRouteId]];\n  return { matchedRoutes, routeParams, foundRoute, parsedParams };\n}\nfunction applySearchMiddleware({\n  search,\n  dest,\n  destRoutes,\n  _includeValidateSearch\n}) {\n  const allMiddlewares = destRoutes.reduce(\n    (acc, route) => {\n      const middlewares = [];\n      if (\"search\" in route.options) {\n        if (route.options.search?.middlewares) {\n          middlewares.push(...route.options.search.middlewares);\n        }\n      } else if (route.options.preSearchFilters || route.options.postSearchFilters) {\n        const legacyMiddleware = ({\n          search: search2,\n          next\n        }) => {\n          let nextSearch = search2;\n          if (\"preSearchFilters\" in route.options && route.options.preSearchFilters) {\n            nextSearch = route.options.preSearchFilters.reduce(\n              (prev, next2) => next2(prev),\n              search2\n            );\n          }\n          const result = next(nextSearch);\n          if (\"postSearchFilters\" in route.options && route.options.postSearchFilters) {\n            return route.options.postSearchFilters.reduce(\n              (prev, next2) => next2(prev),\n              result\n            );\n          }\n          return result;\n        };\n        middlewares.push(legacyMiddleware);\n      }\n      if (_includeValidateSearch && route.options.validateSearch) {\n        const validate = ({ search: search2, next }) => {\n          const result = next(search2);\n          try {\n            const validatedSearch = {\n              ...result,\n              ...validateSearch(route.options.validateSearch, result) ?? void 0\n            };\n            return validatedSearch;\n          } catch {\n            return result;\n          }\n        };\n        middlewares.push(validate);\n      }\n      return acc.concat(middlewares);\n    },\n    []\n  ) ?? [];\n  const final = ({ search: search2 }) => {\n    if (!dest.search) {\n      return {};\n    }\n    if (dest.search === true) {\n      return search2;\n    }\n    return functionalUpdate(dest.search, search2);\n  };\n  allMiddlewares.push(final);\n  const applyNext = (index, currentSearch) => {\n    if (index >= allMiddlewares.length) {\n      return currentSearch;\n    }\n    const middleware = allMiddlewares[index];\n    const next = (newSearch) => {\n      return applyNext(index + 1, newSearch);\n    };\n    return middleware({ search: currentSearch, next });\n  };\n  return applyNext(0, search);\n}\nexport {\n  PathParamError,\n  RouterCore,\n  SearchParamError,\n  defaultSerializeError,\n  getInitialRouterState,\n  getLocationChangeInfo,\n  getMatchedRoutes,\n  lazyFn,\n  trailingSlashOptions\n};\n//# sourceMappingURL=router.js.map\n","const preloadWarning = \"Error preloading route! \";\nexport {\n  preloadWarning\n};\n//# sourceMappingURL=link.js.map\n","import invariant from \"tiny-invariant\";\nimport { trimPathLeft, joinPaths } from \"./path.js\";\nimport { notFound } from \"./not-found.js\";\nimport { rootRouteId } from \"./root.js\";\nclass BaseRoute {\n  constructor(options) {\n    this.init = (opts) => {\n      this.originalIndex = opts.originalIndex;\n      const options2 = this.options;\n      const isRoot = !options2?.path && !options2?.id;\n      this.parentRoute = this.options.getParentRoute?.();\n      if (isRoot) {\n        this._path = rootRouteId;\n      } else if (!this.parentRoute) {\n        invariant(\n          false,\n          `Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.`\n        );\n      }\n      let path = isRoot ? rootRouteId : options2?.path;\n      if (path && path !== \"/\") {\n        path = trimPathLeft(path);\n      }\n      const customId = options2?.id || path;\n      let id = isRoot ? rootRouteId : joinPaths([\n        this.parentRoute.id === rootRouteId ? \"\" : this.parentRoute.id,\n        customId\n      ]);\n      if (path === rootRouteId) {\n        path = \"/\";\n      }\n      if (id !== rootRouteId) {\n        id = joinPaths([\"/\", id]);\n      }\n      const fullPath = id === rootRouteId ? \"/\" : joinPaths([this.parentRoute.fullPath, path]);\n      this._path = path;\n      this._id = id;\n      this._fullPath = fullPath;\n      this._to = fullPath;\n    };\n    this.addChildren = (children) => {\n      return this._addFileChildren(children);\n    };\n    this._addFileChildren = (children) => {\n      if (Array.isArray(children)) {\n        this.children = children;\n      }\n      if (typeof children === \"object\" && children !== null) {\n        this.children = Object.values(children);\n      }\n      return this;\n    };\n    this._addFileTypes = () => {\n      return this;\n    };\n    this.updateLoader = (options2) => {\n      Object.assign(this.options, options2);\n      return this;\n    };\n    this.update = (options2) => {\n      Object.assign(this.options, options2);\n      return this;\n    };\n    this.lazy = (lazyFn) => {\n      this.lazyFn = lazyFn;\n      return this;\n    };\n    this.options = options || {};\n    this.isRoot = !options?.getParentRoute;\n    if (options?.id && options?.path) {\n      throw new Error(`Route cannot have both an 'id' and a 'path' option.`);\n    }\n  }\n  get to() {\n    return this._to;\n  }\n  get id() {\n    return this._id;\n  }\n  get path() {\n    return this._path;\n  }\n  get fullPath() {\n    return this._fullPath;\n  }\n}\nclass BaseRouteApi {\n  constructor({ id }) {\n    this.notFound = (opts) => {\n      return notFound({ routeId: this.id, ...opts });\n    };\n    this.id = id;\n  }\n}\nclass BaseRootRoute extends BaseRoute {\n  constructor(options) {\n    super(options);\n  }\n}\nexport {\n  BaseRootRoute,\n  BaseRoute,\n  BaseRouteApi\n};\n//# sourceMappingURL=route.js.map\n","import * as React from \"react\";\nconst REACT_USE = \"use\";\nconst reactUse = React[REACT_USE];\nfunction useStableCallback(fn) {\n  const fnRef = React.useRef(fn);\n  fnRef.current = fn;\n  const ref = React.useRef((...args) => fnRef.current(...args));\n  return ref.current;\n}\nconst useLayoutEffect = typeof window !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction usePrevious(value) {\n  const ref = React.useRef({\n    value,\n    prev: null\n  });\n  const current = ref.current.value;\n  if (value !== current) {\n    ref.current = {\n      value,\n      prev: current\n    };\n  }\n  return ref.current.prev;\n}\nfunction useIntersectionObserver(ref, callback, intersectionObserverOptions = {}, options = {}) {\n  React.useEffect(() => {\n    if (!ref.current || options.disabled || typeof IntersectionObserver !== \"function\") {\n      return;\n    }\n    const observer = new IntersectionObserver(([entry]) => {\n      callback(entry);\n    }, intersectionObserverOptions);\n    observer.observe(ref.current);\n    return () => {\n      observer.disconnect();\n    };\n  }, [callback, intersectionObserverOptions, options.disabled, ref]);\n}\nfunction useForwardedRef(ref) {\n  const innerRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => innerRef.current, []);\n  return innerRef;\n}\nexport {\n  reactUse,\n  useForwardedRef,\n  useIntersectionObserver,\n  useLayoutEffect,\n  usePrevious,\n  useStableCallback\n};\n//# sourceMappingURL=utils.js.map\n","import { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nfunction CatchBoundary(props) {\n  const errorComponent = props.errorComponent ?? ErrorComponent;\n  return /* @__PURE__ */ jsx(\n    CatchBoundaryImpl,\n    {\n      getResetKey: props.getResetKey,\n      onCatch: props.onCatch,\n      children: ({ error, reset }) => {\n        if (error) {\n          return React.createElement(errorComponent, {\n            error,\n            reset\n          });\n        }\n        return props.children;\n      }\n    }\n  );\n}\nclass CatchBoundaryImpl extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = { error: null };\n  }\n  static getDerivedStateFromProps(props) {\n    return { resetKey: props.getResetKey() };\n  }\n  static getDerivedStateFromError(error) {\n    return { error };\n  }\n  reset() {\n    this.setState({ error: null });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.error && prevState.resetKey !== this.state.resetKey) {\n      this.reset();\n    }\n  }\n  componentDidCatch(error, errorInfo) {\n    if (this.props.onCatch) {\n      this.props.onCatch(error, errorInfo);\n    }\n  }\n  render() {\n    return this.props.children({\n      error: this.state.resetKey !== this.props.getResetKey() ? null : this.state.error,\n      reset: () => {\n        this.reset();\n      }\n    });\n  }\n}\nfunction ErrorComponent({ error }) {\n  const [show, setShow] = React.useState(process.env.NODE_ENV !== \"production\");\n  return /* @__PURE__ */ jsxs(\"div\", { style: { padding: \".5rem\", maxWidth: \"100%\" }, children: [\n    /* @__PURE__ */ jsxs(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \".5rem\" }, children: [\n      /* @__PURE__ */ jsx(\"strong\", { style: { fontSize: \"1rem\" }, children: \"Something went wrong!\" }),\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          style: {\n            appearance: \"none\",\n            fontSize: \".6em\",\n            border: \"1px solid currentColor\",\n            padding: \".1rem .2rem\",\n            fontWeight: \"bold\",\n            borderRadius: \".25rem\"\n          },\n          onClick: () => setShow((d) => !d),\n          children: show ? \"Hide Error\" : \"Show Error\"\n        }\n      )\n    ] }),\n    /* @__PURE__ */ jsx(\"div\", { style: { height: \".25rem\" } }),\n    show ? /* @__PURE__ */ jsx(\"div\", { children: /* @__PURE__ */ jsx(\n      \"pre\",\n      {\n        style: {\n          fontSize: \".7em\",\n          border: \"1px solid red\",\n          borderRadius: \".25rem\",\n          padding: \".3rem\",\n          color: \"red\",\n          overflow: \"auto\"\n        },\n        children: error.message ? /* @__PURE__ */ jsx(\"code\", { children: error.message }) : null\n      }\n    ) }) : null\n  ] });\n}\nexport {\n  CatchBoundary,\n  ErrorComponent\n};\n//# sourceMappingURL=CatchBoundary.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport React__default from \"react\";\nfunction ClientOnly({ children, fallback = null }) {\n  return useHydrated() ? /* @__PURE__ */ jsx(React__default.Fragment, { children }) : /* @__PURE__ */ jsx(React__default.Fragment, { children: fallback });\n}\nfunction useHydrated() {\n  return React__default.useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\nexport {\n  ClientOnly,\n  useHydrated\n};\n//# sourceMappingURL=ClientOnly.js.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { useSyncExternalStoreWithSelector } from \"use-sync-external-store/shim/with-selector.js\";\nexport * from \"@tanstack/store\";\nfunction useStore(store, selector = (d) => d, options = {}) {\n  const equal = options.equal ?? shallow;\n  const slice = useSyncExternalStoreWithSelector(\n    store.subscribe,\n    () => store.state,\n    () => store.state,\n    selector,\n    equal\n  );\n  return slice;\n}\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false;\n    for (const [k, v] of objA) {\n      if (!objB.has(k) || !Object.is(v, objB.get(k))) return false;\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false;\n    for (const v of objA) {\n      if (!objB.has(v)) return false;\n    }\n    return true;\n  }\n  if (objA instanceof Date && objB instanceof Date) {\n    if (objA.getTime() !== objB.getTime()) return false;\n    return true;\n  }\n  const keysA = getOwnKeys(objA);\n  if (keysA.length !== getOwnKeys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getOwnKeys(obj) {\n  return Object.keys(obj).concat(\n    Object.getOwnPropertySymbols(obj)\n  );\n}\nexport {\n  shallow,\n  useStore\n};\n//# sourceMappingURL=index.js.map\n","import * as React from \"react\";\nconst routerContext = React.createContext(null);\nfunction getRouterContext() {\n  if (typeof document === \"undefined\") {\n    return routerContext;\n  }\n  if (window.__TSR_ROUTER_CONTEXT__) {\n    return window.__TSR_ROUTER_CONTEXT__;\n  }\n  window.__TSR_ROUTER_CONTEXT__ = routerContext;\n  return routerContext;\n}\nexport {\n  getRouterContext\n};\n//# sourceMappingURL=routerContext.js.map\n","import * as React from \"react\";\nimport warning from \"tiny-warning\";\nimport { getRouterContext } from \"./routerContext.js\";\nfunction useRouter(opts) {\n  const value = React.useContext(getRouterContext());\n  warning(\n    !((opts?.warn ?? true) && !value),\n    \"useRouter must be used inside a <RouterProvider> component!\"\n  );\n  return value;\n}\nexport {\n  useRouter\n};\n//# sourceMappingURL=useRouter.js.map\n","import { useStore } from \"@tanstack/react-store\";\nimport { useRef } from \"react\";\nimport { replaceEqualDeep } from \"@tanstack/router-core\";\nimport { useRouter } from \"./useRouter.js\";\nfunction useRouterState(opts) {\n  const contextRouter = useRouter({\n    warn: opts?.router === void 0\n  });\n  const router = opts?.router || contextRouter;\n  const previousResult = useRef(void 0);\n  return useStore(router.__store, (state) => {\n    if (opts?.select) {\n      if (opts.structuralSharing ?? router.options.defaultStructuralSharing) {\n        const newSlice = replaceEqualDeep(\n          previousResult.current,\n          opts.select(state)\n        );\n        previousResult.current = newSlice;\n        return newSlice;\n      }\n      return opts.select(state);\n    }\n    return state;\n  });\n}\nexport {\n  useRouterState\n};\n//# sourceMappingURL=useRouterState.js.map\n","import * as React from \"react\";\nconst matchContext = React.createContext(void 0);\nconst dummyMatchContext = React.createContext(\n  void 0\n);\nexport {\n  dummyMatchContext,\n  matchContext\n};\n//# sourceMappingURL=matchContext.js.map\n","import * as React from \"react\";\nimport invariant from \"tiny-invariant\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { dummyMatchContext, matchContext } from \"./matchContext.js\";\nfunction useMatch(opts) {\n  const nearestMatchId = React.useContext(\n    opts.from ? dummyMatchContext : matchContext\n  );\n  const matchSelection = useRouterState({\n    select: (state) => {\n      const match = state.matches.find(\n        (d) => opts.from ? opts.from === d.routeId : d.id === nearestMatchId\n      );\n      invariant(\n        !((opts.shouldThrow ?? true) && !match),\n        `Could not find ${opts.from ? `an active match from \"${opts.from}\"` : \"a nearest match!\"}`\n      );\n      if (match === void 0) {\n        return void 0;\n      }\n      return opts.select ? opts.select(match) : match;\n    },\n    structuralSharing: opts.structuralSharing\n  });\n  return matchSelection;\n}\nexport {\n  useMatch\n};\n//# sourceMappingURL=useMatch.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useLoaderData(opts) {\n  return useMatch({\n    from: opts.from,\n    strict: opts.strict,\n    structuralSharing: opts.structuralSharing,\n    select: (s) => {\n      return opts.select ? opts.select(s.loaderData) : s.loaderData;\n    }\n  });\n}\nexport {\n  useLoaderData\n};\n//# sourceMappingURL=useLoaderData.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useLoaderDeps(opts) {\n  const { select, ...rest } = opts;\n  return useMatch({\n    ...rest,\n    select: (s) => {\n      return select ? select(s.loaderDeps) : s.loaderDeps;\n    }\n  });\n}\nexport {\n  useLoaderDeps\n};\n//# sourceMappingURL=useLoaderDeps.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useParams(opts) {\n  return useMatch({\n    from: opts.from,\n    shouldThrow: opts.shouldThrow,\n    structuralSharing: opts.structuralSharing,\n    strict: opts.strict,\n    select: (match) => {\n      const params = opts.strict === false ? match.params : match._strictParams;\n      return opts.select ? opts.select(params) : params;\n    }\n  });\n}\nexport {\n  useParams\n};\n//# sourceMappingURL=useParams.js.map\n","import { useMatch } from \"./useMatch.js\";\nfunction useSearch(opts) {\n  return useMatch({\n    from: opts.from,\n    strict: opts.strict,\n    shouldThrow: opts.shouldThrow,\n    structuralSharing: opts.structuralSharing,\n    select: (match) => {\n      return opts.select ? opts.select(match.search) : match.search;\n    }\n  });\n}\nexport {\n  useSearch\n};\n//# sourceMappingURL=useSearch.js.map\n","import * as React from \"react\";\nimport { useLayoutEffect } from \"./utils.js\";\nimport { useRouter } from \"./useRouter.js\";\nfunction useNavigate(_defaultOpts) {\n  const router = useRouter();\n  return React.useCallback(\n    (options) => {\n      return router.navigate({\n        ...options,\n        from: options.from ?? _defaultOpts?.from\n      });\n    },\n    [_defaultOpts?.from, router]\n  );\n}\nfunction Navigate(props) {\n  const router = useRouter();\n  const navigate = useNavigate();\n  const previousPropsRef = React.useRef(null);\n  useLayoutEffect(() => {\n    if (previousPropsRef.current !== props) {\n      navigate(props);\n      previousPropsRef.current = props;\n    }\n  }, [router, props, navigate]);\n  return null;\n}\nexport {\n  Navigate,\n  useNavigate\n};\n//# sourceMappingURL=useNavigate.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { isDangerousProtocol, preloadWarning, functionalUpdate, exactPathTest, removeTrailingSlash, deepEqual } from \"@tanstack/router-core\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { useForwardedRef, useIntersectionObserver } from \"./utils.js\";\nfunction useLinkProps(options, forwardedRef) {\n  const router = useRouter();\n  const [isTransitioning, setIsTransitioning] = React.useState(false);\n  const hasRenderFetched = React.useRef(false);\n  const innerRef = useForwardedRef(forwardedRef);\n  const {\n    // custom props\n    activeProps,\n    inactiveProps,\n    activeOptions,\n    to,\n    preload: userPreload,\n    preloadDelay: userPreloadDelay,\n    hashScrollIntoView,\n    replace,\n    startTransition,\n    resetScroll,\n    viewTransition,\n    // element props\n    children,\n    target,\n    disabled,\n    style,\n    className,\n    onClick,\n    onFocus,\n    onMouseEnter,\n    onMouseLeave,\n    onTouchStart,\n    ignoreBlocker,\n    // prevent these from being returned\n    params: _params,\n    search: _search,\n    hash: _hash,\n    state: _state,\n    mask: _mask,\n    reloadDocument: _reloadDocument,\n    unsafeRelative: _unsafeRelative,\n    from: _from,\n    _fromLocation,\n    ...propsSafeToSpread\n  } = options;\n  const currentSearch = useRouterState({\n    select: (s) => s.location.search,\n    structuralSharing: true\n  });\n  const from = options.from;\n  const _options = React.useMemo(\n    () => {\n      return { ...options, from };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      router,\n      currentSearch,\n      from,\n      options._fromLocation,\n      options.hash,\n      options.to,\n      options.search,\n      options.params,\n      options.state,\n      options.mask,\n      options.unsafeRelative\n    ]\n  );\n  const next = React.useMemo(\n    () => router.buildLocation({ ..._options }),\n    [router, _options]\n  );\n  const hrefOption = React.useMemo(() => {\n    if (disabled) {\n      return void 0;\n    }\n    let href = next.maskedLocation ? next.maskedLocation.url.href : next.url.href;\n    let external = false;\n    if (router.origin) {\n      if (href.startsWith(router.origin)) {\n        href = router.history.createHref(href.replace(router.origin, \"\")) || \"/\";\n      } else {\n        external = true;\n      }\n    }\n    return { href, external };\n  }, [disabled, next.maskedLocation, next.url, router.origin, router.history]);\n  const externalLink = React.useMemo(() => {\n    if (hrefOption?.external) {\n      if (isDangerousProtocol(hrefOption.href)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.warn(\n            `Blocked Link with dangerous protocol: ${hrefOption.href}`\n          );\n        }\n        return void 0;\n      }\n      return hrefOption.href;\n    }\n    try {\n      new URL(to);\n      if (isDangerousProtocol(to)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.warn(`Blocked Link with dangerous protocol: ${to}`);\n        }\n        return void 0;\n      }\n      return to;\n    } catch {\n    }\n    return void 0;\n  }, [to, hrefOption]);\n  const preload = options.reloadDocument || externalLink ? false : userPreload ?? router.options.defaultPreload;\n  const preloadDelay = userPreloadDelay ?? router.options.defaultPreloadDelay ?? 0;\n  const isActive = useRouterState({\n    select: (s) => {\n      if (externalLink) return false;\n      if (activeOptions?.exact) {\n        const testExact = exactPathTest(\n          s.location.pathname,\n          next.pathname,\n          router.basepath\n        );\n        if (!testExact) {\n          return false;\n        }\n      } else {\n        const currentPathSplit = removeTrailingSlash(\n          s.location.pathname,\n          router.basepath\n        );\n        const nextPathSplit = removeTrailingSlash(\n          next.pathname,\n          router.basepath\n        );\n        const pathIsFuzzyEqual = currentPathSplit.startsWith(nextPathSplit) && (currentPathSplit.length === nextPathSplit.length || currentPathSplit[nextPathSplit.length] === \"/\");\n        if (!pathIsFuzzyEqual) {\n          return false;\n        }\n      }\n      if (activeOptions?.includeSearch ?? true) {\n        const searchTest = deepEqual(s.location.search, next.search, {\n          partial: !activeOptions?.exact,\n          ignoreUndefined: !activeOptions?.explicitUndefined\n        });\n        if (!searchTest) {\n          return false;\n        }\n      }\n      if (activeOptions?.includeHash) {\n        return s.location.hash === next.hash;\n      }\n      return true;\n    }\n  });\n  const doPreload = React.useCallback(() => {\n    router.preloadRoute({ ..._options }).catch((err) => {\n      console.warn(err);\n      console.warn(preloadWarning);\n    });\n  }, [router, _options]);\n  const preloadViewportIoCallback = React.useCallback(\n    (entry) => {\n      if (entry?.isIntersecting) {\n        doPreload();\n      }\n    },\n    [doPreload]\n  );\n  useIntersectionObserver(\n    innerRef,\n    preloadViewportIoCallback,\n    intersectionObserverOptions,\n    { disabled: !!disabled || !(preload === \"viewport\") }\n  );\n  React.useEffect(() => {\n    if (hasRenderFetched.current) {\n      return;\n    }\n    if (!disabled && preload === \"render\") {\n      doPreload();\n      hasRenderFetched.current = true;\n    }\n  }, [disabled, doPreload, preload]);\n  const handleClick = (e) => {\n    const elementTarget = e.currentTarget.getAttribute(\"target\");\n    const effectiveTarget = target !== void 0 ? target : elementTarget;\n    if (!disabled && !isCtrlEvent(e) && !e.defaultPrevented && (!effectiveTarget || effectiveTarget === \"_self\") && e.button === 0) {\n      e.preventDefault();\n      flushSync(() => {\n        setIsTransitioning(true);\n      });\n      const unsub = router.subscribe(\"onResolved\", () => {\n        unsub();\n        setIsTransitioning(false);\n      });\n      router.navigate({\n        ..._options,\n        replace,\n        resetScroll,\n        hashScrollIntoView,\n        startTransition,\n        viewTransition,\n        ignoreBlocker\n      });\n    }\n  };\n  if (externalLink) {\n    return {\n      ...propsSafeToSpread,\n      ref: innerRef,\n      href: externalLink,\n      ...children && { children },\n      ...target && { target },\n      ...disabled && { disabled },\n      ...style && { style },\n      ...className && { className },\n      ...onClick && { onClick },\n      ...onFocus && { onFocus },\n      ...onMouseEnter && { onMouseEnter },\n      ...onMouseLeave && { onMouseLeave },\n      ...onTouchStart && { onTouchStart }\n    };\n  }\n  const handleFocus = (_) => {\n    if (disabled) return;\n    if (preload) {\n      doPreload();\n    }\n  };\n  const handleTouchStart = handleFocus;\n  const handleEnter = (e) => {\n    if (disabled || !preload) return;\n    if (!preloadDelay) {\n      doPreload();\n    } else {\n      const eventTarget = e.target;\n      if (timeoutMap.has(eventTarget)) {\n        return;\n      }\n      const id = setTimeout(() => {\n        timeoutMap.delete(eventTarget);\n        doPreload();\n      }, preloadDelay);\n      timeoutMap.set(eventTarget, id);\n    }\n  };\n  const handleLeave = (e) => {\n    if (disabled || !preload || !preloadDelay) return;\n    const eventTarget = e.target;\n    const id = timeoutMap.get(eventTarget);\n    if (id) {\n      clearTimeout(id);\n      timeoutMap.delete(eventTarget);\n    }\n  };\n  const resolvedActiveProps = isActive ? functionalUpdate(activeProps, {}) ?? STATIC_ACTIVE_OBJECT : STATIC_EMPTY_OBJECT;\n  const resolvedInactiveProps = isActive ? STATIC_EMPTY_OBJECT : functionalUpdate(inactiveProps, {}) ?? STATIC_EMPTY_OBJECT;\n  const resolvedClassName = [\n    className,\n    resolvedActiveProps.className,\n    resolvedInactiveProps.className\n  ].filter(Boolean).join(\" \");\n  const resolvedStyle = (style || resolvedActiveProps.style || resolvedInactiveProps.style) && {\n    ...style,\n    ...resolvedActiveProps.style,\n    ...resolvedInactiveProps.style\n  };\n  return {\n    ...propsSafeToSpread,\n    ...resolvedActiveProps,\n    ...resolvedInactiveProps,\n    href: hrefOption?.href,\n    ref: innerRef,\n    onClick: composeHandlers([onClick, handleClick]),\n    onFocus: composeHandlers([onFocus, handleFocus]),\n    onMouseEnter: composeHandlers([onMouseEnter, handleEnter]),\n    onMouseLeave: composeHandlers([onMouseLeave, handleLeave]),\n    onTouchStart: composeHandlers([onTouchStart, handleTouchStart]),\n    disabled: !!disabled,\n    target,\n    ...resolvedStyle && { style: resolvedStyle },\n    ...resolvedClassName && { className: resolvedClassName },\n    ...disabled && STATIC_DISABLED_PROPS,\n    ...isActive && STATIC_ACTIVE_PROPS,\n    ...isTransitioning && STATIC_TRANSITIONING_PROPS\n  };\n}\nconst STATIC_EMPTY_OBJECT = {};\nconst STATIC_ACTIVE_OBJECT = { className: \"active\" };\nconst STATIC_DISABLED_PROPS = { role: \"link\", \"aria-disabled\": true };\nconst STATIC_ACTIVE_PROPS = { \"data-status\": \"active\", \"aria-current\": \"page\" };\nconst STATIC_TRANSITIONING_PROPS = { \"data-transitioning\": \"transitioning\" };\nconst timeoutMap = /* @__PURE__ */ new WeakMap();\nconst intersectionObserverOptions = {\n  rootMargin: \"100px\"\n};\nconst composeHandlers = (handlers) => (e) => {\n  for (const handler of handlers) {\n    if (!handler) continue;\n    if (e.defaultPrevented) return;\n    handler(e);\n  }\n};\nfunction createLink(Comp) {\n  return React.forwardRef(function CreatedLink(props, ref) {\n    return /* @__PURE__ */ jsx(Link, { ...props, _asChild: Comp, ref });\n  });\n}\nconst Link = React.forwardRef(\n  (props, ref) => {\n    const { _asChild, ...rest } = props;\n    const {\n      type: _type,\n      ref: innerRef,\n      ...linkProps\n    } = useLinkProps(rest, ref);\n    const children = typeof rest.children === \"function\" ? rest.children({\n      isActive: linkProps[\"data-status\"] === \"active\"\n    }) : rest.children;\n    if (_asChild === void 0) {\n      delete linkProps.disabled;\n    }\n    return React.createElement(\n      _asChild ? _asChild : \"a\",\n      {\n        ...linkProps,\n        ref: innerRef\n      },\n      children\n    );\n  }\n);\nfunction isCtrlEvent(e) {\n  return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey);\n}\nconst linkOptions = (options) => {\n  return options;\n};\nexport {\n  Link,\n  createLink,\n  linkOptions,\n  useLinkProps\n};\n//# sourceMappingURL=link.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { BaseRouteApi, notFound, BaseRoute, BaseRootRoute } from \"@tanstack/router-core\";\nimport React__default from \"react\";\nimport { useLoaderData } from \"./useLoaderData.js\";\nimport { useLoaderDeps } from \"./useLoaderDeps.js\";\nimport { useParams } from \"./useParams.js\";\nimport { useSearch } from \"./useSearch.js\";\nimport { useNavigate } from \"./useNavigate.js\";\nimport { useMatch } from \"./useMatch.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { Link } from \"./link.js\";\nfunction getRouteApi(id) {\n  return new RouteApi({ id });\n}\nclass RouteApi extends BaseRouteApi {\n  /**\n   * @deprecated Use the `getRouteApi` function instead.\n   */\n  constructor({ id }) {\n    super({ id });\n    this.useMatch = (opts) => {\n      return useMatch({\n        select: opts?.select,\n        from: this.id,\n        structuralSharing: opts?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts) => {\n      return useMatch({\n        from: this.id,\n        select: (d) => opts?.select ? opts.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts) => {\n      return useSearch({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useParams = (opts) => {\n      return useParams({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useLoaderDeps = (opts) => {\n      return useLoaderDeps({ ...opts, from: this.id, strict: false });\n    };\n    this.useLoaderData = (opts) => {\n      return useLoaderData({ ...opts, from: this.id, strict: false });\n    };\n    this.useNavigate = () => {\n      const router = useRouter();\n      return useNavigate({ from: router.routesById[this.id].fullPath });\n    };\n    this.notFound = (opts) => {\n      return notFound({ routeId: this.id, ...opts });\n    };\n    this.Link = React__default.forwardRef((props, ref) => {\n      const router = useRouter();\n      const fullPath = router.routesById[this.id].fullPath;\n      return /* @__PURE__ */ jsx(Link, { ref, from: fullPath, ...props });\n    });\n  }\n}\nclass Route extends BaseRoute {\n  /**\n   * @deprecated Use the `createRoute` function instead.\n   */\n  constructor(options) {\n    super(options);\n    this.useMatch = (opts) => {\n      return useMatch({\n        select: opts?.select,\n        from: this.id,\n        structuralSharing: opts?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts) => {\n      return useMatch({\n        ...opts,\n        from: this.id,\n        select: (d) => opts?.select ? opts.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts) => {\n      return useSearch({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useParams = (opts) => {\n      return useParams({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useLoaderDeps = (opts) => {\n      return useLoaderDeps({ ...opts, from: this.id });\n    };\n    this.useLoaderData = (opts) => {\n      return useLoaderData({ ...opts, from: this.id });\n    };\n    this.useNavigate = () => {\n      return useNavigate({ from: this.fullPath });\n    };\n    this.Link = React__default.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ jsx(Link, { ref, from: this.fullPath, ...props });\n      }\n    );\n    this.$$typeof = Symbol.for(\"react.memo\");\n  }\n}\nfunction createRoute(options) {\n  return new Route(\n    // TODO: Help us TypeChris, you're our only hope!\n    options\n  );\n}\nfunction createRootRouteWithContext() {\n  return (options) => {\n    return createRootRoute(options);\n  };\n}\nconst rootRouteWithContext = createRootRouteWithContext;\nclass RootRoute extends BaseRootRoute {\n  /**\n   * @deprecated `RootRoute` is now an internal implementation detail. Use `createRootRoute()` instead.\n   */\n  constructor(options) {\n    super(options);\n    this.useMatch = (opts) => {\n      return useMatch({\n        select: opts?.select,\n        from: this.id,\n        structuralSharing: opts?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts) => {\n      return useMatch({\n        ...opts,\n        from: this.id,\n        select: (d) => opts?.select ? opts.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts) => {\n      return useSearch({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useParams = (opts) => {\n      return useParams({\n        select: opts?.select,\n        structuralSharing: opts?.structuralSharing,\n        from: this.id\n      });\n    };\n    this.useLoaderDeps = (opts) => {\n      return useLoaderDeps({ ...opts, from: this.id });\n    };\n    this.useLoaderData = (opts) => {\n      return useLoaderData({ ...opts, from: this.id });\n    };\n    this.useNavigate = () => {\n      return useNavigate({ from: this.fullPath });\n    };\n    this.Link = React__default.forwardRef(\n      (props, ref) => {\n        return /* @__PURE__ */ jsx(Link, { ref, from: this.fullPath, ...props });\n      }\n    );\n    this.$$typeof = Symbol.for(\"react.memo\");\n  }\n}\nfunction createRootRoute(options) {\n  return new RootRoute(options);\n}\nfunction createRouteMask(opts) {\n  return opts;\n}\nclass NotFoundRoute extends Route {\n  constructor(options) {\n    super({\n      ...options,\n      id: \"404\"\n    });\n  }\n}\nexport {\n  NotFoundRoute,\n  RootRoute,\n  Route,\n  RouteApi,\n  createRootRoute,\n  createRootRouteWithContext,\n  createRoute,\n  createRouteMask,\n  getRouteApi,\n  rootRouteWithContext\n};\n//# sourceMappingURL=route.js.map\n","import warning from \"tiny-warning\";\nimport { createRoute } from \"./route.js\";\nimport { useMatch } from \"./useMatch.js\";\nimport { useLoaderDeps } from \"./useLoaderDeps.js\";\nimport { useLoaderData } from \"./useLoaderData.js\";\nimport { useSearch } from \"./useSearch.js\";\nimport { useParams } from \"./useParams.js\";\nimport { useNavigate } from \"./useNavigate.js\";\nimport { useRouter } from \"./useRouter.js\";\nfunction createFileRoute(path) {\n  if (typeof path === \"object\") {\n    return new FileRoute(path, {\n      silent: true\n    }).createRoute(path);\n  }\n  return new FileRoute(path, {\n    silent: true\n  }).createRoute;\n}\nclass FileRoute {\n  constructor(path, _opts) {\n    this.path = path;\n    this.createRoute = (options) => {\n      warning(\n        this.silent,\n        \"FileRoute is deprecated and will be removed in the next major version. Use the createFileRoute(path)(options) function instead.\"\n      );\n      const route = createRoute(options);\n      route.isRoot = false;\n      return route;\n    };\n    this.silent = _opts?.silent;\n  }\n}\nfunction FileRouteLoader(_path) {\n  warning(\n    false,\n    `FileRouteLoader is deprecated and will be removed in the next major version. Please place the loader function in the the main route file, inside the \\`createFileRoute('/path/to/file')(options)\\` options`\n  );\n  return (loaderFn) => loaderFn;\n}\nclass LazyRoute {\n  constructor(opts) {\n    this.useMatch = (opts2) => {\n      return useMatch({\n        select: opts2?.select,\n        from: this.options.id,\n        structuralSharing: opts2?.structuralSharing\n      });\n    };\n    this.useRouteContext = (opts2) => {\n      return useMatch({\n        from: this.options.id,\n        select: (d) => opts2?.select ? opts2.select(d.context) : d.context\n      });\n    };\n    this.useSearch = (opts2) => {\n      return useSearch({\n        select: opts2?.select,\n        structuralSharing: opts2?.structuralSharing,\n        from: this.options.id\n      });\n    };\n    this.useParams = (opts2) => {\n      return useParams({\n        select: opts2?.select,\n        structuralSharing: opts2?.structuralSharing,\n        from: this.options.id\n      });\n    };\n    this.useLoaderDeps = (opts2) => {\n      return useLoaderDeps({ ...opts2, from: this.options.id });\n    };\n    this.useLoaderData = (opts2) => {\n      return useLoaderData({ ...opts2, from: this.options.id });\n    };\n    this.useNavigate = () => {\n      const router = useRouter();\n      return useNavigate({ from: router.routesById[this.options.id].fullPath });\n    };\n    this.options = opts;\n    this.$$typeof = Symbol.for(\"react.memo\");\n  }\n}\nfunction createLazyRoute(id) {\n  return (opts) => {\n    return new LazyRoute({\n      id,\n      ...opts\n    });\n  };\n}\nfunction createLazyFileRoute(id) {\n  if (typeof id === \"object\") {\n    return new LazyRoute(id);\n  }\n  return (opts) => new LazyRoute({ id, ...opts });\n}\nexport {\n  FileRoute,\n  FileRouteLoader,\n  LazyRoute,\n  createFileRoute,\n  createLazyFileRoute,\n  createLazyRoute\n};\n//# sourceMappingURL=fileRoute.js.map\n","import * as React from \"react\";\nimport { trimPathRight, getLocationChangeInfo, handleHashScroll } from \"@tanstack/router-core\";\nimport { usePrevious, useLayoutEffect } from \"./utils.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nfunction Transitioner() {\n  const router = useRouter();\n  const mountLoadForRouter = React.useRef({ router, mounted: false });\n  const [isTransitioning, setIsTransitioning] = React.useState(false);\n  const { hasPendingMatches, isLoading } = useRouterState({\n    select: (s) => ({\n      isLoading: s.isLoading,\n      hasPendingMatches: s.matches.some((d) => d.status === \"pending\")\n    }),\n    structuralSharing: true\n  });\n  const previousIsLoading = usePrevious(isLoading);\n  const isAnyPending = isLoading || isTransitioning || hasPendingMatches;\n  const previousIsAnyPending = usePrevious(isAnyPending);\n  const isPagePending = isLoading || hasPendingMatches;\n  const previousIsPagePending = usePrevious(isPagePending);\n  router.startTransition = (fn) => {\n    setIsTransitioning(true);\n    React.startTransition(() => {\n      fn();\n      setIsTransitioning(false);\n    });\n  };\n  React.useEffect(() => {\n    const unsub = router.history.subscribe(router.load);\n    const nextLocation = router.buildLocation({\n      to: router.latestLocation.pathname,\n      search: true,\n      params: true,\n      hash: true,\n      state: true,\n      _includeValidateSearch: true\n    });\n    if (trimPathRight(router.latestLocation.publicHref) !== trimPathRight(nextLocation.publicHref)) {\n      router.commitLocation({ ...nextLocation, replace: true });\n    }\n    return () => {\n      unsub();\n    };\n  }, [router, router.history]);\n  useLayoutEffect(() => {\n    if (\n      // if we are hydrating from SSR, loading is triggered in ssr-client\n      typeof window !== \"undefined\" && router.ssr || mountLoadForRouter.current.router === router && mountLoadForRouter.current.mounted\n    ) {\n      return;\n    }\n    mountLoadForRouter.current = { router, mounted: true };\n    const tryLoad = async () => {\n      try {\n        await router.load();\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    tryLoad();\n  }, [router]);\n  useLayoutEffect(() => {\n    if (previousIsLoading && !isLoading) {\n      router.emit({\n        type: \"onLoad\",\n        // When the new URL has committed, when the new matches have been loaded into state.matches\n        ...getLocationChangeInfo(router.state)\n      });\n    }\n  }, [previousIsLoading, router, isLoading]);\n  useLayoutEffect(() => {\n    if (previousIsPagePending && !isPagePending) {\n      router.emit({\n        type: \"onBeforeRouteMount\",\n        ...getLocationChangeInfo(router.state)\n      });\n    }\n  }, [isPagePending, previousIsPagePending, router]);\n  useLayoutEffect(() => {\n    if (previousIsAnyPending && !isAnyPending) {\n      const changeInfo = getLocationChangeInfo(router.state);\n      router.emit({\n        type: \"onResolved\",\n        ...changeInfo\n      });\n      router.__store.setState((s) => ({\n        ...s,\n        status: \"idle\",\n        resolvedLocation: s.location\n      }));\n      if (changeInfo.hrefChanged) {\n        handleHashScroll(router);\n      }\n    }\n  }, [isAnyPending, previousIsAnyPending, router]);\n  return null;\n}\nexport {\n  Transitioner\n};\n//# sourceMappingURL=Transitioner.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { isNotFound } from \"@tanstack/router-core\";\nimport { CatchBoundary } from \"./CatchBoundary.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nfunction CatchNotFound(props) {\n  const resetKey = useRouterState({\n    select: (s) => `not-found-${s.location.pathname}-${s.status}`\n  });\n  return /* @__PURE__ */ jsx(\n    CatchBoundary,\n    {\n      getResetKey: () => resetKey,\n      onCatch: (error, errorInfo) => {\n        if (isNotFound(error)) {\n          props.onCatch?.(error, errorInfo);\n        } else {\n          throw error;\n        }\n      },\n      errorComponent: ({ error }) => {\n        if (isNotFound(error)) {\n          return props.fallback?.(error);\n        } else {\n          throw error;\n        }\n      },\n      children: props.children\n    }\n  );\n}\nfunction DefaultGlobalNotFound() {\n  return /* @__PURE__ */ jsx(\"p\", { children: \"Not Found\" });\n}\nexport {\n  CatchNotFound,\n  DefaultGlobalNotFound\n};\n//# sourceMappingURL=not-found.js.map\n","import { jsx, Fragment } from \"react/jsx-runtime\";\nfunction SafeFragment(props) {\n  return /* @__PURE__ */ jsx(Fragment, { children: props.children });\n}\nexport {\n  SafeFragment\n};\n//# sourceMappingURL=SafeFragment.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport warning from \"tiny-warning\";\nimport { DefaultGlobalNotFound } from \"./not-found.js\";\nfunction renderRouteNotFound(router, route, data) {\n  if (!route.options.notFoundComponent) {\n    if (router.options.defaultNotFoundComponent) {\n      return /* @__PURE__ */ jsx(router.options.defaultNotFoundComponent, { ...data });\n    }\n    if (process.env.NODE_ENV === \"development\") {\n      warning(\n        route.options.notFoundComponent,\n        `A notFoundError was encountered on the route with ID \"${route.id}\", but a notFoundComponent option was not configured, nor was a router level defaultNotFoundComponent configured. Consider configuring at least one of these to avoid TanStack Router's overly generic defaultNotFoundComponent (<p>Not Found</p>)`\n      );\n    }\n    return /* @__PURE__ */ jsx(DefaultGlobalNotFound, {});\n  }\n  return /* @__PURE__ */ jsx(route.options.notFoundComponent, { ...data });\n}\nexport {\n  renderRouteNotFound\n};\n//# sourceMappingURL=renderRouteNotFound.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { useRouter } from \"./useRouter.js\";\nfunction ScriptOnce({ children }) {\n  const router = useRouter();\n  if (!router.isServer) {\n    return null;\n  }\n  return /* @__PURE__ */ jsx(\n    \"script\",\n    {\n      nonce: router.options.ssr?.nonce,\n      dangerouslySetInnerHTML: {\n        __html: children + \";document.currentScript.remove()\"\n      }\n    }\n  );\n}\nexport {\n  ScriptOnce\n};\n//# sourceMappingURL=ScriptOnce.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { defaultGetScrollRestorationKey, restoreScroll, escapeHtml, storageKey } from \"@tanstack/router-core\";\nimport { useRouter } from \"./useRouter.js\";\nimport { ScriptOnce } from \"./ScriptOnce.js\";\nfunction ScrollRestoration() {\n  const router = useRouter();\n  if (!router.isScrollRestoring || !router.isServer) {\n    return null;\n  }\n  if (typeof router.options.scrollRestoration === \"function\") {\n    const shouldRestore = router.options.scrollRestoration({\n      location: router.latestLocation\n    });\n    if (!shouldRestore) {\n      return null;\n    }\n  }\n  const getKey = router.options.getScrollRestorationKey || defaultGetScrollRestorationKey;\n  const userKey = getKey(router.latestLocation);\n  const resolvedKey = userKey !== defaultGetScrollRestorationKey(router.latestLocation) ? userKey : void 0;\n  const restoreScrollOptions = {\n    storageKey,\n    shouldScrollRestoration: true\n  };\n  if (resolvedKey) {\n    restoreScrollOptions.key = resolvedKey;\n  }\n  return /* @__PURE__ */ jsx(\n    ScriptOnce,\n    {\n      children: `(${restoreScroll.toString()})(${escapeHtml(JSON.stringify(restoreScrollOptions))})`\n    }\n  );\n}\nexport {\n  ScrollRestoration\n};\n//# sourceMappingURL=scroll-restoration.js.map\n","import { jsxs, jsx, Fragment } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport invariant from \"tiny-invariant\";\nimport warning from \"tiny-warning\";\nimport { isNotFound, rootRouteId, createControlledPromise, isRedirect, getLocationChangeInfo } from \"@tanstack/router-core\";\nimport { CatchBoundary, ErrorComponent } from \"./CatchBoundary.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { CatchNotFound } from \"./not-found.js\";\nimport { matchContext } from \"./matchContext.js\";\nimport { SafeFragment } from \"./SafeFragment.js\";\nimport { renderRouteNotFound } from \"./renderRouteNotFound.js\";\nimport { ScrollRestoration } from \"./scroll-restoration.js\";\nimport { ClientOnly } from \"./ClientOnly.js\";\nconst Match = React.memo(function MatchImpl({\n  matchId\n}) {\n  const router = useRouter();\n  const matchState = useRouterState({\n    select: (s) => {\n      const match = s.matches.find((d) => d.id === matchId);\n      invariant(\n        match,\n        `Could not find match for matchId \"${matchId}\". Please file an issue!`\n      );\n      return {\n        routeId: match.routeId,\n        ssr: match.ssr,\n        _displayPending: match._displayPending\n      };\n    },\n    structuralSharing: true\n  });\n  const route = router.routesById[matchState.routeId];\n  const PendingComponent = route.options.pendingComponent ?? router.options.defaultPendingComponent;\n  const pendingElement = PendingComponent ? /* @__PURE__ */ jsx(PendingComponent, {}) : null;\n  const routeErrorComponent = route.options.errorComponent ?? router.options.defaultErrorComponent;\n  const routeOnCatch = route.options.onCatch ?? router.options.defaultOnCatch;\n  const routeNotFoundComponent = route.isRoot ? (\n    // If it's the root route, use the globalNotFound option, with fallback to the notFoundRoute's component\n    route.options.notFoundComponent ?? router.options.notFoundRoute?.options.component\n  ) : route.options.notFoundComponent;\n  const resolvedNoSsr = matchState.ssr === false || matchState.ssr === \"data-only\";\n  const ResolvedSuspenseBoundary = (\n    // If we're on the root route, allow forcefully wrapping in suspense\n    (!route.isRoot || route.options.wrapInSuspense || resolvedNoSsr) && (route.options.wrapInSuspense ?? PendingComponent ?? (route.options.errorComponent?.preload || resolvedNoSsr)) ? React.Suspense : SafeFragment\n  );\n  const ResolvedCatchBoundary = routeErrorComponent ? CatchBoundary : SafeFragment;\n  const ResolvedNotFoundBoundary = routeNotFoundComponent ? CatchNotFound : SafeFragment;\n  const resetKey = useRouterState({\n    select: (s) => s.loadedAt\n  });\n  const parentRouteId = useRouterState({\n    select: (s) => {\n      const index = s.matches.findIndex((d) => d.id === matchId);\n      return s.matches[index - 1]?.routeId;\n    }\n  });\n  const ShellComponent = route.isRoot ? route.options.shellComponent ?? SafeFragment : SafeFragment;\n  return /* @__PURE__ */ jsxs(ShellComponent, { children: [\n    /* @__PURE__ */ jsx(matchContext.Provider, { value: matchId, children: /* @__PURE__ */ jsx(ResolvedSuspenseBoundary, { fallback: pendingElement, children: /* @__PURE__ */ jsx(\n      ResolvedCatchBoundary,\n      {\n        getResetKey: () => resetKey,\n        errorComponent: routeErrorComponent || ErrorComponent,\n        onCatch: (error, errorInfo) => {\n          if (isNotFound(error)) throw error;\n          warning(false, `Error in route match: ${matchId}`);\n          routeOnCatch?.(error, errorInfo);\n        },\n        children: /* @__PURE__ */ jsx(\n          ResolvedNotFoundBoundary,\n          {\n            fallback: (error) => {\n              if (!routeNotFoundComponent || error.routeId && error.routeId !== matchState.routeId || !error.routeId && !route.isRoot)\n                throw error;\n              return React.createElement(routeNotFoundComponent, error);\n            },\n            children: resolvedNoSsr || matchState._displayPending ? /* @__PURE__ */ jsx(ClientOnly, { fallback: pendingElement, children: /* @__PURE__ */ jsx(MatchInner, { matchId }) }) : /* @__PURE__ */ jsx(MatchInner, { matchId })\n          }\n        )\n      }\n    ) }) }),\n    parentRouteId === rootRouteId && router.options.scrollRestoration ? /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(OnRendered, {}),\n      /* @__PURE__ */ jsx(ScrollRestoration, {})\n    ] }) : null\n  ] });\n});\nfunction OnRendered() {\n  const router = useRouter();\n  const prevLocationRef = React.useRef(\n    void 0\n  );\n  return /* @__PURE__ */ jsx(\n    \"script\",\n    {\n      suppressHydrationWarning: true,\n      ref: (el) => {\n        if (el && (prevLocationRef.current === void 0 || prevLocationRef.current.href !== router.latestLocation.href)) {\n          router.emit({\n            type: \"onRendered\",\n            ...getLocationChangeInfo(router.state)\n          });\n          prevLocationRef.current = router.latestLocation;\n        }\n      }\n    },\n    router.latestLocation.state.__TSR_key\n  );\n}\nconst MatchInner = React.memo(function MatchInnerImpl({\n  matchId\n}) {\n  const router = useRouter();\n  const { match, key, routeId } = useRouterState({\n    select: (s) => {\n      const match2 = s.matches.find((d) => d.id === matchId);\n      const routeId2 = match2.routeId;\n      const remountFn = router.routesById[routeId2].options.remountDeps ?? router.options.defaultRemountDeps;\n      const remountDeps = remountFn?.({\n        routeId: routeId2,\n        loaderDeps: match2.loaderDeps,\n        params: match2._strictParams,\n        search: match2._strictSearch\n      });\n      const key2 = remountDeps ? JSON.stringify(remountDeps) : void 0;\n      return {\n        key: key2,\n        routeId: routeId2,\n        match: {\n          id: match2.id,\n          status: match2.status,\n          error: match2.error,\n          invalid: match2.invalid,\n          _forcePending: match2._forcePending,\n          _displayPending: match2._displayPending\n        }\n      };\n    },\n    structuralSharing: true\n  });\n  const route = router.routesById[routeId];\n  const out = React.useMemo(() => {\n    const Comp = route.options.component ?? router.options.defaultComponent;\n    if (Comp) {\n      return /* @__PURE__ */ jsx(Comp, {}, key);\n    }\n    return /* @__PURE__ */ jsx(Outlet, {});\n  }, [key, route.options.component, router.options.defaultComponent]);\n  if (match._displayPending) {\n    throw router.getMatch(match.id)?._nonReactive.displayPendingPromise;\n  }\n  if (match._forcePending) {\n    throw router.getMatch(match.id)?._nonReactive.minPendingPromise;\n  }\n  if (match.status === \"pending\") {\n    const pendingMinMs = route.options.pendingMinMs ?? router.options.defaultPendingMinMs;\n    if (pendingMinMs) {\n      const routerMatch = router.getMatch(match.id);\n      if (routerMatch && !routerMatch._nonReactive.minPendingPromise) {\n        if (!router.isServer) {\n          const minPendingPromise = createControlledPromise();\n          routerMatch._nonReactive.minPendingPromise = minPendingPromise;\n          setTimeout(() => {\n            minPendingPromise.resolve();\n            routerMatch._nonReactive.minPendingPromise = void 0;\n          }, pendingMinMs);\n        }\n      }\n    }\n    throw router.getMatch(match.id)?._nonReactive.loadPromise;\n  }\n  if (match.status === \"notFound\") {\n    invariant(isNotFound(match.error), \"Expected a notFound error\");\n    return renderRouteNotFound(router, route, match.error);\n  }\n  if (match.status === \"redirected\") {\n    invariant(isRedirect(match.error), \"Expected a redirect error\");\n    throw router.getMatch(match.id)?._nonReactive.loadPromise;\n  }\n  if (match.status === \"error\") {\n    if (router.isServer) {\n      const RouteErrorComponent = (route.options.errorComponent ?? router.options.defaultErrorComponent) || ErrorComponent;\n      return /* @__PURE__ */ jsx(\n        RouteErrorComponent,\n        {\n          error: match.error,\n          reset: void 0,\n          info: {\n            componentStack: \"\"\n          }\n        }\n      );\n    }\n    throw match.error;\n  }\n  return out;\n});\nconst Outlet = React.memo(function OutletImpl() {\n  const router = useRouter();\n  const matchId = React.useContext(matchContext);\n  const routeId = useRouterState({\n    select: (s) => s.matches.find((d) => d.id === matchId)?.routeId\n  });\n  const route = router.routesById[routeId];\n  const parentGlobalNotFound = useRouterState({\n    select: (s) => {\n      const matches = s.matches;\n      const parentMatch = matches.find((d) => d.id === matchId);\n      invariant(\n        parentMatch,\n        `Could not find parent match for matchId \"${matchId}\"`\n      );\n      return parentMatch.globalNotFound;\n    }\n  });\n  const childMatchId = useRouterState({\n    select: (s) => {\n      const matches = s.matches;\n      const index = matches.findIndex((d) => d.id === matchId);\n      return matches[index + 1]?.id;\n    }\n  });\n  const pendingElement = router.options.defaultPendingComponent ? /* @__PURE__ */ jsx(router.options.defaultPendingComponent, {}) : null;\n  if (parentGlobalNotFound) {\n    return renderRouteNotFound(router, route, void 0);\n  }\n  if (!childMatchId) {\n    return null;\n  }\n  const nextMatch = /* @__PURE__ */ jsx(Match, { matchId: childMatchId });\n  if (routeId === rootRouteId) {\n    return /* @__PURE__ */ jsx(React.Suspense, { fallback: pendingElement, children: nextMatch });\n  }\n  return nextMatch;\n});\nexport {\n  Match,\n  MatchInner,\n  Outlet\n};\n//# sourceMappingURL=Match.js.map\n","import { jsxs, jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport warning from \"tiny-warning\";\nimport { rootRouteId } from \"@tanstack/router-core\";\nimport { CatchBoundary, ErrorComponent } from \"./CatchBoundary.js\";\nimport { useRouterState } from \"./useRouterState.js\";\nimport { useRouter } from \"./useRouter.js\";\nimport { Transitioner } from \"./Transitioner.js\";\nimport { matchContext } from \"./matchContext.js\";\nimport { Match } from \"./Match.js\";\nimport { SafeFragment } from \"./SafeFragment.js\";\nfunction Matches() {\n  const router = useRouter();\n  const rootRoute = router.routesById[rootRouteId];\n  const PendingComponent = rootRoute.options.pendingComponent ?? router.options.defaultPendingComponent;\n  const pendingElement = PendingComponent ? /* @__PURE__ */ jsx(PendingComponent, {}) : null;\n  const ResolvedSuspense = router.isServer || typeof document !== \"undefined\" && router.ssr ? SafeFragment : React.Suspense;\n  const inner = /* @__PURE__ */ jsxs(ResolvedSuspense, { fallback: pendingElement, children: [\n    !router.isServer && /* @__PURE__ */ jsx(Transitioner, {}),\n    /* @__PURE__ */ jsx(MatchesInner, {})\n  ] });\n  return router.options.InnerWrap ? /* @__PURE__ */ jsx(router.options.InnerWrap, { children: inner }) : inner;\n}\nfunction MatchesInner() {\n  const router = useRouter();\n  const matchId = useRouterState({\n    select: (s) => {\n      return s.matches[0]?.id;\n    }\n  });\n  const resetKey = useRouterState({\n    select: (s) => s.loadedAt\n  });\n  const matchComponent = matchId ? /* @__PURE__ */ jsx(Match, { matchId }) : null;\n  return /* @__PURE__ */ jsx(matchContext.Provider, { value: matchId, children: router.options.disableGlobalCatchBoundary ? matchComponent : /* @__PURE__ */ jsx(\n    CatchBoundary,\n    {\n      getResetKey: () => resetKey,\n      errorComponent: ErrorComponent,\n      onCatch: (error) => {\n        warning(\n          false,\n          `The following error wasn't caught by any route! At the very least, consider setting an 'errorComponent' in your RootRoute!`\n        );\n        warning(false, error.message || error.toString());\n      },\n      children: matchComponent\n    }\n  ) });\n}\nfunction useMatchRoute() {\n  const router = useRouter();\n  useRouterState({\n    select: (s) => [s.location.href, s.resolvedLocation?.href, s.status],\n    structuralSharing: true\n  });\n  return React.useCallback(\n    (opts) => {\n      const { pending, caseSensitive, fuzzy, includeSearch, ...rest } = opts;\n      return router.matchRoute(rest, {\n        pending,\n        caseSensitive,\n        fuzzy,\n        includeSearch\n      });\n    },\n    [router]\n  );\n}\nfunction MatchRoute(props) {\n  const matchRoute = useMatchRoute();\n  const params = matchRoute(props);\n  if (typeof props.children === \"function\") {\n    return props.children(params);\n  }\n  return params ? props.children : null;\n}\nfunction useMatches(opts) {\n  return useRouterState({\n    select: (state) => {\n      const matches = state.matches;\n      return opts?.select ? opts.select(matches) : matches;\n    },\n    structuralSharing: opts?.structuralSharing\n  });\n}\nfunction useParentMatches(opts) {\n  const contextMatchId = React.useContext(matchContext);\n  return useMatches({\n    select: (matches) => {\n      matches = matches.slice(\n        0,\n        matches.findIndex((d) => d.id === contextMatchId)\n      );\n      return opts?.select ? opts.select(matches) : matches;\n    },\n    structuralSharing: opts?.structuralSharing\n  });\n}\nfunction useChildMatches(opts) {\n  const contextMatchId = React.useContext(matchContext);\n  return useMatches({\n    select: (matches) => {\n      matches = matches.slice(\n        matches.findIndex((d) => d.id === contextMatchId) + 1\n      );\n      return opts?.select ? opts.select(matches) : matches;\n    },\n    structuralSharing: opts?.structuralSharing\n  });\n}\nexport {\n  MatchRoute,\n  Matches,\n  useChildMatches,\n  useMatchRoute,\n  useMatches,\n  useParentMatches\n};\n//# sourceMappingURL=Matches.js.map\n","import { RouterCore } from \"@tanstack/router-core\";\nimport { createFileRoute, createLazyFileRoute } from \"./fileRoute.js\";\nconst createRouter = (options) => {\n  return new Router(options);\n};\nclass Router extends RouterCore {\n  constructor(options) {\n    super(options);\n  }\n}\nif (typeof globalThis !== \"undefined\") {\n  globalThis.createFileRoute = createFileRoute;\n  globalThis.createLazyFileRoute = createLazyFileRoute;\n} else if (typeof window !== \"undefined\") {\n  window.createFileRoute = createFileRoute;\n  window.createLazyFileRoute = createLazyFileRoute;\n}\nexport {\n  Router,\n  createRouter\n};\n//# sourceMappingURL=router.js.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { Matches } from \"./Matches.js\";\nimport { getRouterContext } from \"./routerContext.js\";\nfunction RouterContextProvider({\n  router,\n  children,\n  ...rest\n}) {\n  if (Object.keys(rest).length > 0) {\n    router.update({\n      ...router.options,\n      ...rest,\n      context: {\n        ...router.options.context,\n        ...rest.context\n      }\n    });\n  }\n  const routerContext = getRouterContext();\n  const provider = /* @__PURE__ */ jsx(routerContext.Provider, { value: router, children });\n  if (router.options.Wrap) {\n    return /* @__PURE__ */ jsx(router.options.Wrap, { children: provider });\n  }\n  return provider;\n}\nfunction RouterProvider({ router, ...rest }) {\n  return /* @__PURE__ */ jsx(RouterContextProvider, { router, ...rest, children: /* @__PURE__ */ jsx(Matches, {}) });\n}\nexport {\n  RouterContextProvider,\n  RouterProvider\n};\n//# sourceMappingURL=RouterProvider.js.map\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","__storeToDerived","__derivedToStore","__depsThatHaveWrittenThisTick","__isFlushing","__batchDepth","__pendingUpdates","__initialBatchValues","__flush_internals","relatedVals","derived","stores","store","relatedLinkedDerivedVals","__notifyListeners","value","listener","__notifyDerivedListeners","__flush","store2","prevState","derivedVals","batch","fn","pendingUpdateToFlush","isUpdaterFunction","updater","Store","initialState","options","_a","_b","unsub","_c","stateIndexKey","popStateEvent","beforeUnloadEvent","createHistory","opts","location","subscribers","notify","action","subscriber","handleIndexChange","tryNavigation","task","navigateOpts","actionInfo","blockers","isPushOrReplace","blocker","nextLocation","parseHref","cb","path","state","currentIndex","assignKeyAndIndex","index","str","blockers2","key","createRandomKey","createBrowserHistory","win","originalPushState","originalReplaceState","_getBlockers","_setBlockers","newBlockers","createHref","parseLocation","addedKey","currentLocation","rollbackLocation","nextPopIsGo","ignoreNextPop","skipBlockerNextPop","ignoreNextBeforeUnload","getLocation","next","scheduled","flush","history","queueHistoryAction","type","destHref","href","onPushPop","onPushPopEvent","delta","isForward","isBack","isGo","onBeforeUnload","shouldBlock","shouldHaveBeforeUnload","ignoreBlocker","args","res","createHashHistory","hashSplit","pathPart","searchPart","hashEntries","hashPart","hashHref","sanitizePath","sanitized","sanitizedHref","hashIndex","searchIndex","last","arr","isFunction","functionalUpdate","previous","hasOwn","replaceEqualDeep","prev","_next","array","isPlainArray","isPlainObject","prevItems","getEnumerableOwnKeys","nextItems","prevSize","nextSize","copy","equalItems","i","v","o","keys","names","name","symbols","symbol","hasObjectPrototype","ctor","prot","deepEqual","ignoreUndefined","aCount","bCount","createControlledPromise","onResolve","resolveLoadPromise","rejectLoadPromise","controlledPromise","resolve","reject","isPromise","sanitizePathSegment","segment","decodeSegment","decoded","match","SAFE_URL_PROTOCOLS","isDangerousProtocol","url","parsed","HTML_ESCAPE_LOOKUP","HTML_ESCAPE_REGEX","escapeHtml","decodePath","decodeIgnore","re","cursor","result","prefix","invariant","condition","message","createLRUCache","max","cache","oldest","newest","touch","entry","toDelete","existing","SEGMENT_TYPE_PATHNAME","SEGMENT_TYPE_PARAM","SEGMENT_TYPE_WILDCARD","SEGMENT_TYPE_OPTIONAL_PARAM","SEGMENT_TYPE_INDEX","SEGMENT_TYPE_PATHLESS","PARAM_W_CURLY_BRACES_RE","OPTIONAL_PARAM_W_CURLY_BRACES_RE","WILDCARD_W_CURLY_BRACES_RE","parseSegment","start","output","end","part","total","wildcardBracesMatch","pLength","optionalParamBracesMatch","paramName","suffix","paramBracesMatch","parseSegments","defaultCaseSensitive","data","route","node","depth","onRoute","length","caseSensitive","skipOnParamError","_e","_d","nextNode","start2","existingNode","_f","createStaticNode","_g","prefix_raw","suffix_raw","actuallyCaseSensitive","_h","s","createDynamicNode","_i","pathlessNode","isLeaf","indexNode","_k","_j","_m","_l","child","sortDynamic","sortTreeNodes","fullPath","kind","processRouteMasks","routeList","processedTree","segmentTree","findFlatMatch","cached","findMatch","findSingleMatch","from","fuzzy","tree","findRouteMatch","buildRouteBranch","trimPathRight","processRouteTree","routeTree","initRoute","routesById","routesByPath","trimmedFullPath","parts","leaf","getNodeMatch","rawParams","extractParams","list","buildBranch","nodeParts","partIndex","nodeIndex","pathIndex","currentPathIndex","nodePart","preLength","sufLength","splat","trailingSlash","pathIsIndex","partsLength","stack","wildcardMatch","bestFuzzy","bestMatch","frame","skipped","statics","dynamics","optionals","extract","parsedParams","validateMatchParams","isFrameMoreSpecific","isBeyondPath","lowerPart","indexFrame","frame2","nextSkipped","nextDepth","casePart","sliceIndex","joinPaths","paths","cleanPath","val","trimPathLeft","len","trimPath","removeTrailingSlash","basepath","exactPathTest","pathName1","pathName2","resolvePath","base","to","isAbsolute","isBase","baseSegments","toSegments","joined","encodeParam","params","decodeCharMap","encodePathParam","interpolatePath","isMissingParams","usedParams","valueRaw","encoded","encodedChar","char","isNotFound","obj","getSafeSessionStorage","storageKey","throttle","wait","timeout","createScrollRestorationCache","safeSessionStorage","persistedState","scrollRestorationCache","defaultGetScrollRestorationKey","getCssSelector","el","parent","ignoreScroll","restoreScroll","storageKey2","behavior","shouldScrollRestoration","scrollToTopSelectors","byKey","error","resolvedKey","elementEntries","scroll","elementSelector","element","hash","hashScrollIntoViewOptions","scrollOptions","selector","setupScrollRestoration","router","force","getKey","onScroll","event","attrId","restoreKey","keyEntry","elementEntry","cacheKey","handleHashScroll","encode","stringify","toValue","decode","searchParams","previousValue","defaultParseSearch","parseSearchWith","defaultStringifySearch","stringifySearchWith","parser","searchStr","query","hasParser","stringifyValue","search","rootRouteId","redirect","headers","response","isRedirect","triggerOnReady","inner","resolvePreload","matchId","buildMatchContext","includeCurrentMatch","context","innerMatch","_handleNotFound","err","routeCursor","matchForRoute","handleRedirectAndNotFound","status","shouldSkipLoader","handleSerialError","routerCode","routeId","errorHandlerErr","isBeforeLoadSsr","existingMatch","parentMatchId","parentMatch","parentOverride","tempSsr2","defaultSsr","ssrFnContext","makeMaybe","tempSsr","ssr","setupPendingTimeout","pendingMs","routeNeedsPreload","pendingTimeout","preBeforeLoadSetup","then","executeBeforeLoad","prevLoadPromise","paramsError","searchError","abortController","isPending","pending","cause","preload","beforeLoadFnContext","updateContext","beforeLoadContext2","beforeLoadContext","handleBeforeLoad","serverSsr","maybePromise","queueExecution","execute","executeHead","assetContext","headFnContent","scripts","meta","links","headScripts","styles","getLoaderContext","parentMatchPromise","loaderDeps","runLoader","loadRouteChunk","loaderResult","loaderResultIsPromise","loaderData","pendingPromise","onErrorError","loadRouteMatch","loaderShouldRunAsync","loaderIsRunningAsync","commitContext","prevMatch","match2","age","staleAge","shouldReloadOption","shouldReload","nextPreload","invalid","match3","nextIsFetching","loadMatches","arg","beforeLoad","failures","firstNotFound","headResult","head","readyPromise","lazyRoute","_id","loadComponents","preloads","componentTypes","componentType","composeRewrites","rewrites","rewrite","executeRewriteInput","executeRewriteOutput","rewriteBasepath","trimmedBasepath","normalizedBasepath","normalizedBasepathWithSlash","checkBasepath","checkBasepathWithSlash","pathname","getLocationChangeInfo","routerState","fromLocation","toLocation","pathChanged","hrefChanged","hashChanged","RouterCore","newOptions","prevOptions","prevBasepath","basepathWasUnset","prevRewriteOption","getInitialRouterState","needsLocationUpdate","nextBasepath","nextRewriteOption","notFoundRoute","eventType","routerEvent","locationToParse","previousLocation","parse","fullUrl","parsedSearch","__tempLocation","__tempKey","parsedTempLocation","pathnameOrNext","locationSearchOrOpts","getMatchedRoutes","id","currentPendingMatches","currentLoadingMatches","build","dest","allCurrentLocationMatches","lastMatch","defaultedFromPath","fromPath","fromSearch","fromParams","nextTo","nextParams","interpolatedNextTo","destRoutes","nextPathname","nextSearch","validatedSearch","validateSearch","applySearchMiddleware","hashStr","nextState","rewrittenUrl","buildWithMatches","maskedDest","maskedNext","_from","maskParams","maskProps","viewTransition","isSameState","ignoredProps","prop","isEqual","isSameUrl","previousCommitPromise","maskedLocation","hashScrollIntoView","_url","nextHistory","replace","resetScroll","rest","hrefUrl","commitPromise","reloadDocument","publicHref","hrefIsUrl","reloadHref","historyWithBlockers","pendingMatches","redirect2","notFound","loadPromise","prevLocation","exitingMatches","enteringMatches","stayingMatches","previousMatches","newMatches","matches","hook","newStatusCode","shouldViewTransition","startViewTransitionParams","resolvedViewTransitionTypes","matchesKey","findFn","invalidate","locationHeader","filter","gcTime","activeMatchIds","loadedMatchIds","matchLocation","baseLocation","matchedRoutesResult","foundRoute","routeParams","matchedRoutes","isGlobalNotFound","globalNotFoundRouteId","getParentContext","preMatchSearch","strictMatchSearch","parentSearch","parentStrictSearch","strictSearch","searchParamError","SearchParamError","loaderDepsHash","interpolatedPath","previousMatch","strictParams","strictParseParams","PathParamError","parentContext","contextFnContext","opts2","validateSearch2","input","trimmedPath","_includeValidateSearch","allMiddlewares","acc","middlewares","legacyMiddleware","search2","next2","validate","final","applyNext","currentSearch","middleware","newSearch","preloadWarning","BaseRoute","options2","isRoot","customId","children","lazyFn","BaseRootRoute","useLayoutEffect","React.useLayoutEffect","React.useEffect","usePrevious","ref","React.useRef","current","useIntersectionObserver","callback","intersectionObserverOptions","observer","useForwardedRef","innerRef","React.useImperativeHandle","CatchBoundary","props","errorComponent","ErrorComponent","jsx","CatchBoundaryImpl","reset","React.createElement","React.Component","prevProps","errorInfo","show","setShow","React.useState","jsxs","ClientOnly","fallback","useHydrated","React__default","subscribe","React","is","x","y","objectIs","useState","useEffect","useDebugValue","useSyncExternalStore$2","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","useStore","equal","shallow","useSyncExternalStoreWithSelector","objA","objB","keysA","getOwnKeys","routerContext","React.createContext","getRouterContext","useRouter","React.useContext","useRouterState","contextRouter","previousResult","newSlice","matchContext","dummyMatchContext","useMatch","nearestMatchId","useLoaderData","useLoaderDeps","select","useParams","useSearch","useNavigate","_defaultOpts","React.useCallback","useLinkProps","forwardedRef","isTransitioning","setIsTransitioning","hasRenderFetched","activeProps","inactiveProps","activeOptions","userPreload","userPreloadDelay","startTransition","target","disabled","style","className","onClick","onFocus","onMouseEnter","onMouseLeave","onTouchStart","_params","_search","_hash","_state","_mask","_reloadDocument","_unsafeRelative","_fromLocation","propsSafeToSpread","_options","React.useMemo","hrefOption","external","externalLink","preloadDelay","isActive","currentPathSplit","nextPathSplit","doPreload","preloadViewportIoCallback","handleClick","elementTarget","effectiveTarget","isCtrlEvent","flushSync","handleFocus","_","handleTouchStart","handleEnter","eventTarget","timeoutMap","handleLeave","resolvedActiveProps","STATIC_ACTIVE_OBJECT","STATIC_EMPTY_OBJECT","resolvedInactiveProps","resolvedClassName","resolvedStyle","composeHandlers","STATIC_DISABLED_PROPS","STATIC_ACTIVE_PROPS","STATIC_TRANSITIONING_PROPS","handlers","handler","Link","React.forwardRef","_asChild","_type","linkProps","Route","createRoute","RootRoute","createRootRoute","createFileRoute","FileRoute","_opts","LazyRoute","createLazyFileRoute","Transitioner","mountLoadForRouter","hasPendingMatches","isLoading","previousIsLoading","isAnyPending","previousIsAnyPending","isPagePending","previousIsPagePending","React.startTransition","changeInfo","CatchNotFound","resetKey","DefaultGlobalNotFound","SafeFragment","Fragment","renderRouteNotFound","ScriptOnce","ScrollRestoration","userKey","restoreScrollOptions","Match","React.memo","matchState","PendingComponent","pendingElement","routeErrorComponent","routeOnCatch","routeNotFoundComponent","resolvedNoSsr","ResolvedSuspenseBoundary","React.Suspense","ResolvedCatchBoundary","ResolvedNotFoundBoundary","parentRouteId","ShellComponent","MatchInner","OnRendered","prevLocationRef","routeId2","remountFn","remountDeps","out","Comp","Outlet","pendingMinMs","routerMatch","minPendingPromise","RouteErrorComponent","parentGlobalNotFound","childMatchId","nextMatch","Matches","ResolvedSuspense","MatchesInner","matchComponent","createRouter","Router","RouterContextProvider","provider","RouterProvider"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52]}